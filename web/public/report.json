{
  "generated_at": "2026-01-22T03:10:59+08:00",
  "source": "reports",
  "cases": [
    {
      "id": "case_0028_019be1f7-0cc0-7061-94ac-896b8e2db4a2",
      "dir": "reports/case_0028_019be1f7-0cc0-7061-94ac-896b8e2db4a2",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:10:22+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "ec78c52d4b9786c1466cbdf4ad57ff48414fc0d7",
      "plan_signature_format": "plain",
      "expected": "optimized count=2",
      "actual": "unoptimized count=30",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT DISTINCT ROUND(t1.c1) AS c0, t1.c0 AS c1 FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0 WHERE ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') ORDER BY ROUND(t1.c1) DESC) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') THEN 1 ELSE 0 END),0) FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0",
      "norec_predicate": "('2024-01-15 08:50:00' < '2024-01-20 12:22:00')",
      "sql": [
        "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT DISTINCT ROUND(t1.c1) AS c0, t1.c0 AS c1 FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0 WHERE ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') ORDER BY ROUND(t1.c1) DESC",
        "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT (CASE WHEN ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') THEN 1 ELSE 0 END) AS b FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0"
      ],
      "plan_replayer": "reports/case_0028_019be1f7-0cc0-7061-94ac-896b8e2db4a2/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT DISTINCT ROUND(t1.c1) AS c0, t1.c0 AS c1 FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0 WHERE ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') ORDER BY ROUND(t1.c1) DESC) q",
        "norec_predicate": "('2024-01-15 08:50:00' < '2024-01-20 12:22:00')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') THEN 1 ELSE 0 END),0) FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0",
        "optimized_explain": "HashAgg_30\t1.00\troot\t\tfuncs:count(1)->Column#24\n└─HashAgg_36\t8000.00\troot\t\tgroup by:Column#32, Column#33, funcs:firstrow(1)->Column#30\n  └─Projection_112\t100000000.00\troot\t\tround(shiro_fuzz_r27.t1.c1)->Column#32, shiro_fuzz_r27.t1.c0->Column#33\n    └─HashJoin_56\t100000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_65(Build)\t10000.00\troot\t\tleft outer join, left side:TableReader_68, equal:[eq(shiro_fuzz_r27.t1.c0, Column#27)]\n      │ ├─Projection_71(Build)\t4.00\troot\t\tcast(shiro_fuzz_r27.t1.id, double BINARY)->Column#27\n      │ │ └─Projection_87\t4.00\troot\t\tshiro_fuzz_r27.t1.id\n      │ │   └─IndexMerge_86\t4.00\troot\t\ttype: union, limit embedded(offset:0, count:4)\n      │ │     ├─Limit_84(Build)\t2.40\tcop[tikv]\t\toffset:0, count:4\n      │ │     │ └─IndexRangeScan_81\t2.40\tcop[tikv]\ttable:t1, index:idx_c2(c2)\trange:[2024-01-17 08:56:00,+inf], keep order:false, stats:pseudo\n      │ │     ├─Limit_85(Build)\t2.40\tcop[tikv]\t\toffset:0, count:4\n      │ │     │ └─IndexRangeScan_82\t2.40\tcop[tikv]\ttable:t1, index:idx_c1(c1)\trange:[-inf,19.82], keep order:false, stats:pseudo\n      │ │     └─TableRowIDScan_83(Probe)\t4.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      │ └─TableReader_68(Probe)\t10000.00\troot\t\tdata:TableFullScan_67\n      │   └─TableFullScan_67\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─IndexReader_98(Probe)\t10000.00\troot\t\tindex:IndexFullScan_97\n        └─IndexFullScan_97\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') THEN 1 ELSE 0 END),0) FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT DISTINCT ROUND(t1.c1) AS c0, t1.c0 AS c1 FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0 WHERE ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') ORDER BY ROUND(t1.c1) DESC) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_22\t1.00\troot\t\tifnull(Column#21, 0)->Column#22\n└─HashAgg_26\t1.00\troot\t\tfuncs:sum(1)->Column#21\n  └─HashJoin_44\t100000000.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_53(Build)\t10000.00\troot\t\tleft outer join, left side:IndexReader_58, equal:[eq(shiro_fuzz_r27.t1.c0, Column#24)]\n    │ ├─Projection_61(Build)\t4.00\troot\t\tcast(shiro_fuzz_r27.t1.id, double BINARY)->Column#24\n    │ │ └─Projection_77\t4.00\troot\t\tshiro_fuzz_r27.t1.id\n    │ │   └─IndexMerge_76\t4.00\troot\t\ttype: union, limit embedded(offset:0, count:4)\n    │ │     ├─Limit_74(Build)\t2.40\tcop[tikv]\t\toffset:0, count:4\n    │ │     │ └─IndexRangeScan_71\t2.40\tcop[tikv]\ttable:t1, index:idx_c2(c2)\trange:[2024-01-17 08:56:00,+inf], keep order:false, stats:pseudo\n    │ │     ├─Limit_75(Build)\t2.40\tcop[tikv]\t\toffset:0, count:4\n    │ │     │ └─IndexRangeScan_72\t2.40\tcop[tikv]\ttable:t1, index:idx_c1(c1)\trange:[-inf,19.82], keep order:false, stats:pseudo\n    │ │     └─TableRowIDScan_73(Probe)\t4.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n    │ └─IndexReader_58(Probe)\t10000.00\troot\t\tindex:IndexFullScan_57\n    │   └─IndexFullScan_57\t10000.00\tcop[tikv]\ttable:t1, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n    └─IndexReader_88(Probe)\t10000.00\troot\t\tindex:IndexFullScan_87\n      └─IndexFullScan_87\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT DISTINCT ROUND(t1.c1) AS c0, t1.c0 AS c1 FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0 WHERE ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') ORDER BY ROUND(t1.c1) DESC;\nWITH cte_0 AS (SELECT t1.id AS c0, t1.c1 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 >= '2024-01-17 08:56:00') OR ((t1.c1 < 26.45) AND (t1.c1 < 19.82))) LIMIT 4) SELECT (CASE WHEN ('2024-01-15 08:50:00' < '2024-01-20 12:22:00') THEN 1 ELSE 0 END) AS b FROM t1 LEFT JOIN cte_0 USING (c0) CROSS JOIN t0;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n47\t2024-01-27 12:22:00\t13.46\t66\t91.97\n48\t2024-01-19 12:53:00\t47.28\t95\t86.25\n49\t2024-01-16 12:58:00\t36.24\t38\t23.3\n50\t2024-01-02 12:45:00\t19.55\t8\t60.02\n51\t2024-01-06 12:29:00\t23.49\t73\t93.95\n52\t2024-01-25 12:36:00\t26.87\t97\t84.59\n53\t2024-01-20 12:31:00\t76.21\t75\t60.99\n54\t2024-01-20 12:07:00\t1.02\t31\t24.69\n55\t2024-01-01 12:06:00\t82.80\t8\t45.82\n56\t2024-01-05 12:34:00\t65.84\t50\t19.85\n57\t2024-01-27 12:27:00\t2.70\t63\t90.16\n58\t2024-01-20 12:31:00\t86.10\t25\t85.49\n59\t2024-01-10 12:29:00\t79.87\t62\t36.64\n60\t2024-01-06 12:27:00\t66.71\t90\t52.62\n61\t2024-01-13 12:50:00\t78.96\t1\t84.48\n\n-- t1\n45\t99.88\t55.84\t2024-01-10 08:28:00\n46\t55.06\t45.35\t2024-01-14 08:55:00\n\n-- t2\n4\t1\t58\n6\t1\t97\n8\t0\t7\n10\t1\t65\n3\t1\t88\n5\t1\t17\n7\t1\t66\n9\t1\t98\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3) VALUES (1, '2024-01-05 12:46:00', 28.84, 13, 6.01), (2, '2024-01-21 12:30:00', 66.85, 0, 60.17), (3, '2024-01-27 12:25:00', 48.29, 60, 68.73);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (4, '2024-01-17 12:01:00', 97.31, 93, 81.84), (5, '2024-01-28 12:55:00', 78.27, 37, 29.03), (6, '2024-01-11 12:32:00', 49.79, 4, 84.04);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (7, '2024-01-06 12:14:00', 34.73, 21, 62.49), (8, '2024-01-22 12:56:00', 79.73, 51, 5.38);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (9, '2024-01-03 12:47:00', 23.78, 19, 97.52);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (10, '2024-01-19 12:01:00', 62.88, 18, 28.72);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (11, '2024-01-08 12:22:00', 78.77, 85, 88.2), (12, '2024-01-11 12:40:00', 67.68, 65, 36.3), (13, '2024-01-16 12:37:00', 5.14, 43, 39.44);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (14, '2024-01-15 12:49:00', 71.71, 23, 86.66), (15, '2024-01-14 12:41:00', 39.83, 8, 60.89);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (16, '2024-01-13 12:04:00', 67.09, 72, 22.65);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (17, '2024-01-16 12:44:00', 62.31, 59, 12.04), (18, '2024-01-17 12:31:00', 13.27, 59, 2.08);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (19, '2024-01-20 12:37:00', 52.14, 36, 50.17), (20, '2024-01-24 12:16:00', 40.89, 5, 75.51);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (21, '2024-01-26 12:17:00', 70.92, 61, 32.38), (22, '2024-01-06 12:26:00', 64.9, 79, 45.11), (23, '2024-01-09 12:02:00', 39.09, 81, 31.34);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (24, '2024-01-14 12:13:00', 23.21, 78, 78.44), (25, '2024-01-26 12:38:00', 76.38, 93, 28.22), (26, '2024-01-16 12:43:00', 34.78, 8, 55.7);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (27, '2024-01-05 12:17:00', 28.16, 69, 47.77);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (28, '2024-01-09 12:06:00', 37.03, 56, 77.24), (29, '2024-01-07 12:43:00', 56.28, 23, 22.53);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (30, '2024-01-10 12:47:00', 9.9, 92, 46.05), (31, '2024-01-22 12:25:00', 4.29, 72, 76.18), (32, '2024-01-14 12:37:00', 84.53, 40, 2.01);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (33, '2024-01-22 12:06:00', 16.24, 68, 11.8);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (34, '2024-01-10 12:25:00', 95.78, 82, 17.56), (35, '2024-01-24 12:20:00', 15.94, 98, 90.84), (36, '2024-01-22 12:44:00', 29.08, 4, 67.68);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (37, '2024-01-24 12:26:00', 12.77, 14, 78.07), (38, '2024-01-11 12:43:00', 73.1, 74, 86.3);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (39, '2024-01-01 12:00:00', 14.55, 73, 96.18), (40, '2024-01-21 12:29:00', 44.04, 78, 76.56), (41, '2024-01-20 12:23:00', 53.05, 34, 39.49);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (42, '2024-01-08 12:38:00', 66.45, 73, 36.06), (43, '2024-01-11 12:46:00', 60.02, 97, 60.48);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 78.8, 70.07, '2024-01-27 08:19:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (2, 85.9, 56.64, '2024-01-13 08:34:00'), (3, 18.91, 85.49, '2024-01-05 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (4, 71.43, 85.02, '2024-01-06 08:30:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (5, 21.95, 75.49, '2024-01-07 08:44:00'), (6, 2.09, 75.96, '2024-01-03 08:44:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (7, 56.93, 91.32, '2024-01-25 08:00:00'), (8, 36.24, 96.96, '2024-01-27 08:28:00'), (9, 8.21, 30.15, '2024-01-08 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (10, 7.25, 27.35, '2024-01-14 08:16:00'), (11, 59.6, 24.96, '2024-01-16 08:29:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (12, 77.57, 76.95, '2024-01-04 08:57:00'), (13, 73.17, 27.32, '2024-01-13 08:30:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (14, 43.11, 78.46, '2024-01-03 08:27:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (15, 79.32, 58.31, '2024-01-15 08:34:00'), (16, 31.29, 95.13, '2024-01-26 08:25:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (17, 35.98, 57.45, '2024-01-08 08:30:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (18, 31.25, 83.15, '2024-01-18 08:21:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (19, 79.06, 91.68, '2024-01-17 08:27:00'), (20, 52.36, 17.3, '2024-01-24 08:07:00'), (21, 31.22, 4.05, '2024-01-23 08:09:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (22, 69.89, 22.27, '2024-01-04 08:10:00'), (23, 19.82, 65.4, '2024-01-06 08:29:00'), (24, 91.33, 55.27, '2024-01-03 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (25, 78.31, 0.44, '2024-01-28 08:22:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (26, 76.82, 68.7, '2024-01-22 08:47:00'), (27, 85.71, 22.69, '2024-01-03 08:53:00'), (28, 94.08, 28.13, '2024-01-16 08:04:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (29, 0.26, 10.27, '2024-01-14 08:43:00'), (30, 44.85, 58.49, '2024-01-02 08:27:00'), (31, 81.84, 65.67, '2024-01-28 08:45:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (32, 29.56, 38.33, '2024-01-25 08:46:00'), (33, 83.22, 7.77, '2024-01-02 08:29:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (34, 15.67, 65.47, '2024-01-09 08:17:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (35, 78.19, 2.02, '2024-01-10 08:10:00'), (36, 49.54, 49.73, '2024-01-25 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (37, 90.01, 42.62, '2024-01-12 08:33:00'), (38, 12.3, 60.27, '2024-01-22 08:10:00');\nINSERT INTO t2 (id, c0, c1) VALUES (1, 1, 44), (2, 0, 53);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (39, 89.29, 26.74, '2024-01-19 08:35:00'), (40, 63.42, 73.37, '2024-01-16 08:41:00'), (41, 30.71, 28.38, '2024-01-04 08:26:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (44, '2024-01-03 12:14:00', 58.81, 79, 40.51), (45, '2024-01-04 12:42:00', 14.42, 43, 99.01), (46, '2024-01-15 12:14:00', 83.24, 62, 0.89);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (47, '2024-01-27 12:22:00', 12.46, 66, 91.97), (48, '2024-01-19 12:53:00', 46.28, 95, 86.25);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (49, '2024-01-16 12:58:00', 35.24, 38, 23.3), (50, '2024-01-02 12:45:00', 18.55, 8, 60.02);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (51, '2024-01-06 12:29:00', 22.49, 73, 93.95);\nINSERT INTO t2 (id, c0, c1) VALUES (3, 1, 87), (4, 1, 57);\nINSERT INTO t2 (id, c0, c1) VALUES (5, 1, 16);\nINSERT INTO t2 (id, c0, c1) VALUES (6, 1, 96), (7, 1, 65);\nINSERT INTO t2 (id, c0, c1) VALUES (8, 0, 6), (9, 1, 97), (10, 1, 64);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (42, 41.97, 90.88, '2024-01-22 08:13:00'), (43, 5.56, 20.39, '2024-01-24 08:03:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (52, '2024-01-25 12:36:00', 26.87, 97, 84.59), (53, '2024-01-20 12:31:00', 76.21, 75, 60.99), (54, '2024-01-20 12:07:00', 1.02, 31, 24.69);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (55, '2024-01-01 12:06:00', 82.8, 8, 45.82), (56, '2024-01-05 12:34:00', 65.84, 50, 19.85);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (57, '2024-01-27 12:27:00', 2.7, 63, 90.16), (58, '2024-01-20 12:31:00', 86.1, 25, 85.49);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (59, '2024-01-10 12:29:00', 79.87, 62, 36.64);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (60, '2024-01-06 12:27:00', 66.71, 90, 52.62), (61, '2024-01-13 12:50:00', 78.96, 1, 84.48);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (44, 15.83, 96.99, '2024-01-23 08:43:00'), (45, 99.88, 55.84, '2024-01-10 08:28:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (46, 55.06, 45.35, '2024-01-14 08:55:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` int DEFAULT NULL,\n  `c3` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` bigint DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1_0` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0027_019be1f6-e81d-7680-bf4f-c88375799af5",
      "dir": "reports/case_0027_019be1f6-e81d-7680-bf4f-c88375799af5",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:10:13+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "8008aa8d45dabd406cf67d627584f0ce790687c3",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT DISTINCT COUNT(1) AS cnt, SUM(t2.c3) AS sum1 FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19'))) WHERE (t2.c2 < 's17') LIMIT 18) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN (t2.c2 < 's17') THEN 1 ELSE 0 END),0) FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19')))",
      "norec_predicate": "(t2.c2 < 's17')",
      "sql": [
        "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT DISTINCT COUNT(1) AS cnt, SUM(t2.c3) AS sum1 FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19'))) WHERE (t2.c2 < 's17') LIMIT 18",
        "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT (CASE WHEN (t2.c2 < 's17') THEN 1 ELSE 0 END) AS b FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19')))"
      ],
      "plan_replayer": "reports/case_0027_019be1f6-e81d-7680-bf4f-c88375799af5/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT DISTINCT COUNT(1) AS cnt, SUM(t2.c3) AS sum1 FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19'))) WHERE (t2.c2 < 's17') LIMIT 18) q",
        "norec_predicate": "(t2.c2 < 's17')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN (t2.c2 < 's17') THEN 1 ELSE 0 END),0) FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19')))",
        "optimized_explain": "StreamAgg_39\t1.00\troot\t\tfuncs:count(1)->Column#45\n└─Limit_42\t1.00\troot\t\toffset:0, count:18\n  └─HashAgg_46\t1.00\troot\t\tgroup by:Column#43, Column#44, funcs:firstrow(1)->Column#47\n    └─HashAgg_52\t1.00\troot\t\tfuncs:count(1)->Column#43, funcs:sum(shiro_fuzz_r26.t2.c3)->Column#44\n      └─HashJoin_72\t18093703.70\troot\t\tCARTESIAN inner join\n        ├─HashJoin_88(Build)\t4.00\troot\t\tCARTESIAN inner join\n        │ ├─Selection_90(Build)\t1.00\troot\t\tne(shiro_fuzz_r26.t1.c4, 2024-01-19 00:00:00.000000)\n        │ │ └─Point_Get_89\t1.00\troot\ttable:t1\thandle:59\n        │ └─Limit_91(Probe)\t4.00\troot\t\toffset:0, count:4\n        │   └─TableReader_97\t4.00\troot\t\tdata:Limit_96\n        │     └─Limit_96\t4.00\tcop[tikv]\t\toffset:0, count:4\n        │       └─TableRangeScan_95\t146.52\tcop[tikv]\ttable:t2\trange:[-inf,91], keep order:false, stats:pseudo\n        └─HashJoin_114(Probe)\t4523425.93\troot\t\tCARTESIAN inner join\n          ├─TableReader_117(Build)\t1107.78\troot\t\tdata:Selection_116\n          │ └─Selection_116\t1107.78\tcop[tikv]\t\tgt(shiro_fuzz_r26.t2.c5, \"s65\"), lt(shiro_fuzz_r26.t2.c2, \"s17\")\n          │   └─TableFullScan_115\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n          └─TableReader_124(Probe)\t4083.33\troot\tpartition:all\tdata:Selection_123\n            └─Selection_123\t4083.33\tcop[tikv]\t\tnot(in(shiro_fuzz_r26.t0.c3, 69.98, 36.96, 40.33))\n              └─TableFullScan_122\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN (t2.c2 < 's17') THEN 1 ELSE 0 END),0) FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19')))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT DISTINCT COUNT(1) AS cnt, SUM(t2.c3) AS sum1 FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19'))) WHERE (t2.c2 < 's17') LIMIT 18) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_24\t1.00\troot\t\tifnull(Column#43, 0)->Column#44\n└─HashAgg_28\t1.00\troot\t\tfuncs:sum(Column#47)->Column#43\n  └─Projection_104\t133333333.33\troot\t\tcast(case(lt(shiro_fuzz_r26.t2.c2, s17), 1, 0), decimal(20,0) BINARY)->Column#47\n    └─HashJoin_39\t133333333.33\troot\t\tCARTESIAN right outer join, left side:HashJoin_58, right cond:not(in(shiro_fuzz_r26.t0.c3, 69.98, 36.96, 40.33))\n      ├─HashJoin_58(Build)\t13333.33\troot\t\tCARTESIAN inner join\n      │ ├─HashJoin_74(Build)\t4.00\troot\t\tCARTESIAN inner join\n      │ │ ├─Selection_76(Build)\t1.00\troot\t\tne(shiro_fuzz_r26.t1.c4, 2024-01-19 00:00:00.000000)\n      │ │ │ └─Point_Get_75\t1.00\troot\ttable:t1\thandle:59\n      │ │ └─Limit_77(Probe)\t4.00\troot\t\toffset:0, count:4\n      │ │   └─TableReader_83\t4.00\troot\t\tdata:Limit_82\n      │ │     └─Limit_82\t4.00\tcop[tikv]\t\toffset:0, count:4\n      │ │       └─TableRangeScan_81\t146.52\tcop[tikv]\ttable:t2\trange:[-inf,91], keep order:false, stats:pseudo\n      │ └─TableReader_88(Probe)\t3333.33\troot\t\tdata:Selection_87\n      │   └─Selection_87\t3333.33\tcop[tikv]\t\tgt(shiro_fuzz_r26.t2.c5, \"s65\")\n      │     └─TableFullScan_86\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n      └─TableReader_94(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_93\n        └─TableFullScan_93\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT DISTINCT COUNT(1) AS cnt, SUM(t2.c3) AS sum1 FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19'))) WHERE (t2.c2 < 's17') LIMIT 18;\nWITH cte_0 AS (SELECT t2.id AS c0, t2.c2 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.id <= 91) LIMIT 4) SELECT (CASE WHEN (t2.c2 < 's17') THEN 1 ELSE 0 END) AS b FROM cte_0 CROSS JOIN t1 JOIN t2 ON (t2.c5 > 's65') RIGHT JOIN t0 ON (NOT (t0.c3 IN (69.98, 36.96, 40.33)) AND ((t1.id <=> 59) AND (t1.c4 != '2024-01-19')));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n26\t7.09\t20.16\ts63\t41.51\t83.48\t76\ts23\n35\t97.4\t69.28\ts47\t88.45\t25.09\t25\ts23\n44\t83.62\t64.73\ts31\t70.46\t65.19\t80\ts54\n25\t85.41\t11.21\ts33\t64.2\t42.32\t34\ts23\n31\t77.41\t50.81\ts19\t70.06\t87.29\t76\ts73\n45\t41.54\t1.55\ts95\t78.68\t63.04\t62\ts75\n\n-- t1\n48\t73.24\t11.33\t2024-01-25\t28.31\t2024-01-28\t37.73\n49\t43.66\t73.01\t2024-01-13\t14.63\t2024-01-16\t69.92\n50\t8.63\t66.75\t2024-01-24\t44.73\t2024-01-10\t46.35\n\n-- t2\n1\t2024-01-13 12:29:00\t2024-01-19 12:01:00\ts91\t40.01\t2024-01-23\ts25\t2024-01-10 08:50:00\n2\t2024-01-10 12:57:00\t2024-01-19 12:57:00\ts10\t45.95\t2024-01-05\ts87\t2024-01-04 08:44:00\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 13.91, 11.72, 's28', 73.09, 35.95, 55, 's17'), (2, 60.24, 50.03, 's26', 18.28, 29.26, 4, 's78'), (3, 2.15, 27.14, 's36', 25.84, 25.05, 91, 's28');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 18.68, 53.7, 's95', 18.04, 58.62, 9, 's27');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, 35.37, 86.55, 's78', 38.08, 59.8, 86, 's18'), (6, 37.5, 94.13, 's19', 59.11, 88.58, 38, 's47');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 70.74, 66.29, 's8', 13.38, 54.46, 45, 's87'), (8, 23.92, 26, 's63', 69.46, 97.34, 33, 's11'), (9, 87.48, 1.13, 's21', 38.03, 90.97, 82, 's8');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (10, 99.48, 20.98, 's10', 27.55, 72.96, 72, 's91'), (11, 36.76, 36.48, 's56', 36.31, 47.76, 89, 's78');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 65.6, 94.76, 's11', 0.99, 62.76, 82, 's70');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, 44.42, 38.43, 's58', 86.66, 82.47, 48, 's7');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (14, 77.86, 91.41, 's10', 78.76, 22.82, 25, 's12'), (15, 89.86, 73.03, 's85', 62.46, 99.43, 52, 's29'), (16, 99.76, 70.93, 's29', 12.14, 71.62, 25, 's82');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (17, 57.46, 93.01, 's10', 99.98, 75.75, 19, 's95'), (18, 7.59, 64.21, 's9', 50.31, 2.24, 92, 's65');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 21.32, 19.53, 's53', 60.53, 84.11, 43, 's37');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, 2.11, 12.24, 's0', 90.76, 0.74, 25, 's32');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (21, 18.66, 36.9, 's36', 80.29, 64.33, 0, 's61'), (22, 40.03, 96.29, 's65', 16.14, 79.02, 34, 's60'), (23, 83.22, 82.83, 's93', 55.87, 34.35, 63, 's1');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (24, 75.23, 81.86, 's11', 16.81, 62.9, 78, 's78'), (25, 85.41, 11.21, 's33', 64.2, 42.32, 34, 's23'), (26, 7.09, 20.16, 's63', 41.51, 83.48, 76, 's23');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (27, 72.67, 27.64, 's50', 82.97, 54.38, 65, 's47');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, 34.13, 80.01, 's16', 75.39, 30.28, 31, 's75');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (29, 84.25, 91.72, 's71', 55.03, 34.02, 90, 's30'), (30, 79.63, 97.43, 's20', 98.56, 23.91, 2, 's29');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (31, 77.41, 50.81, 's19', 70.06, 87.29, 76, 's73');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 98.32, 72.41, 's94', 70.03, 52.03, 61, 's72');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (33, 42.02, 21.12, 's89', 19.41, 26.36, 85, 's52'), (34, 92.35, 57.6, 's46', 76.22, 43.18, 10, 's39');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 97.4, 69.28, 's47', 88.45, 25.09, 25, 's23');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 79.92, 64.07, '2024-01-21', 61.48, '2024-01-27', 1.59), (2, 37.45, 71.72, '2024-01-09', 65.41, '2024-01-01', 9.3), (3, 48.55, 18.45, '2024-01-17', 61.84, '2024-01-04', 4.27);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 21.44, 65.36, '2024-01-03', 46.11, '2024-01-21', 34.68), (5, 47.69, 73.68, '2024-01-21', 44.88, '2024-01-09', 37.69);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 0.96, 93.59, '2024-01-19', 3.52, '2024-01-22', 71.62);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 24.22, 52.25, '2024-01-09', 28.69, '2024-01-07', 49.75);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 61.37, 41.69, '2024-01-10', 92.41, '2024-01-27', 56.7), (9, 74.95, 40.53, '2024-01-03', 56.27, '2024-01-09', 41.68);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 38.19, 87.96, '2024-01-22', 10.58, '2024-01-09', 39.53);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 41.01, 76.51, '2024-01-24', 21.11, '2024-01-26', 91.62), (12, 11.22, 28.78, '2024-01-27', 9.55, '2024-01-25', 69.83), (13, 29.63, 54.14, '2024-01-26', 98.51, '2024-01-20', 34.09);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (14, 28.84, 59.37, '2024-01-10', 97.96, '2024-01-13', 55.39);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 24.39, 5.99, '2024-01-18', 17.85, '2024-01-26', 25.48), (16, 27.72, 93.13, '2024-01-19', 42.36, '2024-01-27', 6.55);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (17, 52.13, 4.67, '2024-01-07', 93.92, '2024-01-14', 45.79), (18, 75.55, 73.7, '2024-01-16', 71.58, '2024-01-14', 69.63);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 0.43, 91.8, '2024-01-03', 25.41, '2024-01-07', 20.6), (20, 25.64, 52.34, '2024-01-17', 8.48, '2024-01-21', 96.2);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 95.43, 88.69, '2024-01-26', 24.45, '2024-01-27', 46.94);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (22, 66.65, 35.87, '2024-01-21', 86.23, '2024-01-16', 89.15), (23, 29.18, 26.16, '2024-01-08', 98.91, '2024-01-22', 61.78);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (24, 56.65, 3.26, '2024-01-07', 59.13, '2024-01-03', 82.7), (25, 76.31, 22.86, '2024-01-13', 77.09, '2024-01-09', 57.62);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, 97.34, 81.73, '2024-01-27', 74.14, '2024-01-15', 10.1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (27, 4.68, 6.83, '2024-01-06', 68.47, '2024-01-22', 91.72), (28, 78.02, 42.55, '2024-01-11', 19.08, '2024-01-12', 7.25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (29, 85.83, 12.36, '2024-01-28', 66.63, '2024-01-15', 92.9);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (30, 66.03, 92.92, '2024-01-04', 99.36, '2024-01-14', 95.71), (31, 82.4, 38.92, '2024-01-10', 1.43, '2024-01-09', 56.59), (32, 71.55, 74.56, '2024-01-04', 23.1, '2024-01-13', 58.85);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (33, 67.69, 67.46, '2024-01-20', 83.25, '2024-01-22', 74.25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (34, 63.97, 89.29, '2024-01-19', 96.16, '2024-01-13', 67.78), (35, 32.68, 3.69, '2024-01-19', 35.11, '2024-01-08', 19.29);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (36, 7.5, 2.28, '2024-01-23', 93.89, '2024-01-16', 56.56), (37, 96.87, 99.53, '2024-01-21', 67.85, '2024-01-20', 94.59), (38, 77.37, 51.92, '2024-01-03', 84.15, '2024-01-27', 38.86);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, 72.94, 33.95, 's68', 47.03, 67.78, 80, 's72'), (37, 19.04, 92.06, 's57', 62.12, 81.81, 3, 's69'), (38, 11.13, 53.61, 's38', 61.04, 83.46, 61, 's74');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (39, 31.37, 46.85, '2024-01-22', 33.68, '2024-01-28', 57.65);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (40, 89.2, 97.38, '2024-01-08', 91.86, '2024-01-24', 10), (41, 29.1, 4.63, '2024-01-10', 43.86, '2024-01-08', 18.98);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, 61.74, 9.51, 's16', 92.39, 46.53, 67, 's67'), (40, 97.21, 63.42, 's36', 83.69, 84.04, 4, 's53'), (41, 67.24, 26.38, 's90', 8.23, 24.72, 0, 's25');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (42, 83.93, 15.99, '2024-01-01', 81.46, '2024-01-27', 29.42), (43, 31.26, 89.28, '2024-01-22', 40.31, '2024-01-17', 78.54), (44, 43.28, 36.8, '2024-01-07', 99.66, '2024-01-14', 56.75);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, 88.63, 39.14, 's44', 37.22, 24.72, 32, 's69'), (43, 61.98, 68.98, 's33', 42.89, 28.3, 4, 's54');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (45, 99.34, 40.52, '2024-01-14', 51.52, '2024-01-19', 33.25);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 83.62, 64.73, 's31', 70.46, 65.19, 80, 's54'), (45, 41.54, 1.55, 's95', 78.68, 63.04, 62, 's75');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (46, 82.52, 33.93, '2024-01-18', 45.76, '2024-01-21', 90), (47, 15.75, 37.14, '2024-01-13', 15.75, '2024-01-10', 37.77);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-13 12:29:00', '2024-01-19 12:01:00', 's91', 40.01, '2024-01-23', 's25', '2024-01-10 08:50:00'), (2, '2024-01-10 12:57:00', '2024-01-19 12:57:00', 's10', 45.95, '2024-01-05', 's87', '2024-01-04 08:44:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (48, 73.24, 11.33, '2024-01-25', 28.31, '2024-01-28', 37.73), (49, 43.66, 73.01, '2024-01-13', 14.63, '2024-01-16', 69.92), (50, 8.63, 66.75, '2024-01-24', 44.73, '2024-01-10', 45.35);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` double NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` double NOT NULL,\n  `c4` decimal(12,2) DEFAULT NULL,\n  `c5` bigint NOT NULL,\n  `c6` varchar(64) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` double NOT NULL,\n  `c2` date NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` date DEFAULT NULL,\n  `c5` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c4_0` (`c4`),\n  KEY `idx_c3_1` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` date NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0026_019be1f6-cf13-77c0-bf4a-3538dac686bd",
      "dir": "reports/case_0026_019be1f6-cf13-77c0-bf4a-3538dac686bd",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:10:07+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "93bca07e3adc60fabb29b3cf1154b2012c36507f",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t2.c1 >= 68.71)) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t2.c1 >= 68.71) THEN 1 ELSE 0 END),0) FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
      "norec_predicate": "(t2.c1 >= 68.71)",
      "sql": [
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t2.c1 >= 68.71)",
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT (CASE WHEN (t2.c1 >= 68.71) THEN 1 ELSE 0 END) AS b FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1)"
      ],
      "plan_replayer": "reports/case_0026_019be1f6-cf13-77c0-bf4a-3538dac686bd/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t2.c1 >= 68.71)) q",
        "norec_predicate": "(t2.c1 >= 68.71)",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t2.c1 >= 68.71) THEN 1 ELSE 0 END),0) FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
        "optimized_explain": "StreamAgg_49\t1.00\troot\t\tfuncs:count(1)->Column#36\n└─StreamAgg_55\t1.00\troot\t\tfuncs:count(1)->Column#38\n  └─HashJoin_70\t0.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_89(Build)\t0.00\troot\t\tCARTESIAN inner join\n    │ ├─IndexHashJoin_103(Build)\t0.00\troot\t\tinner join, inner:IndexLookUp_118, outer key:shiro_fuzz_r25.t0.c1, inner key:shiro_fuzz_r25.t0.c1, equal cond:eq(shiro_fuzz_r25.t0.c1, shiro_fuzz_r25.t0.c1)\n    │ │ ├─TableDual_120(Build)\t0.00\troot\t\trows:0\n    │ │ └─IndexLookUp_118(Probe)\t0.00\troot\t\t\n    │ │   ├─IndexRangeScan_115(Build)\t0.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\trange: decided by [eq(shiro_fuzz_r25.t0.c1, shiro_fuzz_r25.t0.c1)], keep order:false, stats:pseudo\n    │ │   └─Selection_117(Probe)\t0.00\tcop[tikv]\t\tlt(shiro_fuzz_r25.t0.c2, 2024-01-06 00:00:00.000000)\n    │ │     └─TableRowIDScan_116\t0.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n    │ └─Selection_91(Probe)\t0.00\troot\t\tin(shiro_fuzz_r25.t0.c0, 2024)\n    │   └─TableDual_93\t0.00\troot\t\trows:0\n    └─TableReader_131(Probe)\t1107.78\troot\tpartition:all\tdata:Selection_130\n      └─Selection_130\t1107.78\tcop[tikv]\t\tge(shiro_fuzz_r25.t2.c1, 68.71), lt(shiro_fuzz_r25.t2.c0, 2024-01-04 12:32:00.000000)\n        └─TableFullScan_129\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t2.c1 >= 68.71) THEN 1 ELSE 0 END),0) FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t2.c1 >= 68.71)) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_39\t1.00\troot\t\tifnull(Column#34, 0)->Column#35\n└─StreamAgg_46\t1.00\troot\t\tfuncs:sum(Column#38)->Column#34\n  └─Projection_120\t0.00\troot\t\tcast(case(ge(shiro_fuzz_r25.t2.c1, 68.71), 1, 0), decimal(20,0) BINARY)->Column#38\n    └─HashJoin_56\t0.00\troot\t\tright outer join, left side:HashJoin_84, equal:[eq(shiro_fuzz_r25.t0.c1, shiro_fuzz_r25.t0.c1)]\n      ├─TableDual_115(Build)\t0.00\troot\t\trows:0\n      └─HashJoin_84(Probe)\t0.00\troot\t\tCARTESIAN inner join\n        ├─HashJoin_99(Build)\t0.00\troot\t\tCARTESIAN inner join\n        │ ├─Selection_100(Build)\t0.00\troot\t\tin(shiro_fuzz_r25.t0.c0, 2024)\n        │ │ └─TableDual_102\t0.00\troot\t\trows:0\n        │ └─TableReader_108(Probe)\t3323.33\troot\tpartition:all\tdata:Selection_107\n        │   └─Selection_107\t3323.33\tcop[tikv]\t\tlt(shiro_fuzz_r25.t2.c0, 2024-01-04 12:32:00.000000)\n        │     └─TableFullScan_106\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n        └─TableReader_111(Probe)\t3323.33\troot\t\tdata:Selection_110\n          └─Selection_110\t3323.33\tcop[tikv]\t\tlt(shiro_fuzz_r25.t0.c2, 2024-01-06 00:00:00.000000)\n            └─TableFullScan_109\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t2.c1 >= 68.71);\nWITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c1 <=> '2024-01-10 08:01:00') AND ('2024-01-15 08:43:00' >= '2024-01-12 12:22:00')) AND (3.51 >= 98.28)) LIMIT 7), cte_1 AS (SELECT t0.c1 AS c0, t0.c0 AS c1, t0.id AS c2 FROM t0 WHERE (((t0.id = 69) AND (t0.c2 >= '2024-01-22')) AND (t0.c2 IN ('2024-01-07'))) LIMIT 1) SELECT (CASE WHEN (t2.c1 >= 68.71) THEN 1 ELSE 0 END) AS b FROM cte_1 JOIN t2 ON ((cte_1.c1 IN ('2024-01-21 08:07:00', '2024-01-22 08:44:00')) AND (t2.c0 < '2024-01-04 12:32:00')) JOIN t0 ON (t0.c2 < '2024-01-06') RIGHT JOIN cte_0 ON (t0.c1 = cte_0.c1);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n57\t39\t2024-01-15 08:48:00\t2024-01-24\n58\t18\t2024-01-04 08:09:00\t2024-01-02\n59\t85\t2024-01-28 08:31:00\t2024-01-16\n60\t79\t2024-01-20 08:22:00\t2024-01-24\n61\t49\t2024-01-12 08:22:00\t2024-01-03\n\n-- t1\n51\t0\t31.24\t2024-01-01 08:42:00\t6.64\t2024-01-17\n54\t1\t8.48\t2024-01-21 08:47:00\t5.74\t2024-01-12\n55\t0\t33.79\t2024-01-20 08:46:00\t46.23\t2024-01-04\n56\t0\t46.01\t2024-01-17 08:17:00\t87.56\t2024-01-14\n\n-- t2\n2\t2024-01-22 12:37:00\t1.77\ts22\ts81\t40\t2024-01-28 08:56:00\n4\t2024-01-21 12:08:00\t45.69\ts17\ts67\t4\t2024-01-16 08:55:00\n1\t2024-01-22 12:56:00\t67.78\ts22\ts35\t54\t2024-01-05 08:13:00\n3\t2024-01-24 12:13:00\t48\ts25\ts86\t48\t2024-01-08 08:32:00\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2) VALUES (1, 30, '2024-01-10 08:45:00', '2024-01-02'), (2, 70, '2024-01-22 08:32:00', '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (3, 19, '2024-01-10 08:24:00', '2024-01-25'), (4, 79, '2024-01-05 08:46:00', '2024-01-20');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (5, 85, '2024-01-13 08:00:00', '2024-01-04'), (6, 2, '2024-01-23 08:48:00', '2024-01-12');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (7, 3, '2024-01-08 08:29:00', '2024-01-23'), (8, 36, '2024-01-05 08:14:00', '2024-01-09');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (9, 91, '2024-01-25 08:34:00', '2024-01-20'), (10, 19, '2024-01-19 08:17:00', '2024-01-16'), (11, 39, '2024-01-13 08:12:00', '2024-01-03');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (12, 72, '2024-01-02 08:31:00', '2024-01-20');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (13, 11, '2024-01-09 08:32:00', '2024-01-23'), (14, 80, '2024-01-27 08:45:00', '2024-01-26');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (15, 57, '2024-01-23 08:37:00', '2024-01-19'), (16, 16, '2024-01-16 08:17:00', '2024-01-08'), (17, 0, '2024-01-08 08:56:00', '2024-01-01');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (18, 30, '2024-01-16 08:51:00', '2024-01-24'), (19, 81, '2024-01-10 08:39:00', '2024-01-11'), (20, 73, '2024-01-05 08:34:00', '2024-01-02');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (21, 91, '2024-01-01 08:09:00', '2024-01-07');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (22, 67, '2024-01-05 08:32:00', '2024-01-24');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (23, 38, '2024-01-13 08:36:00', '2024-01-01'), (24, 28, '2024-01-16 08:47:00', '2024-01-08');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (25, 8, '2024-01-03 08:26:00', '2024-01-23'), (26, 7, '2024-01-22 08:13:00', '2024-01-07'), (27, 83, '2024-01-03 08:23:00', '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (28, 1, '2024-01-03 08:42:00', '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (29, 47, '2024-01-11 08:05:00', '2024-01-16'), (30, 48, '2024-01-04 08:10:00', '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (31, 8, '2024-01-04 08:02:00', '2024-01-24'), (32, 45, '2024-01-11 08:44:00', '2024-01-16');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (33, 13, '2024-01-16 08:37:00', '2024-01-20');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (34, 2, '2024-01-26 08:56:00', '2024-01-08'), (35, 48, '2024-01-16 08:53:00', '2024-01-28');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (36, 83, '2024-01-07 08:04:00', '2024-01-06'), (37, 44, '2024-01-09 08:48:00', '2024-01-23');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (38, 51, '2024-01-22 08:17:00', '2024-01-20'), (39, 49, '2024-01-19 08:43:00', '2024-01-02');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (1, 1, 56.59, '2024-01-14 08:10:00', 68.2, '2024-01-17'), (2, 1, 19.74, '2024-01-24 08:44:00', 35.05, '2024-01-20'), (3, 0, 63.06, '2024-01-07 08:57:00', 83.24, '2024-01-27');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (4, 0, 48.44, '2024-01-28 08:04:00', 97.16, '2024-01-09');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (5, 1, 38.03, '2024-01-14 08:20:00', 32.43, '2024-01-23'), (6, 0, 42.44, '2024-01-01 08:23:00', 80.19, '2024-01-21'), (7, 0, 67.58, '2024-01-04 08:46:00', 30.23, '2024-01-13');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (8, 1, 84.5, '2024-01-20 08:00:00', 47.33, '2024-01-25');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (9, 0, 92.88, '2024-01-27 08:26:00', 34.49, '2024-01-24'), (10, 1, 8.9, '2024-01-03 08:42:00', 85.6, '2024-01-21');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (11, 1, 70.39, '2024-01-28 08:51:00', 85.87, '2024-01-04'), (12, 1, 63.21, '2024-01-01 08:38:00', 48.79, '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (13, 1, 11.32, '2024-01-13 08:36:00', 59.44, '2024-01-19'), (14, 0, 62.69, '2024-01-16 08:13:00', 53.08, '2024-01-24');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (15, 1, 6.29, '2024-01-06 08:44:00', 69.78, '2024-01-24');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (16, 1, 68.18, '2024-01-03 08:46:00', 3.28, '2024-01-04'), (17, 1, 46.96, '2024-01-17 08:25:00', 11.37, '2024-01-18');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (18, 1, 9.55, '2024-01-03 08:07:00', 78.47, '2024-01-25'), (19, 1, 66.32, '2024-01-17 08:11:00', 63.55, '2024-01-17'), (20, 0, 41.88, '2024-01-06 08:34:00', 0.93, '2024-01-17');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (21, 0, 24.98, '2024-01-20 08:16:00', 27.39, '2024-01-12'), (22, 0, 51.69, '2024-01-12 08:46:00', 39.59, '2024-01-23');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (23, 1, 76.76, '2024-01-26 08:36:00', 73.68, '2024-01-24'), (24, 1, 89.46, '2024-01-27 08:46:00', 46.81, '2024-01-18'), (25, 0, 88.15, '2024-01-02 08:58:00', 58.86, '2024-01-05');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (26, 0, 65.32, '2024-01-07 08:00:00', 79.85, '2024-01-15');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (27, 1, 80.64, '2024-01-24 08:22:00', 46.81, '2024-01-22'), (28, 0, 98.77, '2024-01-19 08:24:00', 18.53, '2024-01-06');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (29, 0, 55.95, '2024-01-26 08:04:00', 75.19, '2024-01-12'), (30, 0, 38.69, '2024-01-08 08:51:00', 94.26, '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (31, 0, 26.92, '2024-01-06 08:03:00', 42.49, '2024-01-24'), (32, 0, 78.74, '2024-01-26 08:58:00', 62.46, '2024-01-10');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (33, 0, 80.13, '2024-01-15 08:06:00', 25.81, '2024-01-06'), (34, 0, 17.1, '2024-01-11 08:58:00', 78.9, '2024-01-28');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (35, 1, 4.06, '2024-01-03 08:28:00', 49.34, '2024-01-10');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (36, 1, 73.86, '2024-01-27 08:38:00', 55.67, '2024-01-04');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (37, 0, 81.55, '2024-01-06 08:26:00', 29.53, '2024-01-28'), (38, 0, 53.06, '2024-01-02 08:42:00', 73.44, '2024-01-19'), (39, 0, 79.51, '2024-01-22 08:22:00', 58.95, '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (40, 57, '2024-01-27 08:57:00', '2024-01-26');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (41, 5, '2024-01-21 08:16:00', '2024-01-23'), (42, 70, '2024-01-21 08:52:00', '2024-01-11'), (43, 23, '2024-01-15 08:15:00', '2024-01-12');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (44, 91, '2024-01-03 08:48:00', '2024-01-11'), (45, 38, '2024-01-18 08:57:00', '2024-01-25');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (46, 64, '2024-01-13 08:05:00', '2024-01-01'), (47, 20, '2024-01-02 08:40:00', '2024-01-21'), (48, 60, '2024-01-12 08:55:00', '2024-01-09');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (49, 66, '2024-01-15 08:41:00', '2024-01-23'), (50, 83, '2024-01-22 08:38:00', '2024-01-27'), (51, 90, '2024-01-17 08:40:00', '2024-01-16');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (40, 1, 1.36, '2024-01-17 08:40:00', 79.91, '2024-01-14'), (41, 1, 79.27, '2024-01-01 08:14:00', 82.13, '2024-01-19'), (42, 1, 54.97, '2024-01-22 08:40:00', 45.73, '2024-01-26');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (52, 86, '2024-01-07 08:25:00', '2024-01-06'), (53, 26, '2024-01-16 08:02:00', '2024-01-24');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (54, 74, '2024-01-17 08:51:00', '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (55, 45, '2024-01-22 08:11:00', '2024-01-10'), (56, 20, '2024-01-27 08:53:00', '2024-01-06');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (43, 0, 42.61, '2024-01-22 08:36:00', 23.82, '2024-01-21'), (44, 1, 91.29, '2024-01-20 08:37:00', 1.83, '2024-01-17');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-22 12:56:00', 67.78, 's90', 's35', 54, '2024-01-05 08:13:00'), (2, '2024-01-22 12:37:00', 1.77, 's11', 's81', 40, '2024-01-28 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (45, 1, 38.08, '2024-01-18 08:52:00', 24.17, '2024-01-26');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (46, 0, 12.72, '2024-01-13 08:25:00', 40.1, '2024-01-22'), (47, 0, 29.51, '2024-01-28 08:38:00', 57.24, '2024-01-21'), (48, 1, 4.38, '2024-01-25 08:03:00', 91.07, '2024-01-26');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (49, 1, 17.34, '2024-01-18 08:16:00', 41.81, '2024-01-22');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (3, '2024-01-24 12:13:00', 48, 's25', 's86', 48, '2024-01-08 08:32:00'), (4, '2024-01-21 12:08:00', 45.69, 's17', 's67', 4, '2024-01-16 08:55:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (50, 0, 68.84, '2024-01-13 08:02:00', 22.05, '2024-01-23');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (51, 0, 30.24, '2024-01-01 08:42:00', 6.64, '2024-01-17');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (52, 1, 6.49, '2024-01-21 08:37:00', 43.53, '2024-01-03'), (53, 1, 97.88, '2024-01-05 08:32:00', 77.01, '2024-01-16');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (57, 39, '2024-01-15 08:48:00', '2024-01-24'), (58, 18, '2024-01-04 08:09:00', '2024-01-02');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (59, 85, '2024-01-28 08:31:00', '2024-01-16');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (60, 79, '2024-01-20 08:22:00', '2024-01-24'), (61, 49, '2024-01-12 08:22:00', '2024-01-03');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (54, 1, 7.48, '2024-01-21 08:47:00', 5.74, '2024-01-12'), (55, 0, 32.79, '2024-01-20 08:46:00', 46.23, '2024-01-04'), (56, 0, 45.01, '2024-01-17 08:17:00', 87.56, '2024-01-14');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int DEFAULT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_id_0` (`id`),\n  KEY `idx_c2_1` (`c2`),\n  KEY `idx_c0_2` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` decimal(12,2) DEFAULT NULL,\n  `c4` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3_3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` float NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` varchar(64) NOT NULL,\n  `c4` bigint NOT NULL,\n  `c5` timestamp NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0025_019be1f6-4f01-727c-a446-5792c9b4ecc3",
      "dir": "reports/case_0025_019be1f6-4f01-727c-a446-5792c9b4ecc3",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:09:34+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "ee7131ec0a68f75cb934b56509154e0fd4867901",
      "plan_signature_format": "plain",
      "expected": "optimized count=5",
      "actual": "unoptimized count=16",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT DISTINCT (SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c2 = t3.c1)) AS c0, t2.id AS c1 FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4 WHERE (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) LIMIT 5) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) THEN 1 ELSE 0 END),0) FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4",
      "norec_predicate": "(((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34)))",
      "sql": [
        "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT DISTINCT (SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c2 = t3.c1)) AS c0, t2.id AS c1 FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4 WHERE (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) LIMIT 5",
        "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT (CASE WHEN (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) THEN 1 ELSE 0 END) AS b FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4"
      ],
      "plan_replayer": "reports/case_0025_019be1f6-4f01-727c-a446-5792c9b4ecc3/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT DISTINCT (SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c2 = t3.c1)) AS c0, t2.id AS c1 FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4 WHERE (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) LIMIT 5) q",
        "norec_predicate": "(((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34)))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) THEN 1 ELSE 0 END),0) FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4",
        "optimized_explain": "StreamAgg_63\t1.00\troot\t\tfuncs:count(1)->Column#66\n└─Limit_328\t5.00\troot\t\toffset:0, count:5\n  └─HashAgg_70\t5.00\troot\t\tgroup by:Column#96, Column#97, funcs:firstrow(1)->Column#75\n    └─Projection_331\t800000000000.00\troot\t\tifnull(Column#65, 0)->Column#96, shiro_fuzz_r24.t2.id->Column#97\n      └─HashJoin_83\t800000000000.00\troot\t\tleft outer join, left side:Selection_95, equal:[eq(shiro_fuzz_r24.t3.c1, shiro_fuzz_r24.t5.c2)]\n        ├─HashAgg_316(Build)\t8000.00\troot\t\tgroup by:shiro_fuzz_r24.t5.c2, funcs:count(Column#94)->Column#65, funcs:firstrow(shiro_fuzz_r24.t5.c2)->shiro_fuzz_r24.t5.c2\n        │ └─TableReader_317\t8000.00\troot\t\tdata:HashAgg_309\n        │   └─HashAgg_309\t8000.00\tcop[tikv]\t\tgroup by:shiro_fuzz_r24.t5.c2, funcs:count(1)->Column#94\n        │     └─TableFullScan_315\t10000.00\tcop[tikv]\ttable:t5\tkeep order:false, stats:pseudo\n        └─Selection_95(Probe)\t800000000000.00\troot\t\tor(and(Column#49, Column#59), in(shiro_fuzz_r24.t4.c2, 6, 73, 34))\n          └─HashJoin_104\t1000000000000.00\troot\t\tCARTESIAN left outer semi join, left side:Selection_105, other cond:eq(shiro_fuzz_r24.t0.c2, Column#58)\n            ├─StreamAgg_298(Build)\t1.00\troot\t\tfuncs:count(1)->Column#58\n            │ └─Batch_Point_Get_302\t3.00\troot\ttable:t1\thandle:[24 78 80], keep order:false, desc:false\n            └─Selection_105(Probe)\t1000000000000.00\troot\t\tor(Column#49, in(shiro_fuzz_r24.t4.c2, 6, 73, 34))\n              └─HashJoin_114\t1250000000000.00\troot\t\tCARTESIAN left outer semi join, left side:HashJoin_130\n                ├─Selection_210(Build)\t0.80\troot\t\teq(59, Column#48)\n                │ └─HashAgg_230\t1.00\troot\t\tfuncs:count(Column#83)->Column#48\n                │   └─IndexReader_231\t1.00\troot\t\tindex:HashAgg_212\n                │     └─HashAgg_212\t1.00\tcop[tikv]\t\tfuncs:count(1)->Column#83\n                │       └─Selection_227\t8000.00\tcop[tikv]\t\teq(shiro_fuzz_r24.t0.id, shiro_fuzz_r24.t0.id)\n                │         └─IndexFullScan_226\t10000.00\tcop[tikv]\ttable:t0, index:idx_c1_5(c1)\tkeep order:false, stats:pseudo\n                └─HashJoin_130(Probe)\t1250000000000.00\troot\t\tCARTESIAN inner join\n                  ├─TableReader_197(Build)\t10000.00\troot\t\tdata:TableFullScan_196\n                  │ └─TableFullScan_196\t10000.00\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n                  └─HashJoin_139(Probe)\t125000000.00\troot\t\tleft outer join, left side:HashJoin_148, equal:[eq(shiro_fuzz_r24.t3.c4, shiro_fuzz_r24.t0.id)]\n                    ├─IndexReader_195(Build)\t10000.00\troot\t\tindex:IndexFullScan_194\n                    │ └─IndexFullScan_194\t10000.00\tcop[tikv]\ttable:t0, index:idx_c2_0(c2)\tkeep order:false, stats:pseudo\n                    └─HashJoin_148(Probe)\t100000000.00\troot\t\tleft outer join, left side:Projection_150, equal:[eq(Column#68, shiro_fuzz_r24.t3.c1)]\n                      ├─Projection_183(Build)\t7.00\troot\t\tshiro_fuzz_r24.t3.c1\n                      │ └─IndexLookUp_182\t7.00\troot\t\tlimit embedded(offset:0, count:7)\n                      │   ├─Limit_181(Build)\t7.00\tcop[tikv]\t\toffset:0, count:7\n                      │   │ └─IndexRangeScan_179\t7.00\tcop[tikv]\ttable:t3, index:idx_c2_8(c2)\trange:[0,0], [1,1], keep order:false, stats:pseudo\n                      │   └─TableRowIDScan_180(Probe)\t7.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n                      └─Projection_150(Probe)\t100000000.00\troot\t\tshiro_fuzz_r24.t3.c1, shiro_fuzz_r24.t3.c4, shiro_fuzz_r24.t2.id, cast(shiro_fuzz_r24.t3.c2, double BINARY)->Column#68\n                        └─HashJoin_165\t100000000.00\troot\t\tCARTESIAN inner join\n                          ├─IndexReader_172(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_171\n                          │ └─IndexFullScan_171\t10000.00\tcop[tikv]\ttable:t2, index:idx_c0_4(c0)\tkeep order:false, stats:pseudo\n                          └─TableReader_168(Probe)\t10000.00\troot\t\tdata:TableFullScan_167\n                            └─TableFullScan_167\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) THEN 1 ELSE 0 END),0) FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT DISTINCT (SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c2 = t3.c1)) AS c0, t2.id AS c1 FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4 WHERE (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) LIMIT 5) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_42\t1.00\troot\t\tifnull(Column#67, 0)->Column#68\n└─HashAgg_46\t1.00\troot\t\tfuncs:sum(Column#94)->Column#67\n  └─Projection_274\t1250000000000.00\troot\t\tcast(case(or(and(Column#56, Column#66), in(shiro_fuzz_r24.t4.c2, 6, 73, 34)), 1, 0), decimal(20,0) BINARY)->Column#94\n    └─HashJoin_57\t1250000000000.00\troot\t\tCARTESIAN left outer semi join, left side:HashJoin_73, other cond:eq(shiro_fuzz_r24.t0.c2, Column#65)\n      ├─StreamAgg_259(Build)\t1.00\troot\t\tfuncs:count(1)->Column#65\n      │ └─Batch_Point_Get_263\t3.00\troot\ttable:t1\thandle:[24 78 80], keep order:false, desc:false\n      └─HashJoin_73(Probe)\t1250000000000.00\troot\t\tCARTESIAN left outer semi join, left side:HashJoin_89\n        ├─Selection_171(Build)\t0.80\troot\t\teq(59, Column#55)\n        │ └─HashAgg_191\t1.00\troot\t\tfuncs:count(Column#83)->Column#55\n        │   └─IndexReader_192\t1.00\troot\t\tindex:HashAgg_173\n        │     └─HashAgg_173\t1.00\tcop[tikv]\t\tfuncs:count(1)->Column#83\n        │       └─Selection_188\t8000.00\tcop[tikv]\t\teq(shiro_fuzz_r24.t0.id, shiro_fuzz_r24.t0.id)\n        │         └─IndexFullScan_187\t10000.00\tcop[tikv]\ttable:t0, index:idx_c1_5(c1)\tkeep order:false, stats:pseudo\n        └─HashJoin_89(Probe)\t1250000000000.00\troot\t\tCARTESIAN inner join\n          ├─TableReader_158(Build)\t10000.00\troot\t\tdata:TableFullScan_157\n          │ └─TableFullScan_157\t10000.00\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n          └─HashJoin_98(Probe)\t125000000.00\troot\t\tleft outer join, left side:HashJoin_107, equal:[eq(shiro_fuzz_r24.t3.c4, shiro_fuzz_r24.t0.id)]\n            ├─IndexReader_156(Build)\t10000.00\troot\t\tindex:IndexFullScan_155\n            │ └─IndexFullScan_155\t10000.00\tcop[tikv]\ttable:t0, index:idx_c2_0(c2)\tkeep order:false, stats:pseudo\n            └─HashJoin_107(Probe)\t100000000.00\troot\t\tleft outer join, left side:Projection_109, equal:[eq(Column#70, shiro_fuzz_r24.t3.c1)]\n              ├─Projection_144(Build)\t7.00\troot\t\tshiro_fuzz_r24.t3.c1\n              │ └─IndexLookUp_143\t7.00\troot\t\tlimit embedded(offset:0, count:7)\n              │   ├─Limit_142(Build)\t7.00\tcop[tikv]\t\toffset:0, count:7\n              │   │ └─IndexRangeScan_140\t7.00\tcop[tikv]\ttable:t3, index:idx_c2_8(c2)\trange:[0,0], [1,1], keep order:false, stats:pseudo\n              │   └─TableRowIDScan_141(Probe)\t7.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n              └─Projection_109(Probe)\t100000000.00\troot\t\tshiro_fuzz_r24.t3.c4, cast(shiro_fuzz_r24.t3.c2, double BINARY)->Column#70\n                └─HashJoin_126\t100000000.00\troot\t\tCARTESIAN inner join\n                  ├─IndexReader_133(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_132\n                  │ └─IndexFullScan_132\t10000.00\tcop[tikv]\ttable:t2, index:idx_c0_4(c0)\tkeep order:false, stats:pseudo\n                  └─TableReader_129(Probe)\t10000.00\troot\t\tdata:TableFullScan_128\n                    └─TableFullScan_128\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT DISTINCT (SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c2 = t3.c1)) AS c0, t2.id AS c1 FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4 WHERE (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) LIMIT 5;\nWITH cte_0 AS (SELECT t3.c5 AS c0, t3.c4 AS c1, t3.c1 AS c2 FROM t3 WHERE (t3.c2 IN (0, 1)) LIMIT 7) SELECT (CASE WHEN (((59 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.id = t0.id)))) AND (t0.c2 IN ((SELECT COUNT(1) AS cnt FROM t1 WHERE (t1.id IN (24, 78, 80)))))) OR (t4.c2 IN (6, 73, 34))) THEN 1 ELSE 0 END) AS b FROM t3 CROSS JOIN t2 LEFT JOIN cte_0 ON (t3.c2 = cte_0.c2) LEFT JOIN t0 ON (t3.c4 = t0.id) CROSS JOIN t4;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n\n-- t1\n1\t99.6\t2024-01-18 12:54:00\t47\t81.31\t2024-01-10 08:41:00\t9\t2024-01-26 08:09:00\n2\t36.7\t2024-01-08 12:35:00\t89\t8.26\t2024-01-26 08:29:00\t42\t2024-01-26 08:09:00\n3\t12.99\t2024-01-17 12:23:00\t28\t30.19\t2024-01-13 08:20:00\t78\t2024-01-26 08:09:00\n4\t59.86\t2024-01-03 12:44:00\t48\t53.6\t2024-01-17 08:11:00\t13\t2024-01-26 08:09:00\n5\t84.07\t2024-01-23 12:23:00\t93\t97.33\t2024-01-25 08:33:00\t19\t2024-01-26 08:09:00\n6\t21.07\t2024-01-10 12:16:00\t13\t75.95\t2024-01-20 08:03:00\t13\t2024-01-26 08:09:00\n7\t50.67\t2024-01-09 12:53:00\t39\t87.53\t2024-01-08 08:54:00\t79\t2024-01-26 08:09:00\n8\t90.54\t2024-01-13 12:21:00\t99\t80.99\t2024-01-15 08:31:00\t19\t2024-01-26 08:09:00\n9\t33.53\t2024-01-16 12:16:00\t63\t92.57\t2024-01-16 08:15:00\t15\t2024-01-26 08:09:00\n10\t79.71\t2024-01-22 12:14:00\t39\t68.48\t2024-01-19 08:42:00\t98\t2024-01-26 08:09:00\n11\t39.86\t2024-01-15 12:08:00\t75\t37.43\t2024-01-02 08:16:00\t0\t2024-01-26 08:09:00\n12\t56.09\t2024-01-27 12:02:00\t65\t52.13\t2024-01-04 08:43:00\t12\t2024-01-26 08:09:00\n13\t91.43\t2024-01-05 12:01:00\t60\t4.49\t2024-01-03 08:15:00\t11\t2024-01-26 08:09:00\n14\t8.690001\t2024-01-08 12:33:00\t78\t33.07\t2024-01-11 08:16:00\t88\t2024-01-26 08:09:00\n15\t79.44\t2024-01-09 12:06:00\t16\t38.69\t2024-01-20 08:43:00\t70\t2024-01-26 08:09:00\n16\t79.24\t2024-01-17 12:21:00\t81\t53.57\t2024-01-25 08:12:00\t33\t2024-01-26 08:09:00\n17\t87.6\t2024-01-25 12:13:00\t56\t55.21\t2024-01-14 08:22:00\t79\t2024-01-26 08:09:00\n18\t6.1\t2024-01-05 12:39:00\t71\t2.76\t2024-01-25 08:58:00\t6\t2024-01-26 08:09:00\n19\t80.28\t2024-01-23 12:34:00\t10\t56.66\t2024-01-12 08:53:00\t75\t2024-01-26 08:09:00\n20\t46.1\t2024-01-21 12:05:00\t23\t65.67\t2024-01-27 08:32:00\t20\t2024-01-26 08:09:00\n21\t9.29\t2024-01-22 12:55:00\t38\t87.31\t2024-01-07 08:14:00\t62\t2024-01-26 08:09:00\n22\t43.22\t2024-01-07 12:27:00\t22\t15.14\t2024-01-23 08:53:00\t34\t2024-01-26 08:09:00\n23\t45.69\t2024-01-16 12:22:00\t63\t93.31\t2024-01-26 08:32:00\t90\t2024-01-26 08:09:00\n24\t66.38\t2024-01-15 12:48:00\t92\t6.7\t2024-01-23 08:00:00\t95\t2024-01-26 08:09:00\n25\t28.09\t2024-01-07 12:56:00\t26\t25.52\t2024-01-17 08:05:00\t93\t2024-01-26 08:09:00\n26\t68.08\t2024-01-07 12:23:00\t30\t6.8\t2024-01-06 08:46:00\t23\t2024-01-23 08:07:00\n27\t20.4\t2024-01-01 12:47:00\t44\t91.77\t2024-01-12 08:38:00\t38\t2024-01-26 08:09:00\n28\t55.43\t2024-01-18 12:28:00\t19\t8.02\t2024-01-13 08:44:00\t23\t2024-01-27 08:17:00\n29\t38.63\t2024-01-14 12:51:00\t92\t29.44\t2024-01-02 08:17:00\t6\t2024-01-26 08:09:00\n30\t80.01\t2024-01-02 12:07:00\t6\t73.5\t2024-01-18 08:14:00\t58\t2024-01-26 08:09:00\n31\t90.46\t2024-01-12 12:22:00\t99\t41.84\t2024-01-11 08:10:00\t7\t2024-01-26 08:09:00\n32\t50.59\t2024-01-08 12:36:00\t48\t35.9\t2024-01-09 08:40:00\t18\t2024-01-26 08:09:00\n33\t97.3\t2024-01-28 12:31:00\t7\t67.61\t2024-01-25 08:18:00\t73\t2024-01-26 08:09:00\n34\t13.69\t2024-01-16 12:33:00\t91\t1.13\t2024-01-10 08:28:00\t0\t2024-01-26 08:09:00\n35\t75.07\t2024-01-04 12:54:00\t34\t93.43\t2024-01-09 08:35:00\t38\t2024-01-26 08:09:00\n36\t13.73\t2024-01-04 12:18:00\t38\t75.27\t2024-01-02 08:47:00\t35\t2024-01-26 08:09:00\n37\t85.84\t2024-01-08 12:24:00\t39\t100.71\t2024-01-19 08:41:00\t15\t2024-01-26 08:09:00\n38\t12.25\t2024-01-17 12:24:00\t77\t46.25\t2024-01-05 08:36:00\t10\t2024-01-26 08:09:00\n39\t88.48\t2024-01-15 12:37:00\t25\t32.68\t2024-01-25 08:30:00\t50\t2024-01-13 08:32:00\n40\t0.99\t2024-01-06 12:35:00\t3\t50.06\t2024-01-08 08:07:00\t10\t2024-01-14 08:40:00\n41\t94.85\t2024-01-16 12:40:00\t60\t48.06\t2024-01-16 08:24:00\t32\t2024-01-04 08:31:00\n42\t63.5\t2024-01-19 12:00:00\t59\t47.49\t2024-01-07 08:28:00\t32\t2024-01-25 08:03:00\n43\t10.31\t2024-01-02 12:42:00\t24\t21.88\t2024-01-13 08:32:00\t16\t2024-01-03 08:34:00\n44\t52.74\t2024-01-22 12:04:00\t56\t4.84\t2024-01-18 08:24:00\t86\t2024-01-19 08:34:00\n45\t25.07\t2024-01-23 12:13:00\t93\t64.52000000000001\t2024-01-07 08:56:00\t59\t2024-01-05 08:17:00\n46\t82.14\t2024-01-02 12:00:00\t55\t37.54\t2024-01-11 08:51:00\t47\t2024-01-10 08:34:00\n47\t49.62\t2024-01-14 12:58:00\t5\t42.88\t2024-01-23 08:18:00\t76\t2024-01-18 08:33:00\n\n-- t2\n1\t37\t41\n3\t36\t68\n5\t56\t9\n7\t21\t33\n2\t85\t90\n4\t47\t7\n6\t50\t59\n8\t3\t96\n\n-- t3\n1\t57.81\t65.34\t1\t40\t56\ts65\t33\n2\t14.78\t24.4\t1\t11\t5\ts78\t10\n\n-- t4\n1\t98\t54.54\t49\n2\t84\t1.65\t34\n3\t33\t96.04\t83\n4\t3\t11.40\t45\n5\t95\t90.82\t38\n6\t22\t11.13\t52\n\n-- t5\n1\t17.59\t67.24\t61.16\ts39\n2\t58.96\t17.02\t76.84\ts95\n3\t34.27\t17.59\t97.73\ts56\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2) VALUES (1, 48, 73.3, 46);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (2, 51, 98.27, 94), (3, 52, 14.68, 54);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (4, 85, 2.7, 71), (5, 75, 93.55, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (6, 89, 89.74, 61);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (7, 63, 96.05, 67), (8, 46, 34.57, 22), (9, 19, 84.73, 7);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (10, 49, 13.66, 50), (11, 95, 95.69, 41), (12, 16, 11.65, 99);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (13, 30, 28.36, 52);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (14, 3, 0.56, 26);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (15, 48, 13.38, 25), (16, 60, 57.65, 5);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (17, 66, 62.36, 77), (18, 46, 6.72, 83), (19, 47, 58.49, 37);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (20, 97, 43.13, 31), (21, 24, 16.72, 57);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (22, 90, 78.19, 27), (23, 51, 23.5, 9), (24, 61, 34.15, 72);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (25, 72, 0.01, 12);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (26, 63, 82.6, 7), (27, 69, 52, 49);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (28, 70, 87.14, 12);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (29, 78, 94.1, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (30, 16, 73.57, 23), (31, 20, 0.57, 37), (32, 66, 62.1, 83);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (33, 3, 52.49, 25);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (34, 30, 22.24, 9);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (35, 42, 36.16, 88);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 99.6, '2024-01-18 12:54:00', 47, 80.31, '2024-01-10 08:41:00', 9, '2024-01-28 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, 35.7, '2024-01-08 12:35:00', 89, 7.26, '2024-01-26 08:29:00', 42, '2024-01-17 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, 11.99, '2024-01-17 12:23:00', 28, 29.19, '2024-01-13 08:20:00', 78, '2024-01-05 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 59.86, '2024-01-03 12:44:00', 48, 52.6, '2024-01-17 08:11:00', 13, '2024-01-06 08:33:00'), (5, 84.07, '2024-01-23 12:23:00', 93, 96.33, '2024-01-25 08:33:00', 19, '2024-01-12 08:40:00'), (6, 21.07, '2024-01-10 12:16:00', 13, 74.95, '2024-01-20 08:03:00', 13, '2024-01-20 08:17:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 49.67, '2024-01-09 12:53:00', 39, 85.53, '2024-01-08 08:54:00', 79, '2024-01-04 08:33:00'), (8, 90.54, '2024-01-13 12:21:00', 99, 79.99, '2024-01-15 08:31:00', 19, '2024-01-21 08:51:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 33.53, '2024-01-16 12:16:00', 63, 91.57, '2024-01-16 08:15:00', 15, '2024-01-13 08:12:00'), (10, 78.71, '2024-01-22 12:14:00', 39, 67.48, '2024-01-19 08:42:00', 98, '2024-01-28 08:07:00'), (11, 39.86, '2024-01-15 12:08:00', 75, 36.43, '2024-01-02 08:16:00', 0, '2024-01-02 08:42:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 56.09, '2024-01-27 12:02:00', 65, 51.13, '2024-01-04 08:43:00', 12, '2024-01-06 08:03:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, 91.43, '2024-01-05 12:01:00', 60, 3.49, '2024-01-03 08:15:00', 11, '2024-01-18 08:00:00'), (14, 7.69, '2024-01-08 12:33:00', 78, 32.07, '2024-01-11 08:16:00', 88, '2024-01-14 08:26:00'), (15, 78.44, '2024-01-09 12:06:00', 16, 37.69, '2024-01-20 08:43:00', 70, '2024-01-26 08:36:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, 79.24, '2024-01-17 12:21:00', 81, 52.57, '2024-01-25 08:12:00', 33, '2024-01-20 08:01:00'), (17, 86.6, '2024-01-25 12:13:00', 56, 53.21, '2024-01-14 08:22:00', 79, '2024-01-08 08:37:00'), (18, 6.1, '2024-01-05 12:39:00', 71, 1.76, '2024-01-25 08:58:00', 6, '2024-01-19 08:17:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 79.28, '2024-01-23 12:34:00', 10, 55.66, '2024-01-12 08:53:00', 75, '2024-01-18 08:47:00'), (20, 46.1, '2024-01-21 12:05:00', 23, 64.67, '2024-01-27 08:32:00', 20, '2024-01-07 08:44:00'), (21, 8.29, '2024-01-22 12:55:00', 38, 86.31, '2024-01-07 08:14:00', 62, '2024-01-18 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 42.22, '2024-01-07 12:27:00', 22, 14.14, '2024-01-23 08:53:00', 34, '2024-01-09 08:15:00'), (23, 44.69, '2024-01-16 12:22:00', 63, 92.31, '2024-01-26 08:32:00', 90, '2024-01-04 08:03:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (24, 65.38, '2024-01-15 12:48:00', 92, 5.7, '2024-01-23 08:00:00', 95, '2024-01-06 08:28:00'), (25, 27.09, '2024-01-07 12:56:00', 26, 24.52, '2024-01-17 08:05:00', 93, '2024-01-23 08:34:00'), (26, 68.08, '2024-01-07 12:23:00', 30, 5.8, '2024-01-06 08:46:00', 23, '2024-01-23 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (27, 19.4, '2024-01-01 12:47:00', 44, 89.77, '2024-01-12 08:38:00', 38, '2024-01-12 08:33:00'), (28, 55.43, '2024-01-18 12:28:00', 19, 7.02, '2024-01-13 08:44:00', 23, '2024-01-27 08:17:00'), (29, 38.63, '2024-01-14 12:51:00', 92, 28.44, '2024-01-02 08:17:00', 6, '2024-01-06 08:34:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (30, 79.01, '2024-01-02 12:07:00', 6, 72.5, '2024-01-18 08:14:00', 58, '2024-01-04 08:39:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (31, 90.46, '2024-01-12 12:22:00', 99, 40.84, '2024-01-11 08:10:00', 7, '2024-01-07 08:57:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 50.59, '2024-01-08 12:36:00', 48, 34.9, '2024-01-09 08:40:00', 18, '2024-01-01 08:36:00'), (33, 96.3, '2024-01-28 12:31:00', 7, 66.61, '2024-01-25 08:18:00', 73, '2024-01-11 08:54:00'), (34, 13.69, '2024-01-16 12:33:00', 91, 0.13, '2024-01-10 08:28:00', 0, '2024-01-19 08:11:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 74.07, '2024-01-04 12:54:00', 34, 92.43, '2024-01-09 08:35:00', 38, '2024-01-15 08:06:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, 12.73, '2024-01-04 12:18:00', 38, 74.27, '2024-01-02 08:47:00', 35, '2024-01-23 08:48:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, 85.84, '2024-01-08 12:24:00', 39, 99.71, '2024-01-19 08:41:00', 15, '2024-01-04 08:16:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, 12.25, '2024-01-17 12:24:00', 77, 45.25, '2024-01-05 08:36:00', 10, '2024-01-10 08:00:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (36, 15, 96.28, 25), (37, 29, 42.57, 77), (38, 76, 39.97, 77);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, 88.48, '2024-01-15 12:37:00', 25, 31.68, '2024-01-25 08:30:00', 50, '2024-01-13 08:32:00'), (40, 0.99, '2024-01-06 12:35:00', 3, 49.06, '2024-01-08 08:07:00', 10, '2024-01-14 08:40:00'), (41, 94.85, '2024-01-16 12:40:00', 60, 47.06, '2024-01-16 08:24:00', 32, '2024-01-04 08:31:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, 63.5, '2024-01-19 12:00:00', 59, 46.49, '2024-01-07 08:28:00', 32, '2024-01-25 08:03:00'), (43, 10.31, '2024-01-02 12:42:00', 24, 20.88, '2024-01-13 08:32:00', 16, '2024-01-03 08:34:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 52.74, '2024-01-22 12:04:00', 56, 3.84, '2024-01-18 08:24:00', 86, '2024-01-19 08:34:00'), (45, 25.07, '2024-01-23 12:13:00', 93, 63.52, '2024-01-07 08:56:00', 59, '2024-01-05 08:17:00'), (46, 82.14, '2024-01-02 12:00:00', 55, 36.54, '2024-01-11 08:51:00', 47, '2024-01-10 08:34:00');\nINSERT INTO t2 (id, c0, c1) VALUES (1, 37, 39), (2, 85, 88);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 57.81, 65.34, 0, 40, 56, 's65', 33), (2, 14.78, 24.4, 1, 11, 5, 's78', 10);\nINSERT INTO t2 (id, c0, c1) VALUES (3, 36, 67), (4, 47, 6), (5, 56, 8);\nINSERT INTO t4 (id, c0, c1, c2) VALUES (1, 97, 54.54, 49), (2, 83, 1.65, 34), (3, 32, 96.04, 83);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (47, 49.62, '2024-01-14 12:58:00', 5, 42.88, '2024-01-23 08:18:00', 76, '2024-01-18 08:33:00');\nINSERT INTO t2 (id, c0, c1) VALUES (6, 50, 58);\nINSERT INTO t4 (id, c0, c1, c2) VALUES (4, 3, 11.4, 45), (5, 95, 90.82, 38), (6, 22, 11.13, 52);\nINSERT INTO t2 (id, c0, c1) VALUES (7, 21, 33);\nINSERT INTO t2 (id, c0, c1) VALUES (8, 3, 96);\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (1, 17.59, 67.24, 61.16, 's39');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (2, 58.96, 17.02, 76.84, 's95'), (3, 34.27, 17.59, 97.73, 's56');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int DEFAULT NULL,\n  `c1` float NOT NULL,\n  `c2` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2_0` (`c2`),\n  KEY `fk_0` (`id`),\n  KEY `idx_id_3` (`id`),\n  KEY `idx_c1_5` (`c1`),\n  KEY `idx_c0_6` (`c0`),\n  CONSTRAINT `fk_0` FOREIGN KEY (`id`) REFERENCES `t1` (`id`),\n  CONSTRAINT `fk_2` FOREIGN KEY (`id`) REFERENCES `t1` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` int NOT NULL,\n  `c3` double DEFAULT NULL,\n  `c4` timestamp NOT NULL,\n  `c5` bigint DEFAULT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c6` (`c6`),\n  KEY `idx_c0_1` (`c0`),\n  KEY `idx_id_2` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` int DEFAULT NULL,\n  `c1` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_4` (`c0`),\n  KEY `idx_c1_7` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` tinyint(1) NOT NULL,\n  `c3` bigint DEFAULT NULL,\n  `c4` bigint NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  `c6` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2_8` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` int DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` double NOT NULL,\n  `c2` float NOT NULL,\n  `c3` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0024_019be1f5-d25d-70b7-98fc-a45eea431da4",
      "dir": "reports/case_0024_019be1f5-d25d-70b7-98fc-a45eea431da4",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:09:02+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "bfb89f9b48cbf93f762bbac77cbba704decaa5ea",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1) WHERE ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15)))) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1)",
      "norec_predicate": "((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))",
      "sql": [
        "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1) WHERE ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))",
        "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT (CASE WHEN ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15)))) THEN 1 ELSE 0 END) AS b FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1)"
      ],
      "plan_replayer": "reports/case_0024_019be1f5-d25d-70b7-98fc-a45eea431da4/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1) WHERE ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))) q",
        "norec_predicate": "((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15)))) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1)",
        "optimized_explain": "StreamAgg_35\t1.00\troot\t\tfuncs:count(1)->Column#52\n└─StreamAgg_41\t1.00\troot\t\tfuncs:count(1)->Column#54\n  └─TableDual_47\t0.00\troot\t\trows:0\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15)))) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1) WHERE ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_33\t1.00\troot\t\tifnull(Column#50, 0)->Column#51\n└─HashAgg_37\t1.00\troot\t\tfuncs:sum(Column#56)->Column#50\n  └─Projection_200\t1384722222222.22\troot\t\tcast(case(and(and(not(eq(shiro_fuzz_r23.t0.c3, 2024-01-20 08:40:00.000000)), ge(shiro_fuzz_r23.t0.c6, s26)), and(0, and(eq(shiro_fuzz_r23.t3.id, 69), 0))), 1, 0), decimal(20,0) BINARY)->Column#56\n    └─HashJoin_57\t1384722222222.22\troot\t\tCARTESIAN inner join\n      ├─Selection_60(Build)\t0.89\troot\t\tge(shiro_fuzz_r23.t4.id, 1)\n      │ └─Limit_62\t1.11\troot\t\toffset:0, count:7\n      │   └─TableReader_69\t1.11\troot\tpartition:all\tdata:Limit_68\n      │     └─Limit_68\t1.11\tcop[tikv]\t\toffset:0, count:7\n      │       └─Selection_67\t1.11\tcop[tikv]\t\teq(shiro_fuzz_r23.t4.c1, 0), ge(shiro_fuzz_r23.t4.c0, 2024-01-14 00:00:00.000000), le(shiro_fuzz_r23.t4.c3, 2024-01-10 12:47:00.000000), lt(shiro_fuzz_r23.t4.c3, 2024-01-24 12:36:00.000000)\n      │         └─TableFullScan_66\t10000.00\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n      └─HashJoin_91(Probe)\t1562500000000.00\troot\t\tCARTESIAN left outer join, left side:Projection_95, left cond:[or(le(shiro_fuzz_r23.t3.c3, 0), or(0, eq(shiro_fuzz_r23.t3.c3, 0)))]\n        ├─IndexReader_176(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_175\n        │ └─IndexFullScan_175\t10000.00\tcop[tikv]\ttable:t1, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n        └─Projection_95(Probe)\t156250000.00\troot\t\tshiro_fuzz_r23.t3.id, shiro_fuzz_r23.t3.c3, shiro_fuzz_r23.t0.c3, shiro_fuzz_r23.t0.c6\n          └─HashJoin_112\t156250000.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r23.t0.id, shiro_fuzz_r23.t4.id)]\n            ├─TableReader_137(Build)\t10000.00\troot\t\tdata:TableFullScan_136\n            │ └─TableFullScan_136\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n            └─HashJoin_147(Probe)\t125000000.00\troot\t\tCARTESIAN left outer join, left side:MergeJoin_154, left cond:[eq(shiro_fuzz_r23.t4.c1, 1)]\n              ├─IndexReader_172(Build)\t10000.00\troot\t\tindex:IndexFullScan_171\n              │ └─IndexFullScan_171\t10000.00\tcop[tikv]\ttable:t3, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n              └─MergeJoin_154(Probe)\t12500.00\troot\t\tright outer join, left side:TableReader_131, left key:shiro_fuzz_r23.t2.id, right key:shiro_fuzz_r23.t4.id\n                ├─TableReader_131(Build)\t10000.00\troot\t\tdata:TableFullScan_130\n                │ └─TableFullScan_130\t10000.00\tcop[tikv]\ttable:t2\tkeep order:true, stats:pseudo\n                └─TableReader_133(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_132\n                  └─TableFullScan_132\t10000.00\tcop[tikv]\ttable:t4\tkeep order:true, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1) WHERE ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15))));\nWITH cte_0 AS (SELECT t4.c3 AS c0, t4.id AS c1, t4.c2 AS c2 FROM t4 WHERE (((t4.c3 <= '2024-01-10 12:47:00') AND (t4.c0 >= '2024-01-14')) AND ((t4.c1 = 0) AND (t4.c3 < '2024-01-24 12:36:00'))) LIMIT 7) SELECT (CASE WHEN ((NOT (t0.c3 IN ('2024-01-20 08:40:00')) AND (t0.c6 >= 's26')) AND (('s8' > 's82') AND ((t3.id = 69) AND (99.84 <=> 71.15)))) THEN 1 ELSE 0 END) AS b FROM t2 RIGHT JOIN t4 USING (id) LEFT JOIN t3 ON (t4.c1 IN (1)) JOIN t0 ON (t4.id = t0.id) LEFT JOIN t1 ON (((t3.c3 <= 0) OR (37.63 <=> 82.17)) OR (t3.c3 IN (0))) JOIN cte_0 ON (cte_0.c1 >= 1);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t67.71\t81\t94.83\t2024-01-17 08:36:00\t17\t44.23\ts65\n2\t37.27\t21\t28.17\t2024-01-22 08:02:00\t35\t31.31\ts64\n3\t73.16\t47\t59.35\t2024-01-26 08:34:00\t11\t47.05\ts68\n4\t19.71\t41\t59.64\t2024-01-26 08:16:00\t60\t66.63\ts39\n5\t70.08\t12\t57.82\t2024-01-17 08:43:00\t54\t65.57\ts0\n6\t95.05\t33\t93.32\t2024-01-17 08:55:00\t75\t3.78\ts49\n7\t64.58\t61\t46.63\t2024-01-15 08:48:00\t78\t91.93\ts91\n8\t93.21\t6\t95.8\t2024-01-03 08:04:00\t53\t52.64\ts99\n9\t71.32\t68\t35.18\t2024-01-26 08:12:00\t20\t55.24\ts49\n10\t3.82\t34\t56.82\t2024-01-05 08:12:00\t33\t34.3\ts63\n11\t8.88\t40\t18.64\t2024-01-26 08:19:00\t79\t73.41\ts34\n12\t88.19\t43\t14.37\t2024-01-21 08:11:00\t99\t96.01\ts96\n13\t14.36\t46\t39.62\t2024-01-08 08:31:00\t75\t59.93\ts65\n14\t5.88\t76\t54.47\t2024-01-14 08:35:00\t27\t12.56\ts50\n15\t80.63\t87\t18.91\t2024-01-21 08:44:00\t96\t89.86\ts6\n16\t53.4\t82\t83.76\t2024-01-10 08:28:00\t40\t57.25\ts16\n17\t61.51\t9\t75.04\t2024-01-26 08:40:00\t57\t14.85\ts30\n18\t96.47\t38\t88.93\t2024-01-22 08:50:00\t12\t22.63\ts0\n19\t28.44\t85\t73.37\t2024-01-09 08:09:00\t1\t3.61\ts35\n20\t42\t58\t69.29\t2024-01-13 08:30:00\t13\t31.24\ts91\n21\t44.23\t10\t28.45\t2024-01-02 08:38:00\t16\t3.46\ts26\n22\t40.46\t50\t46.55\t2024-01-24 08:10:00\t16\t27.62\ts72\n23\t80.46\t8\t40.06\t2024-01-14 08:54:00\t99\t87.94\ts65\n24\t52.97\t4\t7.89\t2024-01-12 08:28:00\t50\t79.82\ts89\n25\t50.95\t73\t43.38\t2024-01-27 08:55:00\t88\t34.69\ts18\n26\t50.01\t2\t71.56\t2024-01-13 08:32:00\t3\t48.91\ts4\n27\t51.36\t25\t85.49\t2024-01-26 08:13:00\t91\t8.65\ts36\n28\t33.76\t80\t33.76\t2024-01-18 08:17:00\t62\t59.16\ts32\n29\t94.49\t23\t13.07\t2024-01-18 08:57:00\t45\t55.99\ts73\n30\t60.59\t36\t99.67\t2024-01-06 08:07:00\t4\t78.86\ts18\n31\t13.94\t4\t33.67\t2024-01-18 08:58:00\t35\t11.82\ts45\n32\t37.63\t66\t12.11\t2024-01-26 08:18:00\t97\t21.74\ts8\n33\t92.78\t7\t33.35\t2024-01-08 08:05:00\t84\t32.67\ts82\n34\t30.07\t36\t59.18\t2024-01-18 08:38:00\t41\t36.64\ts97\n35\t25.72\t76\t71.95\t2024-01-18 08:06:00\t34\t78.4\ts55\n36\t44\t23\t55.11\t2024-01-01 08:56:00\t20\t47.47\ts64\n37\t93.15\t45\t4.92\t2024-01-14 08:37:00\t12\t13.83\ts28\n38\t32.02\t68\t42.04\t2024-01-11 08:14:00\t15\t51.17\ts56\n39\t69.07\t78\t31.11\t2024-01-16 08:11:00\t40\t66.31\ts72\n40\t67.28\t97\t87.66\t2024-01-07 08:50:00\t24\t100.09\ts68\n41\t67.63\t79\t77.91\t2024-01-23 08:01:00\t94\t77.43\ts0\n42\t36.41\t25\t89.04\t2024-01-01 08:24:00\t11\t35.72\ts37\n\n-- t1\n2\t0\t35\t69\t2024-01-14 08:42:00\t86\n4\t1\t0\t94\t2024-01-11 08:24:00\t90\n6\t1\t15\t43\t2024-01-16 08:48:00\t62\n8\t1\t24\t44\t2024-01-20 08:23:00\t54\n10\t0\t84\t80\t2024-01-28 08:48:00\t63\n12\t1\t50\t40\t2024-01-03 08:49:00\t42\n14\t1\t43\t63\t2024-01-09 08:51:00\t56\n16\t0\t73\t91\t2024-01-23 08:49:00\t29\n18\t0\t29\t22\t2024-01-12 08:25:00\t83\n20\t1\t6\t80\t2024-01-24 08:26:00\t13\n22\t1\t28\t86\t2024-01-21 08:50:00\t95\n24\t1\t32\t22\t2024-01-25 08:25:00\t32\n26\t1\t38\t67\t2024-01-11 08:56:00\t60\n28\t1\t91\t72\t2024-01-11 08:33:00\t19\n30\t1\t61\t63\t2024-01-01 08:40:00\t35\n32\t1\t77\t69\t2024-01-04 08:42:00\t86\n34\t0\t88\t67\t2024-01-22 08:13:00\t28\n36\t0\t49\t47\t2024-01-02 08:02:00\t74\n38\t0\t43\t43\t2024-01-12 08:35:00\t63\n40\t1\t86\t45\t2024-01-17 08:53:00\t59\n1\t1\t47\t55\t2024-01-11 08:49:00\t53\n3\t0\t44\t67\t2024-01-04 08:30:00\t29\n5\t0\t44\t71\t2024-01-07 08:50:00\t68\n7\t1\t1\t99\t2024-01-14 08:35:00\t58\n9\t1\t77\t66\t2024-01-18 08:47:00\t1\n11\t0\t56\t64\t2024-01-01 08:22:00\t46\n13\t0\t11\t12\t2024-01-16 08:03:00\t74\n15\t0\t78\t82\t2024-01-28 08:23:00\t67\n17\t1\t20\t29\t2024-01-10 08:17:00\t22\n19\t1\t42\t74\t2024-01-22 08:23:00\t24\n21\t0\t97\t19\t2024-01-10 08:52:00\t16\n23\t1\t69\t61\t2024-01-13 08:06:00\t61\n25\t0\t24\t34\t2024-01-27 08:55:00\t86\n27\t0\t90\t32\t2024-01-06 08:21:00\t73\n29\t0\t34\t64\t2024-01-12 08:04:00\t82\n31\t1\t22\t29\t2024-01-02 08:07:00\t84\n33\t1\t18\t74\t2024-01-14 08:41:00\t87\n35\t1\t37\t81\t2024-01-24 08:40:00\t45\n37\t1\t83\t49\t2024-01-21 08:18:00\t26\n39\t0\t59\t4\t2024-01-11 08:05:00\t96\n41\t0\t84\t11\t2024-01-21 08:56:00\t24\n\n-- t2\n1\t87.89\t2024-01-24 12:19:00\t77.66\t83.99\t50.28\ts74\t33.4\n2\t21.62\t2024-01-15 12:50:00\t53.49\t76.21\t30.23\ts29\t70.17\n3\t69.80\t2024-01-05 12:19:00\t78.78\t54.48\t84.71\ts35\t84.69\n\n-- t3\n1\t84.65\t25.47\t6.25\t0\t2024-01-14 12:31:00\n\n-- t4\n1\t2024-01-03\t0\t2024-01-17 08:05:00\t2024-01-02 12:50:00\t2024-01-05\n2\t2024-01-10\t0\t2024-01-15 08:46:00\t2024-01-10 12:26:00\t2024-01-20\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 66.71, 81, 94.83, '2024-01-17 08:36:00', 17, 43.23, 's65');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, 36.27, 21, 28.17, '2024-01-22 08:02:00', 35, 30.31, 's64'), (3, 72.16, 47, 59.35, '2024-01-26 08:34:00', 11, 46.05, 's68');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 18.71, 41, 59.64, '2024-01-26 08:16:00', 60, 65.63, 's39');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, 69.08, 12, 57.82, '2024-01-17 08:43:00', 54, 64.57, 's0'), (6, 94.05, 33, 93.32, '2024-01-17 08:55:00', 75, 2.78, 's49');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 64.58, 61, 46.63, '2024-01-15 08:48:00', 78, 91.93, 's91');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, 93.21, 6, 95.8, '2024-01-03 08:04:00', 53, 52.64, 's99');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 70.32, 68, 35.18, '2024-01-26 08:12:00', 20, 54.24, 's49'), (10, 2.82, 34, 56.82, '2024-01-05 08:12:00', 33, 33.3, 's63'), (11, 7.88, 40, 18.64, '2024-01-26 08:19:00', 79, 72.41, 's34');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 88.19, 43, 14.37, '2024-01-21 08:11:00', 99, 96.01, 's96'), (13, 13.36, 46, 39.62, '2024-01-08 08:31:00', 75, 58.93, 's65'), (14, 4.88, 76, 54.47, '2024-01-14 08:35:00', 27, 11.56, 's50');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, 79.63, 87, 18.91, '2024-01-21 08:44:00', 96, 88.86, 's6');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, 52.4, 82, 83.76, '2024-01-10 08:28:00', 40, 56.25, 's16'), (17, 60.51, 9, 75.04, '2024-01-26 08:40:00', 57, 13.85, 's30'), (18, 95.47, 38, 88.93, '2024-01-22 08:50:00', 12, 21.63, 's0');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 27.44, 85, 73.37, '2024-01-09 08:09:00', 1, 2.61, 's35'), (20, 42, 58, 69.29, '2024-01-13 08:30:00', 13, 31.24, 's91');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (21, 43.23, 10, 28.45, '2024-01-02 08:38:00', 16, 2.46, 's26'), (22, 40.46, 50, 46.55, '2024-01-24 08:10:00', 16, 26.62, 's72'), (23, 79.46, 8, 40.06, '2024-01-14 08:54:00', 99, 86.94, 's65');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (24, 52.97, 4, 7.89, '2024-01-12 08:28:00', 50, 79.82, 's89'), (25, 49.95, 73, 43.38, '2024-01-27 08:55:00', 88, 33.69, 's18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (26, 49.01, 2, 71.56, '2024-01-13 08:32:00', 3, 47.91, 's4'), (27, 50.36, 25, 85.49, '2024-01-26 08:13:00', 91, 7.65, 's36'), (28, 32.76, 80, 33.76, '2024-01-18 08:17:00', 62, 58.16, 's32');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (29, 94.49, 23, 13.07, '2024-01-18 08:57:00', 45, 54.99, 's73');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (30, 59.59, 36, 99.67, '2024-01-06 08:07:00', 4, 77.86, 's18'), (31, 12.94, 4, 33.67, '2024-01-18 08:58:00', 35, 10.82, 's45');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 37.63, 66, 12.11, '2024-01-26 08:18:00', 97, 21.74, 's8');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (33, 92.78, 7, 33.35, '2024-01-08 08:05:00', 84, 32.67, 's82'), (34, 30.07, 36, 59.18, '2024-01-18 08:38:00', 41, 36.64, 's97');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 24.72, 76, 71.95, '2024-01-18 08:06:00', 34, 77.4, 's55'), (36, 43, 23, 55.11, '2024-01-01 08:56:00', 20, 46.47, 's64'), (37, 92.15, 45, 4.92, '2024-01-14 08:37:00', 12, 12.83, 's28');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, 31.02, 68, 42.04, '2024-01-11 08:14:00', 15, 50.17, 's56'), (39, 69.07, 78, 31.11, '2024-01-16 08:11:00', 40, 65.31, 's72'), (40, 66.28, 97, 87.66, '2024-01-07 08:50:00', 24, 99.09, 's68');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (1, 1, 47, 54, '2024-01-11 08:49:00', 52), (2, 0, 35, 69, '2024-01-14 08:42:00', 85), (3, 0, 44, 66, '2024-01-04 08:30:00', 28);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (4, 1, 0, 94, '2024-01-11 08:24:00', 89);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (5, 0, 44, 71, '2024-01-07 08:50:00', 68), (6, 1, 15, 42, '2024-01-16 08:48:00', 61), (7, 1, 1, 98, '2024-01-14 08:35:00', 57);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (8, 1, 24, 43, '2024-01-20 08:23:00', 53);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (9, 1, 77, 65, '2024-01-18 08:47:00', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (10, 0, 84, 79, '2024-01-28 08:48:00', 62), (11, 0, 56, 63, '2024-01-01 08:22:00', 45), (12, 1, 50, 39, '2024-01-03 08:49:00', 41);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (13, 0, 11, 12, '2024-01-16 08:03:00', 73), (14, 1, 43, 62, '2024-01-09 08:51:00', 55), (15, 0, 78, 81, '2024-01-28 08:23:00', 66);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (16, 0, 73, 90, '2024-01-23 08:49:00', 28);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (17, 1, 20, 28, '2024-01-10 08:17:00', 21), (18, 0, 29, 22, '2024-01-12 08:25:00', 82);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (19, 1, 42, 73, '2024-01-22 08:23:00', 23), (20, 1, 6, 79, '2024-01-24 08:26:00', 12);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (21, 0, 97, 18, '2024-01-10 08:52:00', 15);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (22, 1, 28, 86, '2024-01-21 08:50:00', 94), (23, 1, 69, 60, '2024-01-13 08:06:00', 60);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (24, 1, 32, 21, '2024-01-25 08:25:00', 31), (25, 0, 24, 34, '2024-01-27 08:55:00', 85), (26, 1, 38, 66, '2024-01-11 08:56:00', 59);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (27, 0, 90, 32, '2024-01-06 08:21:00', 72), (28, 1, 91, 71, '2024-01-11 08:33:00', 18);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (29, 0, 34, 64, '2024-01-12 08:04:00', 81);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (30, 1, 61, 62, '2024-01-01 08:40:00', 34);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (31, 1, 22, 29, '2024-01-02 08:07:00', 83), (32, 1, 77, 69, '2024-01-04 08:42:00', 85), (33, 1, 18, 74, '2024-01-14 08:41:00', 86);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (34, 0, 88, 66, '2024-01-22 08:13:00', 27), (35, 1, 37, 80, '2024-01-24 08:40:00', 44), (36, 0, 49, 47, '2024-01-02 08:02:00', 73);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (37, 1, 83, 48, '2024-01-21 08:18:00', 25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (38, 0, 43, 42, '2024-01-12 08:35:00', 62);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 87.89, '2024-01-24 12:19:00', 77.66, 83.99, 50.28, 's74', 33.4), (2, 21.62, '2024-01-15 12:50:00', 53.49, 76.21, 30.23, 's29', 70.17), (3, 69.8, '2024-01-05 12:19:00', 78.78, 54.48, 84.71, 's35', 84.69);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4) VALUES (1, 84.65, 25.47, 6.25, 0, '2024-01-14 12:31:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (1, '2024-01-03', 0, '2024-01-17 08:05:00', '2024-01-02 12:50:00', '2024-01-05'), (2, '2024-01-10', 0, '2024-01-15 08:46:00', '2024-01-10 12:26:00', '2024-01-20');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (39, 0, 59, 4, '2024-01-11 08:05:00', 95), (40, 1, 86, 45, '2024-01-17 08:53:00', 58), (41, 0, 84, 11, '2024-01-21 08:56:00', 23);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (41, 67.63, 79, 77.91, '2024-01-23 08:01:00', 94, 77.43, 's0'), (42, 36.41, 25, 89.04, '2024-01-01 08:24:00', 11, 35.72, 's37');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` float DEFAULT NULL,\n  `c1` int NOT NULL,\n  `c2` double NOT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` bigint NOT NULL,\n  `c5` float NOT NULL,\n  `c6` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` bigint NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` int NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` float NOT NULL,\n  `c3` float NOT NULL,\n  `c4` double NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  `c6` double DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` double NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` timestamp NULL DEFAULT NULL,\n  `c3` datetime NOT NULL,\n  `c4` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0023_019be1f5-c12f-7426-afcf-d00d9645b065",
      "dir": "reports/case_0023_019be1f5-c12f-7426-afcf-d00d9645b065",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:08:58+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "d6c1145d688faa2cd1a1c5fdef203120441f0608",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(cte_0.c2) AS sum1 FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00'))) WHERE ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') ORDER BY UPPER(t1.c4) DESC) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') THEN 1 ELSE 0 END),0) FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00')))",
      "norec_predicate": "('2024-01-21 08:51:00' < '2024-01-23 12:03:00')",
      "sql": [
        "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(cte_0.c2) AS sum1 FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00'))) WHERE ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') ORDER BY UPPER(t1.c4) DESC",
        "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT (CASE WHEN ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') THEN 1 ELSE 0 END) AS b FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00')))"
      ],
      "plan_replayer": "reports/case_0023_019be1f5-c12f-7426-afcf-d00d9645b065/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(cte_0.c2) AS sum1 FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00'))) WHERE ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') ORDER BY UPPER(t1.c4) DESC) q",
        "norec_predicate": "('2024-01-21 08:51:00' < '2024-01-23 12:03:00')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') THEN 1 ELSE 0 END),0) FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00')))",
        "optimized_explain": "StreamAgg_34\t1.00\troot\t\tfuncs:count(1)->Column#33\n└─StreamAgg_40\t1.00\troot\t\tfuncs:count(1)->Column#38\n  └─HashJoin_55\t0.00\troot\t\tCARTESIAN inner join\n    ├─Projection_60(Build)\t0.00\troot\t\t0->Column#39\n    │ └─TableDual_62\t0.00\troot\t\trows:0\n    └─MergeJoin_67(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r22.t0.id, right key:shiro_fuzz_r22.t1.id\n      ├─TableReader_85(Build)\t10000.00\troot\t\tdata:TableFullScan_84\n      │ └─TableFullScan_84\t10000.00\tcop[tikv]\ttable:t1\tkeep order:true, stats:pseudo\n      └─TableReader_83(Probe)\t10000.00\troot\t\tdata:TableFullScan_82\n        └─TableFullScan_82\t10000.00\tcop[tikv]\ttable:t0\tkeep order:true, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') THEN 1 ELSE 0 END),0) FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00')))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(cte_0.c2) AS sum1 FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00'))) WHERE ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') ORDER BY UPPER(t1.c4) DESC) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_23\t1.00\troot\t\tifnull(Column#29, 0)->Column#30\n└─StreamAgg_30\t1.00\troot\t\tfuncs:sum(1)->Column#29\n  └─HashJoin_45\t0.00\troot\t\tCARTESIAN inner join\n    ├─Projection_50(Build)\t0.00\troot\t\t0->Column#35\n    │ └─TableDual_52\t0.00\troot\t\trows:0\n    └─MergeJoin_57(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r22.t0.id, right key:shiro_fuzz_r22.t1.id\n      ├─TableReader_75(Build)\t10000.00\troot\t\tdata:TableFullScan_74\n      │ └─TableFullScan_74\t10000.00\tcop[tikv]\ttable:t1\tkeep order:true, stats:pseudo\n      └─TableReader_73(Probe)\t10000.00\troot\t\tdata:TableFullScan_72\n        └─TableFullScan_72\t10000.00\tcop[tikv]\ttable:t0\tkeep order:true, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(cte_0.c2) AS sum1 FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00'))) WHERE ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') ORDER BY UPPER(t1.c4) DESC;\nWITH cte_0 AS (SELECT t0.c0 AS c0, t0.c4 AS c1, t0.c2 AS c2 FROM t0 WHERE (((t0.c4 <= 0) AND (t0.c2 != 42.96)) AND (('2024-01-24 12:58:00' <=> '2024-01-17 12:53:00') AND (t0.id >= 77))) LIMIT 6) SELECT (CASE WHEN ('2024-01-21 08:51:00' < '2024-01-23 12:03:00') THEN 1 ELSE 0 END) AS b FROM t0 JOIN t1 USING (id) JOIN cte_0 ON ((36.4 <= 49.87) OR ((t1.c1 > '2024-01-14') AND (t1.c3 <=> '2024-01-20 08:35:00')));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t0\t97\t43.59\t75.11\t0\n2\t1\t8\t71.01\t45.61\t0\n3\t0\t6\t33.92\t52.11\t0\n4\t1\t47\t2.28\t28.86\t0\n5\t0\t2\t75.13\t20.59\t0\n6\t1\t58\t94.59\t38.36\t1\n7\t1\t38\t35.22\t91.59\t1\n8\t1\t69\t35.01\t40.76\t1\n9\t0\t28\t42.34\t47.13\t0\n10\t1\t76\t57.10\t61.33\t1\n11\t1\t95\t81.48\t72.81\t0\n12\t1\t18\t18.45\t96.71\t1\n13\t1\t54\t96.61\t7.24\t0\n14\t0\t70\t95.54\t94.03\t0\n15\t0\t13\t98.43\t26.74\t1\n16\t1\t15\t14.65\t57.59\t1\n17\t1\t32\t29.68\t38.96\t0\n18\t0\t97\t14.47\t38.47\t1\n19\t1\t53\t26.48\t80.46\t0\n20\t1\t40\t40.89\t93.85\t0\n21\t0\t28\t64.13\t25.41\t0\n22\t1\t9\t69.73\t66.33\t0\n23\t1\t86\t58.12\t13.19\t1\n24\t0\t48\t48.59\t23.39\t1\n25\t0\t70\t99.62\t48.36\t0\n26\t1\t27\t43.13\t36.1\t0\n27\t0\t21\t98.51\t84.34\t0\n28\t1\t34\t39.86\t79.27\t0\n29\t0\t79\t19.38\t16.1\t0\n30\t1\t86\t44.53\t64.99\t1\n31\t1\t86\t46.87\t76.34\t1\n32\t0\t81\t63.46\t86.59\t1\n33\t0\t81\t3.36\t77.83\t0\n34\t0\t16\t56.55\t8.33\t1\n35\t1\t26\t42.78\t7.76\t1\n36\t0\t74\t75.67\t6.88\t1\n37\t1\t16\t98.76\t95.4\t1\n38\t0\t39\t37.55\t67.57\t1\n39\t1\t21\t0.45\t29.49\t0\n40\t1\t83\t51.16\t65.87\t1\n41\t1\t34\t9.64\t29.72\t1\n42\t0\t0\t79.36\t34.47\t0\n\n-- t1\n1\t2024-01-12 12:14:00\t2024-01-11\t2024-01-25 08:25:00\t2024-01-26 08:01:00\ts20\t1.8\n2\t2024-01-09 12:46:00\t2024-01-27\t2024-01-03 08:36:00\t2024-01-07 08:19:00\ts23\t21.74\n3\t2024-01-13 12:57:00\t2024-01-22\t2024-01-20 08:52:00\t2024-01-09 08:18:00\ts0\t30.15\n4\t2024-01-07 12:03:00\t2024-01-10\t2024-01-13 08:13:00\t2024-01-07 08:24:00\ts38\t43.32\n5\t2024-01-12 12:42:00\t2024-01-11\t2024-01-16 08:49:00\t2024-01-28 08:54:00\ts75\t53.14\n6\t2024-01-16 12:18:00\t2024-01-10\t2024-01-09 08:50:00\t2024-01-14 08:45:00\ts27\t24.86\n7\t2024-01-01 12:18:00\t2024-01-12\t2024-01-01 08:41:00\t2024-01-17 08:44:00\ts62\t59.77\n8\t2024-01-22 12:48:00\t2024-01-26\t2024-01-15 08:39:00\t2024-01-21 08:30:00\ts34\t25.01\n9\t2024-01-15 12:06:00\t2024-01-07\t2024-01-17 08:06:00\t2024-01-13 08:39:00\ts52\t11.96\n10\t2024-01-14 12:45:00\t2024-01-08\t2024-01-23 08:01:00\t2024-01-27 08:07:00\ts7\t91.59\n11\t2024-01-10 12:31:00\t2024-01-10\t2024-01-26 08:29:00\t2024-01-22 08:09:00\ts74\t62.52\n12\t2024-01-21 12:33:00\t2024-01-18\t2024-01-06 08:56:00\t2024-01-16 08:01:00\ts43\t34.79\n13\t2024-01-03 12:07:00\t2024-01-27\t2024-01-21 08:22:00\t2024-01-23 08:48:00\ts75\t82.42\n14\t2024-01-11 12:09:00\t2024-01-02\t2024-01-04 08:09:00\t2024-01-06 08:52:00\ts63\t94.8\n15\t2024-01-24 12:54:00\t2024-01-08\t2024-01-10 08:17:00\t2024-01-17 08:23:00\ts61\t71.06\n16\t2024-01-11 12:57:00\t2024-01-17\t2024-01-27 08:08:00\t2024-01-21 08:28:00\ts59\t57.93\n17\t2024-01-14 12:43:00\t2024-01-07\t2024-01-20 08:30:00\t2024-01-05 08:18:00\ts63\t58.46\n18\t2024-01-04 12:44:00\t2024-01-08\t2024-01-01 08:02:00\t2024-01-09 08:51:00\ts47\t90.91\n19\t2024-01-01 12:23:00\t2024-01-24\t2024-01-16 08:48:00\t2024-01-08 08:41:00\ts60\t17.84\n20\t2024-01-07 12:05:00\t2024-01-02\t2024-01-04 08:30:00\t2024-01-07 08:37:00\ts13\t73.68\n21\t2024-01-04 12:10:00\t2024-01-04\t2024-01-09 08:42:00\t2024-01-02 08:52:00\ts43\t52.8\n22\t2024-01-19 12:33:00\t2024-01-03\t2024-01-20 08:50:00\t2024-01-02 08:40:00\ts24\t12\n23\t2024-01-16 12:05:00\t2024-01-17\t2024-01-12 08:09:00\t2024-01-03 08:44:00\ts67\t66.39\n24\t2024-01-21 12:35:00\t2024-01-11\t2024-01-01 08:37:00\t2024-01-15 08:29:00\ts53\t47.49\n25\t2024-01-08 12:53:00\t2024-01-26\t2024-01-12 08:57:00\t2024-01-07 08:04:00\ts39\t3.16\n26\t2024-01-19 12:26:00\t2024-01-23\t2024-01-06 08:00:00\t2024-01-20 08:50:00\ts80\t18.53\n27\t2024-01-19 12:30:00\t2024-01-05\t2024-01-14 08:20:00\t2024-01-04 08:44:00\ts17\t64.54\n28\t2024-01-11 12:58:00\t2024-01-07\t2024-01-13 08:30:00\t2024-01-10 08:30:00\ts0\t15.22\n29\t2024-01-13 12:26:00\t2024-01-15\t2024-01-24 08:09:00\t2024-01-04 08:36:00\ts89\t71.41\n30\t2024-01-10 12:25:00\t2024-01-23\t2024-01-08 08:55:00\t2024-01-24 08:55:00\ts64\t22.91\n31\t2024-01-13 12:47:00\t2024-01-23\t2024-01-23 08:47:00\t2024-01-11 08:56:00\ts82\t61.09\n32\t2024-01-11 12:13:00\t2024-01-02\t2024-01-17 08:57:00\t2024-01-19 08:44:00\ts51\t6.79\n33\t2024-01-21 12:25:00\t2024-01-22\t2024-01-16 08:50:00\t2024-01-14 08:58:00\ts64\t27.34\n34\t2024-01-22 12:57:00\t2024-01-14\t2024-01-08 08:08:00\t2024-01-12 08:42:00\ts67\t89.43\n35\t2024-01-11 12:28:00\t2024-01-28\t2024-01-17 08:27:00\t2024-01-02 08:31:00\ts69\t27.9\n36\t2024-01-07 12:35:00\t2024-01-03\t2024-01-21 08:07:00\t2024-01-07 08:31:00\ts22\t63.62\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (1, 0, 97, 43.59, 75.11, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (2, 1, 8, 71.01, 45.61, 0), (3, 0, 6, 33.92, 52.11, 0), (4, 1, 47, 2.28, 28.86, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (5, 0, 2, 75.13, 20.59, 0), (6, 1, 58, 94.59, 38.36, 1), (7, 1, 38, 35.22, 91.59, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (8, 1, 69, 35.01, 40.76, 1), (9, 0, 28, 42.34, 47.13, 0), (10, 1, 76, 57.1, 61.33, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (11, 1, 95, 81.48, 72.81, 0), (12, 1, 18, 18.45, 96.71, 1), (13, 1, 54, 96.61, 7.24, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (14, 0, 70, 95.54, 94.03, 0), (15, 0, 13, 98.43, 26.74, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (16, 1, 15, 14.65, 57.59, 1), (17, 1, 32, 29.68, 38.96, 0), (18, 0, 97, 14.47, 38.47, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (19, 1, 53, 26.48, 80.46, 0), (20, 1, 40, 40.89, 93.85, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (21, 0, 28, 64.13, 25.41, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (22, 1, 9, 69.73, 66.33, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (23, 1, 86, 58.12, 13.19, 1), (24, 0, 48, 48.59, 23.39, 1), (25, 0, 70, 99.62, 48.36, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (26, 1, 27, 43.13, 36.1, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (27, 0, 21, 98.51, 84.34, 0), (28, 1, 34, 39.86, 79.27, 0), (29, 0, 79, 19.38, 16.1, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (30, 1, 86, 44.53, 64.99, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (31, 1, 86, 46.87, 76.34, 1), (32, 0, 81, 63.46, 86.59, 1), (33, 0, 81, 3.36, 77.83, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (34, 0, 16, 56.55, 8.33, 1), (35, 1, 26, 42.78, 7.76, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (36, 0, 74, 75.67, 6.88, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (37, 1, 16, 98.76, 95.4, 1), (38, 0, 39, 37.55, 67.57, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (39, 1, 21, 0.45, 29.49, 0), (40, 1, 83, 51.16, 65.87, 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (41, 1, 34, 9.64, 29.72, 1), (42, 0, 0, 79.36, 34.47, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-12 12:14:00', '2024-01-11', '2024-01-25 08:25:00', '2024-01-26 08:01:00', 's20', 1.8);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (2, '2024-01-09 12:46:00', '2024-01-27', '2024-01-03 08:36:00', '2024-01-07 08:19:00', 's23', 21.74), (3, '2024-01-13 12:57:00', '2024-01-22', '2024-01-20 08:52:00', '2024-01-09 08:18:00', 's0', 30.15), (4, '2024-01-07 12:03:00', '2024-01-10', '2024-01-13 08:13:00', '2024-01-07 08:24:00', 's38', 43.32);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (5, '2024-01-12 12:42:00', '2024-01-11', '2024-01-16 08:49:00', '2024-01-28 08:54:00', 's75', 53.14), (6, '2024-01-16 12:18:00', '2024-01-10', '2024-01-09 08:50:00', '2024-01-14 08:45:00', 's27', 24.86), (7, '2024-01-01 12:18:00', '2024-01-12', '2024-01-01 08:41:00', '2024-01-17 08:44:00', 's62', 59.77);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (8, '2024-01-22 12:48:00', '2024-01-26', '2024-01-15 08:39:00', '2024-01-21 08:30:00', 's34', 25.01), (9, '2024-01-15 12:06:00', '2024-01-07', '2024-01-17 08:06:00', '2024-01-13 08:39:00', 's52', 11.96);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, '2024-01-14 12:45:00', '2024-01-08', '2024-01-23 08:01:00', '2024-01-27 08:07:00', 's7', 91.59), (11, '2024-01-10 12:31:00', '2024-01-10', '2024-01-26 08:29:00', '2024-01-22 08:09:00', 's74', 62.52), (12, '2024-01-21 12:33:00', '2024-01-18', '2024-01-06 08:56:00', '2024-01-16 08:01:00', 's43', 34.79);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, '2024-01-03 12:07:00', '2024-01-27', '2024-01-21 08:22:00', '2024-01-23 08:48:00', 's75', 82.42), (14, '2024-01-11 12:09:00', '2024-01-02', '2024-01-04 08:09:00', '2024-01-06 08:52:00', 's63', 94.8);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, '2024-01-24 12:54:00', '2024-01-08', '2024-01-10 08:17:00', '2024-01-17 08:23:00', 's61', 71.06), (16, '2024-01-11 12:57:00', '2024-01-17', '2024-01-27 08:08:00', '2024-01-21 08:28:00', 's59', 57.93), (17, '2024-01-14 12:43:00', '2024-01-07', '2024-01-20 08:30:00', '2024-01-05 08:18:00', 's63', 58.46);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (18, '2024-01-04 12:44:00', '2024-01-08', '2024-01-01 08:02:00', '2024-01-09 08:51:00', 's47', 90.91);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (19, '2024-01-01 12:23:00', '2024-01-24', '2024-01-16 08:48:00', '2024-01-08 08:41:00', 's60', 17.84);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (20, '2024-01-07 12:05:00', '2024-01-02', '2024-01-04 08:30:00', '2024-01-07 08:37:00', 's13', 73.68);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, '2024-01-04 12:10:00', '2024-01-04', '2024-01-09 08:42:00', '2024-01-02 08:52:00', 's43', 52.8), (22, '2024-01-19 12:33:00', '2024-01-03', '2024-01-20 08:50:00', '2024-01-02 08:40:00', 's24', 12);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, '2024-01-16 12:05:00', '2024-01-17', '2024-01-12 08:09:00', '2024-01-03 08:44:00', 's67', 66.39);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (24, '2024-01-21 12:35:00', '2024-01-11', '2024-01-01 08:37:00', '2024-01-15 08:29:00', 's53', 47.49);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (25, '2024-01-08 12:53:00', '2024-01-26', '2024-01-12 08:57:00', '2024-01-07 08:04:00', 's39', 3.16);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, '2024-01-19 12:26:00', '2024-01-23', '2024-01-06 08:00:00', '2024-01-20 08:50:00', 's80', 18.53), (27, '2024-01-19 12:30:00', '2024-01-05', '2024-01-14 08:20:00', '2024-01-04 08:44:00', 's17', 64.54);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (28, '2024-01-11 12:58:00', '2024-01-07', '2024-01-13 08:30:00', '2024-01-10 08:30:00', 's0', 15.22), (29, '2024-01-13 12:26:00', '2024-01-15', '2024-01-24 08:09:00', '2024-01-04 08:36:00', 's89', 71.41), (30, '2024-01-10 12:25:00', '2024-01-23', '2024-01-08 08:55:00', '2024-01-24 08:55:00', 's64', 22.91);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (31, '2024-01-13 12:47:00', '2024-01-23', '2024-01-23 08:47:00', '2024-01-11 08:56:00', 's82', 61.09);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (32, '2024-01-11 12:13:00', '2024-01-02', '2024-01-17 08:57:00', '2024-01-19 08:44:00', 's51', 6.79), (33, '2024-01-21 12:25:00', '2024-01-22', '2024-01-16 08:50:00', '2024-01-14 08:58:00', 's64', 27.34), (34, '2024-01-22 12:57:00', '2024-01-14', '2024-01-08 08:08:00', '2024-01-12 08:42:00', 's67', 89.43);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (35, '2024-01-11 12:28:00', '2024-01-28', '2024-01-17 08:27:00', '2024-01-02 08:31:00', 's69', 27.9);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (36, '2024-01-07 12:35:00', '2024-01-03', '2024-01-21 08:07:00', '2024-01-07 08:31:00', 's22', 63.62);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` int NOT NULL,\n  `c2` decimal(12,2) DEFAULT NULL,\n  `c3` double NOT NULL,\n  `c4` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` datetime DEFAULT NULL,\n  `c1` date NOT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` varchar(64) NOT NULL,\n  `c5` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0022_019be1f5-b1a5-7e5b-a357-0c57ae972615",
      "dir": "reports/case_0022_019be1f5-b1a5-7e5b-a357-0c57ae972615",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:08:54+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "f8eed2ba7ac33f3719a4e94e93682cfacf166b0a",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t2.c2) AS sum1 FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1) WHERE (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1)",
      "norec_predicate": "(NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t2.c2) AS sum1 FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1) WHERE (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))",
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT (CASE WHEN (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1)"
      ],
      "plan_replayer": "reports/case_0022_019be1f5-b1a5-7e5b-a357-0c57ae972615/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t2.c2) AS sum1 FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1) WHERE (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))) q",
        "norec_predicate": "(NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1)",
        "optimized_explain": "StreamAgg_47\t1.00\troot\t\tfuncs:count(1)->Column#47\n└─HashAgg_50\t1.00\troot\t\tfuncs:count(1)->Column#49\n  └─Selection_54\t1400000000.00\troot\t\tnot(in(shiro_fuzz_r21.t1.c0, 9, 28.47))\n    └─HashJoin_72\t1750000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_89(Build)\t17.50\troot\t\tCARTESIAN inner join\n      │ ├─HashJoin_98(Build)\t2.50\troot\t\tleft outer join, left side:Limit_99, equal:[eq(shiro_fuzz_r21.t0.c0, shiro_fuzz_r21.t1.c1)]\n      │ │ ├─Limit_99(Build)\t2.00\troot\t\toffset:0, count:2\n      │ │ │ └─TableReader_106\t2.00\troot\t\tdata:Limit_105\n      │ │ │   └─Limit_105\t2.00\tcop[tikv]\t\toffset:0, count:2\n      │ │ │     └─Selection_104\t2.00\tcop[tikv]\t\tin(shiro_fuzz_r21.t0.c2, 2024-01-01 12:13:00.000000, 2024-01-08 12:18:00.000000, 2024-01-09 12:22:00.000000)\n      │ │ │       └─TableFullScan_103\t666.67\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      │ │ └─TableReader_111(Probe)\t10000.00\troot\t\tdata:TableFullScan_110\n      │ │   └─TableFullScan_110\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      │ └─Limit_112(Probe)\t7.00\troot\t\toffset:0, count:7\n      │   └─TableReader_119\t7.00\troot\t\tdata:Limit_118\n      │     └─Limit_118\t7.00\tcop[tikv]\t\toffset:0, count:7\n      │       └─Selection_117\t7.00\tcop[tikv]\t\tor(and(ne(shiro_fuzz_r21.t1.c2, 90.28), lt(shiro_fuzz_r21.t1.c0, 45.45)), le(shiro_fuzz_r21.t1.id, 11))\n      │         └─TableFullScan_116\t31.52\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─HashJoin_136(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_145(Build)\t10000.00\troot\t\tindex:IndexFullScan_144\n        │ └─IndexFullScan_144\t10000.00\tcop[tikv]\ttable:t2, index:idx_c4(c4)\tkeep order:false, stats:pseudo\n        └─IndexReader_141(Probe)\t10000.00\troot\t\tindex:IndexFullScan_140\n          └─IndexFullScan_140\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t2.c2) AS sum1 FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1) WHERE (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_37\t1.00\troot\t\tifnull(Column#45, 0)->Column#46\n└─HashAgg_41\t1.00\troot\t\tfuncs:sum(Column#51)->Column#45\n  └─Projection_158\t1750000000.00\troot\t\tcast(case(or(not(in(shiro_fuzz_r21.t1.c0, 9, 28.47)), 0), 1, 0), decimal(20,0) BINARY)->Column#51\n    └─HashJoin_61\t1750000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_78(Build)\t17.50\troot\t\tCARTESIAN inner join\n      │ ├─HashJoin_87(Build)\t2.50\troot\t\tleft outer join, left side:Limit_88, equal:[eq(shiro_fuzz_r21.t0.c0, shiro_fuzz_r21.t1.c1)]\n      │ │ ├─Limit_88(Build)\t2.00\troot\t\toffset:0, count:2\n      │ │ │ └─TableReader_95\t2.00\troot\t\tdata:Limit_94\n      │ │ │   └─Limit_94\t2.00\tcop[tikv]\t\toffset:0, count:2\n      │ │ │     └─Selection_93\t2.00\tcop[tikv]\t\tin(shiro_fuzz_r21.t0.c2, 2024-01-01 12:13:00.000000, 2024-01-08 12:18:00.000000, 2024-01-09 12:22:00.000000)\n      │ │ │       └─TableFullScan_92\t666.67\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      │ │ └─TableReader_100(Probe)\t10000.00\troot\t\tdata:TableFullScan_99\n      │ │   └─TableFullScan_99\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      │ └─Limit_101(Probe)\t7.00\troot\t\toffset:0, count:7\n      │   └─TableReader_108\t7.00\troot\t\tdata:Limit_107\n      │     └─Limit_107\t7.00\tcop[tikv]\t\toffset:0, count:7\n      │       └─Selection_106\t7.00\tcop[tikv]\t\tor(and(ne(shiro_fuzz_r21.t1.c2, 90.28), lt(shiro_fuzz_r21.t1.c0, 45.45)), le(shiro_fuzz_r21.t1.id, 11))\n      │         └─TableFullScan_105\t31.52\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─HashJoin_125(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_134(Build)\t10000.00\troot\t\tindex:IndexFullScan_133\n        │ └─IndexFullScan_133\t10000.00\tcop[tikv]\ttable:t2, index:idx_c4(c4)\tkeep order:false, stats:pseudo\n        └─IndexReader_130(Probe)\t10000.00\troot\t\tindex:IndexFullScan_129\n          └─IndexFullScan_129\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t2.c2) AS sum1 FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1) WHERE (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66)));\nWITH cte_0 AS (SELECT t1.c2 AS c0, t1.c3 AS c1, t1.id AS c2 FROM t1 WHERE (((t1.c2 != 90.28) AND (t1.c0 < 45.45)) OR ((t1.id <= 11) AND ('2024-01-10' != '2024-01-28'))) LIMIT 7), cte_1 AS (SELECT t0.c2 AS c0, t0.c0 AS c1, t0.c1 AS c2 FROM t0 WHERE (t0.c2 IN ('2024-01-01 12:13:00', '2024-01-08 12:18:00', '2024-01-09 12:22:00')) LIMIT 2) SELECT (CASE WHEN (NOT (t1.c0 IN (9, 28.47)) OR (cte_0.c2 IN (2.68, 5.66))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN cte_0 CROSS JOIN t2 CROSS JOIN cte_1 LEFT JOIN t1 ON (cte_1.c1 = t1.c1);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n3\t2024-01-11 12:35:00\t2024-01-14\t2024-01-03 12:02:00\t1\n45\t2024-01-11 12:36:00\t2024-01-03\t2024-01-03 12:02:00\t0\n46\t2024-01-16 12:58:00\t2024-01-14\t2024-01-03 12:02:00\t0\n47\t2024-01-26 12:25:00\t2024-01-03\t2024-01-11 12:32:00\t1\n48\t2024-01-22 12:46:00\t2024-01-24\t2024-01-27 12:51:00\t0\n49\t2024-01-24 12:16:00\t2024-01-10\t2024-01-13 12:43:00\t1\n50\t2024-01-08 12:28:00\t2024-01-05\t2024-01-20 12:32:00\t0\n\n-- t1\n1\t17.01\t2024-01-10\t43.66\t13\n2\t3\t2024-01-12\t81.04\t9\n3\t83.89\t2024-01-23\t23.26\t62\n4\t30.84\t2024-01-06\t70.42\t74\n5\t2.14\t2024-01-24\t12.23\t15\n6\t21.12\t2024-01-17\t15.74\t57\n7\t61.06\t2024-01-03\t50.19\t94\n8\t64.39\t2024-01-21\t15.63\t70\n9\t32.66\t2024-01-07\t4.45\t84\n10\t6.28\t2024-01-01\t24.45\t11\n11\t84.64\t2024-01-05\t66.48\t43\n12\t79.43\t2024-01-15\t46.29\t11\n13\t75.66\t2024-01-17\t64.44\t10\n14\t89.11\t2024-01-11\t32.92\t21\n15\t80.58\t2024-01-18\t39.48\t76\n16\t71.03\t2024-01-26\t51.27\t58\n17\t11.75\t2024-01-26\t82.66\t69\n18\t13.83\t2024-01-12\t12.90\t77\n19\t23.61\t2024-01-01\t2.42\t53\n20\t9.44\t2024-01-05\t52.56\t77\n21\t22.05\t2024-01-14\t47.00\t40\n22\t28.94\t2024-01-25\t4.68\t50\n23\t64.46\t2024-01-15\t41.98\t39\n24\t33.03\t2024-01-15\t38.41\t79\n25\t32.06\t2024-01-22\t87.16\t59\n26\t94.7\t2024-01-21\t17.44\t98\n27\t26.95\t2024-01-08\t90.54\t78\n28\t69.27\t2024-01-20\t41.34\t65\n29\t68.16\t2024-01-12\t62.33\t64\n30\t67.45\t2024-01-21\t80.08\t91\n31\t59.13\t2024-01-22\t1.31\t13\n32\t19.49\t2024-01-11\t67.63\t16\n33\t28.1\t2024-01-02\t49.21\t36\n34\t55.52\t2024-01-24\t90.98\t64\n35\t90.45\t2024-01-28\t82.60\t11\n36\t53.34\t2024-01-28\t49.26\t59\n37\t35.78\t2024-01-25\t98.18\t29\n38\t30.94\t2024-01-27\t75.10\t54\n39\t26.47\t2024-01-02\t52.08\t92\n40\t45.09\t2024-01-11\t47.71\t8\n41\t23.5\t2024-01-20\t28.42\t33\n42\t32.2\t2024-01-21\t39.28\t36\n43\t37.61\t2024-01-21\t85.43\t25\n\n-- t2\n1\t2\t44\t27.42\t7.06\t98\t4.49\t78.60\n2\t34\t46\t9.58\t91.22\t57\t8.86\t5.42\n3\t30\t46\t9.13\t7.52\t67\t88.17\t27.62\n4\t53\t49\t86.62\t69.03\t10\t18.12\t91.53\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3) VALUES (1, '2024-01-16 12:49:00', '2024-01-22', '2024-01-15 12:16:00', 0), (2, '2024-01-02 12:57:00', '2024-01-17', '2024-01-10 12:55:00', 1), (3, '2024-01-11 12:35:00', '2024-01-14', '2024-01-05 12:07:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (4, '2024-01-27 12:10:00', '2024-01-07', '2024-01-12 12:51:00', 0), (5, '2024-01-18 12:13:00', '2024-01-25', '2024-01-09 12:14:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (6, '2024-01-10 12:47:00', '2024-01-25', '2024-01-27 12:57:00', 1), (7, '2024-01-06 12:52:00', '2024-01-12', '2024-01-26 12:09:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (8, '2024-01-20 12:54:00', '2024-01-09', '2024-01-18 12:23:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (9, '2024-01-15 12:35:00', '2024-01-14', '2024-01-01 12:41:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (10, '2024-01-08 12:38:00', '2024-01-08', '2024-01-10 12:12:00', 0), (11, '2024-01-12 12:46:00', '2024-01-19', '2024-01-21 12:48:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (12, '2024-01-13 12:01:00', '2024-01-08', '2024-01-08 12:10:00', 0), (13, '2024-01-24 12:21:00', '2024-01-19', '2024-01-12 12:48:00', 0), (14, '2024-01-12 12:20:00', '2024-01-27', '2024-01-06 12:49:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (15, '2024-01-20 12:06:00', '2024-01-27', '2024-01-04 12:15:00', 0), (16, '2024-01-17 12:06:00', '2024-01-03', '2024-01-08 12:18:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (17, '2024-01-24 12:16:00', '2024-01-09', '2024-01-25 12:07:00', 0), (18, '2024-01-18 12:50:00', '2024-01-08', '2024-01-24 12:14:00', 0), (19, '2024-01-05 12:34:00', '2024-01-24', '2024-01-11 12:03:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (20, '2024-01-07 12:50:00', '2024-01-11', '2024-01-28 12:48:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (21, '2024-01-20 12:09:00', '2024-01-16', '2024-01-27 12:55:00', 0), (22, '2024-01-26 12:44:00', '2024-01-28', '2024-01-06 12:41:00', 1), (23, '2024-01-18 12:40:00', '2024-01-05', '2024-01-02 12:56:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (24, '2024-01-06 12:29:00', '2024-01-09', '2024-01-11 12:54:00', 1), (25, '2024-01-07 12:42:00', '2024-01-22', '2024-01-20 12:16:00', 0), (26, '2024-01-26 12:09:00', '2024-01-22', '2024-01-16 12:18:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (27, '2024-01-18 12:28:00', '2024-01-28', '2024-01-15 12:15:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (28, '2024-01-26 12:55:00', '2024-01-19', '2024-01-13 12:21:00', 1), (29, '2024-01-06 12:14:00', '2024-01-17', '2024-01-06 12:06:00', 0), (30, '2024-01-01 12:16:00', '2024-01-26', '2024-01-02 12:16:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (31, '2024-01-06 12:24:00', '2024-01-17', '2024-01-10 12:10:00', 1), (32, '2024-01-24 12:40:00', '2024-01-26', '2024-01-05 12:25:00', 0), (33, '2024-01-20 12:33:00', '2024-01-20', '2024-01-22 12:27:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (34, '2024-01-10 12:14:00', '2024-01-13', '2024-01-17 12:01:00', 0), (35, '2024-01-14 12:09:00', '2024-01-08', '2024-01-14 12:40:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (36, '2024-01-24 12:36:00', '2024-01-03', '2024-01-02 12:04:00', 1), (37, '2024-01-25 12:06:00', '2024-01-19', '2024-01-14 12:26:00', 1), (38, '2024-01-17 12:02:00', '2024-01-20', '2024-01-25 12:12:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (39, '2024-01-05 12:01:00', '2024-01-04', '2024-01-25 12:11:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (40, '2024-01-28 12:16:00', '2024-01-14', '2024-01-03 12:42:00', 0), (41, '2024-01-07 12:11:00', '2024-01-01', '2024-01-12 12:25:00', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (42, '2024-01-14 12:52:00', '2024-01-26', '2024-01-26 12:36:00', 0), (43, '2024-01-27 12:47:00', '2024-01-10', '2024-01-04 12:38:00', 1), (44, '2024-01-07 12:50:00', '2024-01-20', '2024-01-09 12:37:00', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (1, 17.01, '2024-01-10', 43.66, 12), (2, 3, '2024-01-12', 81.04, 8);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (3, 83.89, '2024-01-23', 23.26, 61), (4, 30.84, '2024-01-06', 70.42, 73), (5, 2.14, '2024-01-24', 12.23, 14);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (6, 21.12, '2024-01-17', 15.74, 56);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (7, 61.06, '2024-01-03', 50.19, 93);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (8, 64.39, '2024-01-21', 15.63, 69), (9, 32.66, '2024-01-07', 4.45, 83);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (10, 6.28, '2024-01-01', 24.45, 10), (11, 84.64, '2024-01-05', 66.48, 42), (12, 79.43, '2024-01-15', 46.29, 10);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (13, 75.66, '2024-01-17', 64.44, 9), (14, 89.11, '2024-01-11', 32.92, 20), (15, 80.58, '2024-01-18', 39.48, 75);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (16, 71.03, '2024-01-26', 51.27, 57), (17, 11.75, '2024-01-26', 82.66, 68);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (18, 13.83, '2024-01-12', 12.9, 76), (19, 23.61, '2024-01-01', 2.42, 52);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (20, 9.44, '2024-01-05', 52.56, 76), (21, 22.05, '2024-01-14', 47, 39), (22, 28.94, '2024-01-25', 4.68, 49);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (23, 64.46, '2024-01-15', 41.98, 38), (24, 33.03, '2024-01-15', 38.41, 78), (25, 32.06, '2024-01-22', 87.16, 58);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (26, 94.7, '2024-01-21', 17.44, 97), (27, 26.95, '2024-01-08', 90.54, 77), (28, 69.27, '2024-01-20', 41.34, 64);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (29, 68.16, '2024-01-12', 62.33, 63);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (30, 67.45, '2024-01-21', 80.08, 90);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (31, 59.13, '2024-01-22', 1.31, 12);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (32, 19.49, '2024-01-11', 67.63, 15);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (33, 28.1, '2024-01-02', 49.21, 35), (34, 55.52, '2024-01-24', 90.98, 63), (35, 90.45, '2024-01-28', 82.6, 10);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (36, 53.34, '2024-01-28', 49.26, 58);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (37, 35.78, '2024-01-25', 98.18, 28), (38, 30.94, '2024-01-27', 75.1, 53), (39, 26.47, '2024-01-02', 52.08, 91);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (40, 45.09, '2024-01-11', 47.71, 7);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (45, '2024-01-11 12:36:00', '2024-01-03', '2024-01-04 12:14:00', 0), (46, '2024-01-16 12:58:00', '2024-01-14', '2024-01-13 12:37:00', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (47, '2024-01-26 12:25:00', '2024-01-03', '2024-01-11 12:32:00', 1), (48, '2024-01-22 12:46:00', '2024-01-24', '2024-01-27 12:51:00', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (41, 23.5, '2024-01-20', 28.42, 33), (42, 32.2, '2024-01-21', 39.28, 35), (43, 37.61, '2024-01-21', 85.43, 24);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 2, 44, 27.42, 7.06, 98, 4.49, 78.6);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (49, '2024-01-24 12:16:00', '2024-01-10', '2024-01-13 12:43:00', 1), (50, '2024-01-08 12:28:00', '2024-01-05', '2024-01-20 12:32:00', 0);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, 34, 46, 9.58, 91.22, 57, 8.86, 5.42), (3, 30, 46, 9.13, 7.52, 67, 88.17, 27.62), (4, 53, 49, 86.62, 69.03, 10, 18.12, 91.53);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` date NOT NULL,\n  `c2` datetime DEFAULT NULL,\n  `c3` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` date NOT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  `c3` int NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` bigint NOT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  `c3` double DEFAULT NULL,\n  `c4` int DEFAULT NULL,\n  `c5` double NOT NULL,\n  `c6` decimal(12,2) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0021_019be1f5-8f2e-7f03-8aa7-800c2e9c90cf",
      "dir": "reports/case_0021_019be1f5-8f2e-7f03-8aa7-800c2e9c90cf",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:08:45+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "8f7b6a4a98ae7b9b79f0b135aa767fb5494b6d85",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=3",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT DISTINCT UPPER('s61') AS c0 FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0 WHERE (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17)) THEN 1 ELSE 0 END),0) FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0",
      "norec_predicate": "(NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))",
      "sql": [
        "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT DISTINCT UPPER('s61') AS c0 FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0 WHERE (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))",
        "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT (CASE WHEN (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17)) THEN 1 ELSE 0 END) AS b FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0"
      ],
      "plan_replayer": "reports/case_0021_019be1f5-8f2e-7f03-8aa7-800c2e9c90cf/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT DISTINCT UPPER('s61') AS c0 FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0 WHERE (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))) q",
        "norec_predicate": "(NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17)) THEN 1 ELSE 0 END),0) FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0",
        "optimized_explain": "StreamAgg_49\t1.00\troot\t\tfuncs:count(1)->Column#48\n└─HashAgg_52\t1.00\troot\t\tgroup by:1, funcs:firstrow(1)->Column#51\n  └─Selection_55\t150000.00\troot\t\tnot(istrue_with_null(Column#46))\n    └─Apply_58\t187500.00\troot\t\tCARTESIAN left outer semi join, left side:Projection_59, other cond:eq(shiro_fuzz_r20.t3.id, Column#45)\n      ├─Projection_59(Build)\t187500.00\troot\t\tshiro_fuzz_r20.t3.id, shiro_fuzz_r20.t2.c3\n      │ └─HashJoin_75\t187500.00\troot\t\tCARTESIAN inner join\n      │   ├─Limit_76(Build)\t5.00\troot\t\toffset:0, count:5\n      │   │ └─IndexReader_83\t5.00\troot\t\tindex:Limit_82\n      │   │   └─Limit_82\t5.00\tcop[tikv]\t\toffset:0, count:5\n      │   │     └─IndexFullScan_81\t5.00\tcop[tikv]\ttable:t2, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n      │   └─HashJoin_95(Probe)\t37500.00\troot\t\tCARTESIAN left outer join, left side:MergeJoin_102, left cond:[not(in(shiro_fuzz_r20.t3.c2, 75.18, 93.96))]\n      │     ├─Limit_126(Build)\t9.00\troot\t\toffset:0, count:9\n      │     │ └─TableReader_133\t9.00\troot\tpartition:all\tdata:Limit_132\n      │     │   └─Limit_132\t9.00\tcop[tikv]\t\toffset:0, count:9\n      │     │     └─Selection_131\t9.00\tcop[tikv]\t\tne(shiro_fuzz_r20.t3.c1, 2024-01-09 08:25:00.000000), ne(shiro_fuzz_r20.t3.c1, 2024-01-16 08:03:00.000000), ne(shiro_fuzz_r20.t3.c1, 2024-01-22 08:16:00.000000)\n      │     │       └─TableFullScan_130\t12.58\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n      │     └─MergeJoin_102(Probe)\t4166.67\troot\t\tright outer join, left side:TableReader_112, left key:shiro_fuzz_r20.t3.id, right key:shiro_fuzz_r20.t2.id\n      │       ├─TableReader_112(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_111\n      │       │ └─TableFullScan_111\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n      │       └─TableReader_115(Probe)\t3333.33\troot\t\tdata:Selection_114\n      │         └─Selection_114\t3333.33\tcop[tikv]\t\tgt(shiro_fuzz_r20.t2.c0, 16.17)\n      │           └─TableFullScan_113\t10000.00\tcop[tikv]\ttable:t2\tkeep order:true, stats:pseudo\n      └─HashAgg_146(Probe)\t187500.00\troot\t\tfuncs:count(Column#52)->Column#45\n        └─TableReader_147\t187500.00\troot\tpartition:all\tdata:HashAgg_138\n          └─HashAgg_138\t187500.00\tcop[tikv]\t\tfuncs:count(1)->Column#52\n            └─Selection_145\t1500000000.00\tcop[tikv]\t\teq(cast(shiro_fuzz_r20.t0.c0, double BINARY), cast(shiro_fuzz_r20.t2.c3, double BINARY))\n              └─TableFullScan_144\t1875000000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17)) THEN 1 ELSE 0 END),0) FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT DISTINCT UPPER('s61') AS c0 FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0 WHERE (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_40\t1.00\troot\t\tifnull(Column#52, 0)->Column#53\n└─HashAgg_44\t1.00\troot\t\tfuncs:sum(Column#57)->Column#52\n  └─Projection_150\t562500.00\troot\t\tcast(case(and(not(Column#51), gt(shiro_fuzz_r20.t2.c0, 16.17)), 1, 0), decimal(20,0) BINARY)->Column#57\n    └─Apply_49\t562500.00\troot\t\tCARTESIAN left outer semi join, left side:Projection_50, other cond:eq(shiro_fuzz_r20.t3.id, Column#50)\n      ├─Projection_50(Build)\t562500.00\troot\t\tshiro_fuzz_r20.t2.c0, shiro_fuzz_r20.t3.id, shiro_fuzz_r20.t2.c3\n      │ └─HashJoin_66\t562500.00\troot\t\tCARTESIAN inner join\n      │   ├─Limit_67(Build)\t5.00\troot\t\toffset:0, count:5\n      │   │ └─IndexReader_74\t5.00\troot\t\tindex:Limit_73\n      │   │   └─Limit_73\t5.00\tcop[tikv]\t\toffset:0, count:5\n      │   │     └─IndexFullScan_72\t5.00\tcop[tikv]\ttable:t2, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n      │   └─HashJoin_86(Probe)\t112500.00\troot\t\tCARTESIAN left outer join, left side:MergeJoin_93, left cond:[not(in(shiro_fuzz_r20.t3.c2, 75.18, 93.96))]\n      │     ├─Limit_115(Build)\t9.00\troot\t\toffset:0, count:9\n      │     │ └─TableReader_122\t9.00\troot\tpartition:all\tdata:Limit_121\n      │     │   └─Limit_121\t9.00\tcop[tikv]\t\toffset:0, count:9\n      │     │     └─Selection_120\t9.00\tcop[tikv]\t\tne(shiro_fuzz_r20.t3.c1, 2024-01-09 08:25:00.000000), ne(shiro_fuzz_r20.t3.c1, 2024-01-16 08:03:00.000000), ne(shiro_fuzz_r20.t3.c1, 2024-01-22 08:16:00.000000)\n      │     │       └─TableFullScan_119\t12.58\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n      │     └─MergeJoin_93(Probe)\t12500.00\troot\t\tright outer join, left side:TableReader_103, left key:shiro_fuzz_r20.t3.id, right key:shiro_fuzz_r20.t2.id\n      │       ├─TableReader_103(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_102\n      │       │ └─TableFullScan_102\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n      │       └─TableReader_105(Probe)\t10000.00\troot\t\tdata:TableFullScan_104\n      │         └─TableFullScan_104\t10000.00\tcop[tikv]\ttable:t2\tkeep order:true, stats:pseudo\n      └─HashAgg_135(Probe)\t562500.00\troot\t\tfuncs:count(Column#55)->Column#50\n        └─TableReader_136\t562500.00\troot\tpartition:all\tdata:HashAgg_127\n          └─HashAgg_127\t562500.00\tcop[tikv]\t\tfuncs:count(1)->Column#55\n            └─Selection_134\t4500000000.00\tcop[tikv]\t\teq(cast(shiro_fuzz_r20.t0.c0, double BINARY), cast(shiro_fuzz_r20.t2.c3, double BINARY))\n              └─TableFullScan_133\t5625000000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT DISTINCT UPPER('s61') AS c0 FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0 WHERE (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17));\nWITH cte_0 AS (SELECT t2.c3 AS c0, t2.id AS c1, t2.c2 AS c2 FROM t2 WHERE (43 >= 10) LIMIT 5), cte_1 AS (SELECT t3.c3 AS c0, t3.c2 AS c1, t3.id AS c2 FROM t3 WHERE NOT (t3.c1 IN ('2024-01-09 08:25:00', '2024-01-22 08:16:00', '2024-01-16 08:03:00')) LIMIT 9) SELECT (CASE WHEN (NOT (cte_1.c2 IN ((SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c0)))) AND (t2.c0 > 16.17)) THEN 1 ELSE 0 END) AS b FROM t3 RIGHT JOIN t2 USING (id) LEFT JOIN cte_1 ON NOT (t3.c2 IN (75.18, 93.96)) CROSS JOIN cte_0;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n2\t2024-01-20 08:33:00\ts18\ts88\t2024-01-21 12:50:00\n6\t2024-01-20 08:33:00\ts95\ts8\t2024-01-21 12:13:00\n10\t2024-01-20 08:33:00\ts79\ts88\t2024-01-10 12:32:00\n14\t2024-01-20 08:33:00\ts7\ts88\t2024-01-19 12:45:00\n18\t2024-01-20 08:33:00\ts7\ts73\t2024-01-11 12:53:00\n22\t2024-01-20 08:33:00\ts91\ts72\t2024-01-15 12:15:00\n26\t2024-01-20 08:33:00\ts7\ts23\t2024-01-21 12:33:00\n30\t2024-01-20 08:33:00\ts57\ts88\t2024-01-26 12:58:00\n34\t2024-01-20 08:33:00\ts33\ts88\t2024-01-08 12:46:00\n38\t2024-01-20 08:33:00\ts32\ts88\t2024-01-04 12:39:00\n42\t2024-01-20 08:33:00\ts56\ts88\t2024-01-19 12:52:00\n46\t2024-01-20 08:33:00\ts12\ts1\t2024-01-16 12:11:00\n4\t2024-01-20 08:33:00\ts97\ts88\t2024-01-13 12:57:00\n8\t2024-01-20 08:33:00\ts53\ts88\t2024-01-28 12:28:00\n12\t2024-01-20 08:33:00\ts33\ts88\t2024-01-12 12:13:00\n16\t2024-01-20 08:33:00\ts87\ts88\t2024-01-28 12:36:00\n20\t2024-01-01 08:51:00\ts76\ts88\t2024-01-09 12:13:00\n24\t2024-01-20 08:33:00\ts39\ts88\t2024-01-18 12:30:00\n28\t2024-01-20 08:33:00\ts84\ts88\t2024-01-25 12:18:00\n32\t2024-01-20 08:33:00\ts23\ts88\t2024-01-21 12:25:00\n36\t2024-01-20 08:33:00\ts82\ts88\t2024-01-28 12:38:00\n40\t2024-01-20 08:33:00\ts37\ts19\t2024-01-10 12:08:00\n44\t2024-01-01 08:33:00\ts94\ts88\t2024-01-02 12:13:00\n48\t2024-01-20 08:33:00\ts63\ts31\t2024-01-12 12:51:00\n3\t2024-01-20 08:33:00\ts99\ts88\t2024-01-16 12:55:00\n7\t2024-01-20 08:33:00\ts88\ts88\t2024-01-07 12:18:00\n11\t2024-01-20 08:33:00\ts21\ts14\t2024-01-28 12:55:00\n15\t2024-01-20 08:33:00\ts35\ts88\t2024-01-23 12:46:00\n19\t2024-01-20 08:33:00\ts31\ts40\t2024-01-19 12:49:00\n23\t2024-01-20 08:33:00\ts64\ts88\t2024-01-10 12:47:00\n27\t2024-01-20 08:33:00\ts59\ts88\t2024-01-21 12:24:00\n31\t2024-01-02 08:32:00\ts82\ts88\t2024-01-23 12:47:00\n35\t2024-01-20 08:33:00\ts88\ts88\t2024-01-17 12:14:00\n39\t2024-01-20 08:33:00\ts87\ts88\t2024-01-28 12:01:00\n43\t2024-01-20 08:33:00\ts43\ts88\t2024-01-16 12:23:00\n47\t2024-01-20 08:33:00\ts29\ts46\t2024-01-27 12:25:00\n1\t2024-01-20 08:33:00\ts11\ts88\t2024-01-23 12:50:00\n5\t2024-01-01 08:54:00\ts32\ts88\t2024-01-27 12:16:00\n9\t2024-01-20 08:33:00\ts25\ts88\t2024-01-22 12:01:00\n13\t2024-01-20 08:33:00\ts62\ts88\t2024-01-10 12:43:00\n17\t2024-01-20 08:33:00\ts40\ts88\t2024-01-06 12:27:00\n21\t2024-01-20 08:33:00\ts89\ts88\t2024-01-09 12:44:00\n25\t2024-01-20 08:33:00\ts39\ts44\t2024-01-26 12:03:00\n29\t2024-01-20 08:33:00\ts11\ts59\t2024-01-23 12:50:00\n33\t2024-01-20 08:33:00\ts29\ts88\t2024-01-04 12:48:00\n37\t2024-01-20 08:33:00\ts99\ts88\t2024-01-23 12:23:00\n41\t2024-01-20 08:33:00\ts36\ts88\t2024-01-12 12:22:00\n45\t2024-01-20 08:33:00\ts31\ts88\t2024-01-05 12:58:00\n\n-- t1\n1\t1\t2024-01-26 12:03:00\t2024-01-08\t59.87\t0\n2\t0\t2024-01-09 12:35:00\t2024-01-24\t85.75\t1\n3\t0\t2024-01-10 12:09:00\t2024-01-15\t97.99\t0\n4\t1\t2024-01-17 12:06:00\t2024-01-13\t16.91\t1\n5\t0\t2024-01-02 12:06:00\t2024-01-04\t53.40\t1\n6\t1\t2024-01-13 12:13:00\t2024-01-12\t51.98\t0\n7\t1\t2024-01-24 12:30:00\t2024-01-15\t1.39\t0\n8\t1\t2024-01-02 12:42:00\t2024-01-05\t97.25\t1\n9\t1\t2024-01-28 12:34:00\t2024-01-23\t7.55\t0\n10\t1\t2024-01-26 12:36:00\t2024-01-25\t72.46\t0\n11\t0\t2024-01-11 12:27:00\t2024-01-19\t31.51\t1\n12\t0\t2024-01-23 12:40:00\t2024-01-08\t20.70\t1\n13\t0\t2024-01-19 12:38:00\t2024-01-18\t23.51\t1\n14\t0\t2024-01-15 12:24:00\t2024-01-06\t38.54\t0\n15\t0\t2024-01-22 12:43:00\t2024-01-02\t32.40\t0\n16\t1\t2024-01-05 12:52:00\t2024-01-19\t91.26\t1\n17\t0\t2024-01-07 12:21:00\t2024-01-28\t16.43\t0\n18\t1\t2024-01-26 12:27:00\t2024-01-10\t79.93\t1\n19\t1\t2024-01-24 12:48:00\t2024-01-17\t30.78\t0\n20\t1\t2024-01-16 12:24:00\t2024-01-23\t43.79\t0\n21\t1\t2024-01-24 12:00:00\t2024-01-25\t8.63\t0\n22\t1\t2024-01-27 12:57:00\t2024-01-13\t98.76\t0\n23\t1\t2024-01-08 12:38:00\t2024-01-15\t53.55\t1\n24\t0\t2024-01-28 12:14:00\t2024-01-28\t24.00\t1\n25\t0\t2024-01-17 12:01:00\t2024-01-03\t61.83\t0\n26\t1\t2024-01-25 12:12:00\t2024-01-10\t77.98\t0\n27\t1\t2024-01-17 12:04:00\t2024-01-17\t7.30\t1\n28\t0\t2024-01-01 12:42:00\t2024-01-03\t4.56\t1\n29\t0\t2024-01-08 12:02:00\t2024-01-17\t99.58\t1\n30\t1\t2024-01-05 12:44:00\t2024-01-26\t6.31\t1\n31\t0\t2024-01-11 12:01:00\t2024-01-16\t86.70\t1\n32\t1\t2024-01-04 12:33:00\t2024-01-22\t43.04\t0\n33\t0\t2024-01-28 12:34:00\t2024-01-04\t35.05\t0\n34\t1\t2024-01-20 12:54:00\t2024-01-15\t14.64\t0\n35\t0\t2024-01-20 12:49:00\t2024-01-23\t33.70\t1\n36\t0\t2024-01-06 12:29:00\t2024-01-26\t39.17\t1\n37\t1\t2024-01-02 12:20:00\t2024-01-23\t54.33\t0\n38\t0\t2024-01-01 12:02:00\t2024-01-20\t28.40\t0\n39\t0\t2024-01-04 12:02:00\t2024-01-08\t22.09\t0\n40\t1\t2024-01-23 12:26:00\t2024-01-14\t70.11\t1\n41\t0\t2024-01-09 12:18:00\t2024-01-23\t94.00\t0\n42\t1\t2024-01-06 12:41:00\t2024-01-08\t84.61\t0\n43\t1\t2024-01-25 12:06:00\t2024-01-05\t74.41\t0\n44\t0\t2024-01-13 12:04:00\t2024-01-06\t93.51\t0\n45\t1\t2024-01-25 12:05:00\t2024-01-25\t53.15\t1\n46\t1\t2024-01-03 12:26:00\t2024-01-24\t72.40\t1\n47\t0\t2024-01-02 12:39:00\t2024-01-19\t20.42\t1\n48\t1\t2024-01-07 12:57:00\t2024-01-18\t91.97\t0\n49\t1\t2024-01-15 12:05:00\t2024-01-16\t72.63\t0\n50\t0\t2024-01-03 12:41:00\t2024-01-04\t20.52\t1\n\n-- t2\n1\t69.61\t66\t1\t75\t40.27\n\n-- t3\n1\t2024-01-02 12:12:00\t2024-01-06 08:36:00\t54.89\t2024-01-23 12:25:00\n2\t2024-01-28 12:17:00\t2024-01-26 08:51:00\t42.33\t2024-01-05 12:01:00\n3\t2024-01-03 12:18:00\t2024-01-06 08:37:00\t99.91\t2024-01-16 12:17:00\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3) VALUES (1, '2024-01-17 08:33:00', 's11', 's62', '2024-01-23 12:50:00'), (2, '2024-01-08 08:18:00', 's18', 's98', '2024-01-21 12:50:00'), (3, '2024-01-18 08:21:00', 's99', 's25', '2024-01-16 12:55:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (4, '2024-01-06 08:14:00', 's97', 's26', '2024-01-13 12:57:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (5, '2024-01-01 08:54:00', 's32', 's54', '2024-01-27 12:16:00'), (6, '2024-01-27 08:29:00', 's95', 's8', '2024-01-21 12:13:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (7, '2024-01-13 08:50:00', 's88', 's45', '2024-01-07 12:18:00'), (8, '2024-01-10 08:04:00', 's53', 's44', '2024-01-28 12:28:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (9, '2024-01-15 08:36:00', 's25', 's31', '2024-01-22 12:01:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (10, '2024-01-04 08:23:00', 's79', 's11', '2024-01-10 12:32:00'), (11, '2024-01-23 08:34:00', 's21', 's14', '2024-01-28 12:55:00'), (12, '2024-01-11 08:40:00', 's33', 's56', '2024-01-12 12:13:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (13, '2024-01-16 08:12:00', 's62', 's31', '2024-01-10 12:43:00'), (14, '2024-01-19 08:51:00', 's7', 's7', '2024-01-19 12:45:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (15, '2024-01-04 08:14:00', 's35', 's5', '2024-01-23 12:46:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (16, '2024-01-08 08:00:00', 's87', 's89', '2024-01-28 12:36:00'), (17, '2024-01-18 08:38:00', 's40', 's30', '2024-01-06 12:27:00'), (18, '2024-01-24 08:04:00', 's7', 's73', '2024-01-11 12:53:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (19, '2024-01-24 08:44:00', 's31', 's40', '2024-01-19 12:49:00'), (20, '2024-01-01 08:51:00', 's76', 's28', '2024-01-09 12:13:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (21, '2024-01-10 08:32:00', 's89', 's60', '2024-01-09 12:44:00'), (22, '2024-01-24 08:07:00', 's91', 's72', '2024-01-15 12:15:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (23, '2024-01-19 08:58:00', 's64', 's50', '2024-01-10 12:47:00'), (24, '2024-01-22 08:46:00', 's39', 's88', '2024-01-28 12:11:00'), (25, '2024-01-23 08:25:00', 's39', 's44', '2024-01-26 12:03:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (26, '2024-01-25 08:25:00', 's7', 's23', '2024-01-21 12:33:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (27, '2024-01-21 08:06:00', 's59', 's58', '2024-01-21 12:24:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (28, '2024-01-05 08:41:00', 's84', 's45', '2024-01-25 12:18:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (29, '2024-01-28 08:46:00', 's11', 's59', '2024-01-23 12:50:00'), (30, '2024-01-06 08:01:00', 's57', 's81', '2024-01-26 12:58:00'), (31, '2024-01-02 08:32:00', 's82', 's51', '2024-01-23 12:47:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (32, '2024-01-03 08:10:00', 's23', 's0', '2024-01-21 12:25:00'), (33, '2024-01-04 08:52:00', 's29', 's32', '2024-01-04 12:48:00'), (34, '2024-01-10 08:56:00', 's33', 's64', '2024-01-08 12:46:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (35, '2024-01-15 08:00:00', 's88', 's5', '2024-01-17 12:14:00'), (36, '2024-01-15 08:42:00', 's82', 's74', '2024-01-28 12:38:00'), (37, '2024-01-19 08:13:00', 's99', 's55', '2024-01-23 12:23:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (38, '2024-01-17 08:35:00', 's32', 's65', '2024-01-04 12:39:00'), (39, '2024-01-07 08:36:00', 's87', 's5', '2024-01-28 12:01:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (40, '2024-01-26 08:32:00', 's37', 's19', '2024-01-10 12:08:00'), (41, '2024-01-14 08:57:00', 's36', 's92', '2024-01-12 12:22:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (1, 1, '2024-01-26 12:03:00', '2024-01-08', 59.87, 0), (2, 0, '2024-01-09 12:35:00', '2024-01-24', 85.75, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (3, 0, '2024-01-10 12:09:00', '2024-01-15', 97.99, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (4, 1, '2024-01-17 12:06:00', '2024-01-13', 16.91, 1), (5, 0, '2024-01-02 12:06:00', '2024-01-04', 53.4, 1), (6, 1, '2024-01-13 12:13:00', '2024-01-12', 51.98, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (7, 1, '2024-01-24 12:30:00', '2024-01-15', 1.39, 0), (8, 1, '2024-01-02 12:42:00', '2024-01-05', 97.25, 1), (9, 1, '2024-01-28 12:34:00', '2024-01-23', 7.55, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (10, 1, '2024-01-26 12:36:00', '2024-01-25', 72.46, 0), (11, 0, '2024-01-11 12:27:00', '2024-01-19', 31.51, 1), (12, 0, '2024-01-23 12:40:00', '2024-01-08', 20.7, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (13, 0, '2024-01-19 12:38:00', '2024-01-18', 23.51, 1), (14, 0, '2024-01-15 12:24:00', '2024-01-06', 38.54, 0), (15, 0, '2024-01-22 12:43:00', '2024-01-02', 32.4, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (16, 1, '2024-01-05 12:52:00', '2024-01-19', 91.26, 1), (17, 0, '2024-01-07 12:21:00', '2024-01-28', 16.43, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (18, 1, '2024-01-26 12:27:00', '2024-01-10', 79.93, 1), (19, 1, '2024-01-24 12:48:00', '2024-01-17', 30.78, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (20, 1, '2024-01-16 12:24:00', '2024-01-23', 43.79, 0), (21, 1, '2024-01-24 12:00:00', '2024-01-25', 8.63, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (22, 1, '2024-01-27 12:57:00', '2024-01-13', 98.76, 0), (23, 1, '2024-01-08 12:38:00', '2024-01-15', 53.55, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (24, 0, '2024-01-28 12:14:00', '2024-01-28', 24, 1), (25, 0, '2024-01-17 12:01:00', '2024-01-03', 61.83, 0), (26, 1, '2024-01-25 12:12:00', '2024-01-10', 77.98, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (27, 1, '2024-01-17 12:04:00', '2024-01-17', 7.3, 1), (28, 0, '2024-01-01 12:42:00', '2024-01-03', 4.56, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (29, 0, '2024-01-08 12:02:00', '2024-01-17', 99.58, 1), (30, 1, '2024-01-05 12:44:00', '2024-01-26', 6.31, 1), (31, 0, '2024-01-11 12:01:00', '2024-01-16', 86.7, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (32, 1, '2024-01-04 12:33:00', '2024-01-22', 43.04, 0), (33, 0, '2024-01-28 12:34:00', '2024-01-04', 35.05, 0), (34, 1, '2024-01-20 12:54:00', '2024-01-15', 14.64, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (35, 0, '2024-01-20 12:49:00', '2024-01-23', 33.7, 1), (36, 0, '2024-01-06 12:29:00', '2024-01-26', 39.17, 1), (37, 1, '2024-01-02 12:20:00', '2024-01-23', 54.33, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (38, 0, '2024-01-01 12:02:00', '2024-01-20', 28.4, 0), (39, 0, '2024-01-04 12:02:00', '2024-01-08', 22.09, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (40, 1, '2024-01-23 12:26:00', '2024-01-14', 70.11, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (41, 0, '2024-01-09 12:18:00', '2024-01-23', 94, 0), (42, 1, '2024-01-06 12:41:00', '2024-01-08', 84.61, 0), (43, 1, '2024-01-25 12:06:00', '2024-01-05', 74.41, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (44, 0, '2024-01-13 12:04:00', '2024-01-06', 93.51, 0), (45, 1, '2024-01-25 12:05:00', '2024-01-25', 53.15, 1), (46, 1, '2024-01-03 12:26:00', '2024-01-24', 72.4, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (47, 0, '2024-01-02 12:39:00', '2024-01-19', 20.42, 1), (48, 1, '2024-01-07 12:57:00', '2024-01-18', 91.97, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (42, '2024-01-16 08:00:00', 's56', 's21', '2024-01-19 12:52:00'), (43, '2024-01-11 08:30:00', 's43', 's57', '2024-01-16 12:23:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (44, '2024-01-01 08:33:00', 's94', 's59', '2024-01-02 12:13:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (1, 69.61, 66, 1, 75, 40.27);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (45, '2024-01-20 08:04:00', 's31', 's46', '2024-01-05 12:58:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (49, 1, '2024-01-15 12:05:00', '2024-01-16', 72.63, 0), (50, 0, '2024-01-03 12:41:00', '2024-01-04', 20.52, 1), (51, 1, '2024-01-08 12:54:00', '2024-01-15', 96.67, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (46, '2024-01-27 08:26:00', 's12', 's1', '2024-01-16 12:11:00'), (47, '2024-01-17 08:50:00', 's29', 's46', '2024-01-27 12:25:00'), (48, '2024-01-22 08:04:00', 's63', 's31', '2024-01-12 12:51:00');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (1, '2024-01-02 12:12:00', '2024-01-06 08:36:00', 54.89, '2024-01-23 12:25:00');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (2, '2024-01-28 12:17:00', '2024-01-26 08:51:00', 42.33, '2024-01-05 12:01:00'), (3, '2024-01-03 12:18:00', '2024-01-06 08:37:00', 99.91, '2024-01-16 12:17:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (52, 1, '2024-01-01 12:11:00', '2024-01-24', 77.81, 0), (53, 1, '2024-01-04 12:47:00', '2024-01-15', 92.87, 1);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` date DEFAULT NULL,\n  `c3` decimal(12,2) DEFAULT NULL,\n  `c4` tinyint(1) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c0_0` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` int NOT NULL,\n  `c2` tinyint(1) NOT NULL,\n  `c3` bigint NOT NULL,\n  `c4` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` datetime DEFAULT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` float NOT NULL,\n  `c3` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0020_019be1f4-ffc1-7bc3-9373-d65d1cf05522",
      "dir": "reports/case_0020_019be1f4-ffc1-7bc3-9373-d65d1cf05522",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:08:08+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "08b32ac03b813fcecd5c0c00b7453856fb4305de",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61'))) WHERE (t0.id IN (65)) ORDER BY t3.c0 DESC, t1.c3 DESC) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id IN (65)) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61')))",
      "norec_predicate": "(t0.id IN (65))",
      "sql": [
        "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61'))) WHERE (t0.id IN (65)) ORDER BY t3.c0 DESC, t1.c3 DESC",
        "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT (CASE WHEN (t0.id IN (65)) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61')))"
      ],
      "plan_replayer": "reports/case_0020_019be1f4-ffc1-7bc3-9373-d65d1cf05522/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61'))) WHERE (t0.id IN (65)) ORDER BY t3.c0 DESC, t1.c3 DESC) q",
        "norec_predicate": "(t0.id IN (65))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id IN (65)) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61')))",
        "optimized_explain": "StreamAgg_50\t1.00\troot\t\tfuncs:count(1)->Column#49\n└─HashAgg_53\t1.00\troot\t\tfuncs:count(1)->Column#54\n  └─HashJoin_71\t60000.00\troot\t\tCARTESIAN inner join\n    ├─Limit_72(Build)\t2.00\troot\t\toffset:0, count:2\n    │ └─IndexReader_78\t2.00\troot\t\tindex:Limit_77\n    │   └─Limit_77\t2.00\tcop[tikv]\t\toffset:0, count:2\n    │     └─IndexRangeScan_76\t2.00\tcop[tikv]\ttable:t3, index:idx_c0_1(c0)\trange:(83.37 47,83.37 +inf], keep order:false, stats:pseudo\n    └─HashJoin_95(Probe)\t30000.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r19.t3.c0, Column#51)]\n      ├─TableReader_98(Build)\t5584.28\troot\t\tdata:Selection_97\n      │ └─Selection_97\t5584.28\tcop[tikv]\t\tor(ne(shiro_fuzz_r19.t3.id, 53), le(shiro_fuzz_r19.t3.c1, 2024-01-25 12:02:00.000000))\n      │   └─TableFullScan_96\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n      └─Projection_105(Probe)\t24000.00\troot\t\tcast(shiro_fuzz_r19.t1.c5, double BINARY)->Column#51\n        └─HashJoin_114\t24000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_131\n          ├─Selection_143(Build)\t2.40\troot\t\tlt(shiro_fuzz_r19.t1.c5, 50)\n          │ └─Limit_145\t3.00\troot\t\toffset:0, count:3\n          │   └─TableReader_152\t3.00\troot\t\tdata:Limit_151\n          │     └─Limit_151\t3.00\tcop[tikv]\t\toffset:0, count:3\n          │       └─Selection_150\t3.00\tcop[tikv]\t\tgt(shiro_fuzz_r19.t1.c2, 2024-01-25 12:22:00.000000), or(le(shiro_fuzz_r19.t1.c0, 60.63), ge(shiro_fuzz_r19.t1.c0, 34.99))\n          │         └─TableRangeScan_149\t357.50\tcop[tikv]\ttable:t1\trange:[-inf,84), keep order:false, stats:pseudo\n          └─HashJoin_131(Probe)\t10000.00\troot\t\tCARTESIAN inner join\n            ├─Point_Get_132(Build)\t1.00\troot\ttable:t0\thandle:65\n            └─IndexReader_136(Probe)\t10000.00\troot\t\tindex:IndexFullScan_135\n              └─IndexFullScan_135\t10000.00\tcop[tikv]\ttable:t1, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id IN (65)) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61')))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61'))) WHERE (t0.id IN (65)) ORDER BY t3.c0 DESC, t1.c3 DESC) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_38\t1.00\troot\t\tifnull(Column#45, 0)->Column#46\n└─HashAgg_42\t1.00\troot\t\tfuncs:sum(Column#56)->Column#45\n  └─Projection_161\t600000000.00\troot\t\tcast(case(eq(shiro_fuzz_r19.t0.id, 65), 1, 0), decimal(20,0) BINARY)->Column#56\n    └─HashJoin_52\t600000000.00\troot\t\tCARTESIAN right outer join, left side:HashJoin_72\n      ├─Limit_143(Build)\t2.00\troot\t\toffset:0, count:2\n      │ └─IndexReader_149\t2.00\troot\t\tindex:Limit_148\n      │   └─Limit_148\t2.00\tcop[tikv]\t\toffset:0, count:2\n      │     └─IndexRangeScan_147\t2.00\tcop[tikv]\ttable:t3, index:idx_c0_1(c0)\trange:(83.37 47,83.37 +inf], keep order:false, stats:pseudo\n      └─HashJoin_72(Probe)\t300000000.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r19.t3.c0, Column#48)]\n        ├─TableReader_75(Build)\t5584.28\troot\t\tdata:Selection_74\n        │ └─Selection_74\t5584.28\tcop[tikv]\t\tor(ne(shiro_fuzz_r19.t3.id, 53), le(shiro_fuzz_r19.t3.c1, 2024-01-25 12:02:00.000000))\n        │   └─TableFullScan_73\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n        └─Projection_82(Probe)\t240000000.00\troot\t\tshiro_fuzz_r19.t0.id, cast(shiro_fuzz_r19.t1.c5, double BINARY)->Column#48\n          └─HashJoin_91\t240000000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_110\n            ├─Selection_128(Build)\t2.40\troot\t\tlt(shiro_fuzz_r19.t1.c5, 50)\n            │ └─Limit_130\t3.00\troot\t\toffset:0, count:3\n            │   └─TableReader_137\t3.00\troot\t\tdata:Limit_136\n            │     └─Limit_136\t3.00\tcop[tikv]\t\toffset:0, count:3\n            │       └─Selection_135\t3.00\tcop[tikv]\t\tgt(shiro_fuzz_r19.t1.c2, 2024-01-25 12:22:00.000000), or(le(shiro_fuzz_r19.t1.c0, 60.63), ge(shiro_fuzz_r19.t1.c0, 34.99))\n            │         └─TableRangeScan_134\t357.50\tcop[tikv]\ttable:t1\trange:[-inf,84), keep order:false, stats:pseudo\n            └─HashJoin_110(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n              ├─IndexReader_121(Build)\t10000.00\troot\t\tindex:IndexFullScan_120\n              │ └─IndexFullScan_120\t10000.00\tcop[tikv]\ttable:t1, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n              └─IndexReader_115(Probe)\t10000.00\troot\t\tindex:IndexFullScan_114\n                └─IndexFullScan_114\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0(c0)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61'))) WHERE (t0.id IN (65)) ORDER BY t3.c0 DESC, t1.c3 DESC;\nWITH cte_0 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE ((t3.id > 47) AND (t3.c0 <=> 83.37)) LIMIT 2), cte_1 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c0 AS c2 FROM t1 WHERE (((t1.id < 84) AND (t1.c2 > '2024-01-25 12:22:00')) AND ((t1.c0 <= 60.63) OR (t1.c0 >= 34.99))) LIMIT 3) SELECT (CASE WHEN (t0.id IN (65)) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN t1 LEFT JOIN cte_1 ON ((cte_1.c1 < 49.16) AND (('s31' >= 's97') OR (21 <= 27))) LEFT JOIN t3 ON (cte_1.c1 = t3.c0) RIGHT JOIN cte_0 ON ((('s21' < 's5') AND (t3.id != 53)) OR ((t3.c1 <= '2024-01-25 12:02:00') AND ('s20' < 's61')));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n55\t27.42\t50\t2024-01-08 12:20:00\t2024-01-13\t2024-01-26 12:18:00\t37.9\t2024-01-25 08:03:00\n56\t31.55\t50\t2024-01-13 12:05:00\t2024-01-20\t2024-01-05 12:11:00\t30.15\t2024-01-19 08:09:00\n57\t47.8\t8\t2024-01-06 12:42:00\t2024-01-28\t2024-01-12 12:26:00\t20.36\t2024-01-15 08:08:00\n\n-- t1\n\n-- t2\n3\t5.68\t1\t24\t2024-01-08 12:19:00\t0\t16\n4\t73.85\t1\t30\t2024-01-03 12:29:00\t1\t4\n5\t64.1\t0\t24\t2024-01-22 12:29:00\t1\t46\n6\t57.45\t1\t70\t2024-01-08 12:11:00\t0\t94\n7\t54.6\t0\t84\t2024-01-06 12:37:00\t0\t86\n8\t42.68\t0\t41\t2024-01-08 12:37:00\t1\t56\n9\t21.34\t1\t83\t2024-01-06 12:47:00\t1\t53\n\n-- t3\n5\t52.59\t2024-01-15 12:07:00\n6\t95.78\t2024-01-15 12:07:00\n7\t43.81\t2024-01-15 12:07:00\n8\t49.83\t2024-01-15 12:07:00\n9\t96.09\t2024-01-15 12:07:00\n10\t47.65\t2024-01-15 12:07:00\n11\t21.23\t2024-01-15 12:07:00\n12\t95.62\t2024-01-15 12:07:00\n13\t99.91\t2024-01-17 12:19:00\n14\t24.19\t2024-01-04 12:47:00\n\n-- t4\n11\t2024-01-19\t86.93\ts67\t64.7\t15.73\t2024-01-04 08:08:00\t1\n\n-- t5\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 91.87, 90, '2024-01-25 12:15:00', '2024-01-25', '2024-01-22 12:21:00', 94.61, '2024-01-07 08:34:00'), (2, 20.7, 73, '2024-01-20 12:33:00', '2024-01-25', '2024-01-15 12:57:00', 94.99, '2024-01-04 08:50:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, 98.11, 56, '2024-01-04 12:18:00', '2024-01-19', '2024-01-08 12:44:00', 94.22, '2024-01-03 08:46:00'), (4, 2.03, 97, '2024-01-26 12:13:00', '2024-01-05', '2024-01-26 12:22:00', 95.9, '2024-01-09 08:06:00'), (5, 54.12, 67, '2024-01-18 12:52:00', '2024-01-03', '2024-01-01 12:39:00', 26.26, '2024-01-26 08:38:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (6, 49.62, 84, '2024-01-09 12:56:00', '2024-01-16', '2024-01-21 12:20:00', 55.16, '2024-01-10 08:02:00'), (7, 48.35, 29, '2024-01-17 12:34:00', '2024-01-02', '2024-01-02 12:24:00', 88.99, '2024-01-25 08:25:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, 57.76, 25, '2024-01-02 12:23:00', '2024-01-21', '2024-01-22 12:19:00', 81.94, '2024-01-03 08:01:00'), (9, 73.54, 81, '2024-01-28 12:02:00', '2024-01-20', '2024-01-16 12:46:00', 33.38, '2024-01-28 08:35:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (10, 57.52, 12, '2024-01-22 12:14:00', '2024-01-13', '2024-01-05 12:36:00', 79.18, '2024-01-15 08:34:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (11, 88.96, 46, '2024-01-28 12:06:00', '2024-01-07', '2024-01-28 12:58:00', 43.31, '2024-01-04 08:46:00'), (12, 96.14, 87, '2024-01-12 12:58:00', '2024-01-14', '2024-01-25 12:04:00', 37.21, '2024-01-12 08:41:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, 52.88, 80, '2024-01-25 12:03:00', '2024-01-17', '2024-01-20 12:55:00', 28.54, '2024-01-27 08:42:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (14, 74.41, 99, '2024-01-07 12:38:00', '2024-01-07', '2024-01-13 12:08:00', 62.23, '2024-01-20 08:30:00'), (15, 80.17, 65, '2024-01-11 12:51:00', '2024-01-05', '2024-01-08 12:12:00', 5.43, '2024-01-09 08:41:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, 78.42, 15, '2024-01-22 12:37:00', '2024-01-26', '2024-01-14 12:34:00', 63.24, '2024-01-22 08:34:00'), (17, 84.59, 29, '2024-01-18 12:14:00', '2024-01-24', '2024-01-28 12:31:00', 69.2, '2024-01-01 08:38:00'), (18, 72.73, 31, '2024-01-07 12:48:00', '2024-01-02', '2024-01-14 12:03:00', 71.78, '2024-01-18 08:46:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 82.58, 93, '2024-01-11 12:01:00', '2024-01-05', '2024-01-06 12:41:00', 33.25, '2024-01-05 08:48:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, 69.76, 79, '2024-01-18 12:08:00', '2024-01-22', '2024-01-18 12:14:00', 33.45, '2024-01-02 08:03:00'), (21, 60.32, 60, '2024-01-09 12:48:00', '2024-01-07', '2024-01-05 12:38:00', 43.83, '2024-01-08 08:00:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 33.83, 72, '2024-01-09 12:37:00', '2024-01-26', '2024-01-16 12:41:00', 39.79, '2024-01-14 08:42:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (23, 62.24, 88, '2024-01-25 12:30:00', '2024-01-26', '2024-01-21 12:55:00', 68.07, '2024-01-05 08:37:00'), (24, 91.77, 65, '2024-01-10 12:11:00', '2024-01-24', '2024-01-24 12:32:00', 43.57, '2024-01-26 08:02:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (25, 86.97, 6, '2024-01-07 12:51:00', '2024-01-10', '2024-01-27 12:29:00', 9.79, '2024-01-05 08:03:00'), (26, 56.54, 35, '2024-01-15 12:13:00', '2024-01-11', '2024-01-07 12:01:00', 22.7, '2024-01-09 08:23:00'), (27, 46.08, 76, '2024-01-12 12:52:00', '2024-01-02', '2024-01-09 12:39:00', 33.95, '2024-01-27 08:35:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, 81.72, 43, '2024-01-12 12:50:00', '2024-01-07', '2024-01-08 12:28:00', 25.8, '2024-01-12 08:14:00'), (29, 31.94, 22, '2024-01-12 12:58:00', '2024-01-10', '2024-01-20 12:12:00', 12.38, '2024-01-19 08:45:00'), (30, 49.56, 5, '2024-01-11 12:46:00', '2024-01-26', '2024-01-05 12:43:00', 52.59, '2024-01-26 08:16:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (31, 89.68, 68, '2024-01-01 12:05:00', '2024-01-19', '2024-01-09 12:12:00', 98.44, '2024-01-28 08:28:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 66.81, 66, '2024-01-02 12:16:00', '2024-01-03', '2024-01-06 12:49:00', 80.23, '2024-01-12 08:01:00'), (33, 95.7, 95, '2024-01-19 12:33:00', '2024-01-25', '2024-01-28 12:27:00', 11.5, '2024-01-03 08:38:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (34, 66.31, 71, '2024-01-18 12:37:00', '2024-01-28', '2024-01-19 12:28:00', 52.41, '2024-01-16 08:09:00'), (35, 44.01, 92, '2024-01-19 12:08:00', '2024-01-27', '2024-01-16 12:14:00', 29.94, '2024-01-11 08:45:00'), (36, 30.88, 48, '2024-01-18 12:17:00', '2024-01-11', '2024-01-26 12:24:00', 85.71, '2024-01-01 08:06:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, 1.26, 65, '2024-01-06 12:30:00', '2024-01-15', '2024-01-08 12:57:00', 56.31, '2024-01-01 08:34:00'), (38, 36.05, 48, '2024-01-16 12:56:00', '2024-01-20', '2024-01-04 12:42:00', 50.27, '2024-01-02 08:32:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, 73.25, 4, '2024-01-16 12:44:00', '2024-01-06', '2024-01-17 12:47:00', 75.62, '2024-01-10 08:36:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 89.57, 54.55, '2024-01-14 12:28:00', 55.4, '2024-01-16', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (2, 70.58, 68.1, '2024-01-22 12:54:00', 66.57, '2024-01-25', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 9.45, 69.94, '2024-01-15 12:21:00', 72.74, '2024-01-24', 1), (4, 17.49, 32.09, '2024-01-01 12:27:00', 15.66, '2024-01-16', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 6.05, 54.03, '2024-01-28 12:28:00', 0.71, '2024-01-23', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 16.65, 35.62, '2024-01-15 12:32:00', 14.17, '2024-01-05', 1), (7, 43.28, 19.62, '2024-01-10 12:57:00', 38.81, '2024-01-12', 1), (8, 25.83, 41.32, '2024-01-28 12:53:00', 46.75, '2024-01-22', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (9, 47.35, 50.68, '2024-01-09 12:17:00', 85.96, '2024-01-12', 1), (10, 61.54, 28.92, '2024-01-12 12:30:00', 32.44, '2024-01-16', 1), (11, 58.55, 83.23, '2024-01-19 12:38:00', 4.88, '2024-01-03', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 52.82, 28.48, '2024-01-09 12:28:00', 64.72, '2024-01-06', 1), (13, 22.54, 37.11, '2024-01-24 12:20:00', 15.33, '2024-01-07', 0), (14, 99.48, 48.61, '2024-01-04 12:30:00', 13.07, '2024-01-06', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 25.42, 76.61, '2024-01-05 12:13:00', 13.55, '2024-01-10', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 98.91, 95.16, '2024-01-02 12:53:00', 28.7, '2024-01-04', 0), (17, 25.48, 58.62, '2024-01-24 12:58:00', 47.41, '2024-01-15', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 26.56, 61.3, '2024-01-20 12:58:00', 56.63, '2024-01-18', 1), (19, 99.28, 43.81, '2024-01-28 12:14:00', 87.78, '2024-01-24', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (20, 0.52, 66.66, '2024-01-27 12:39:00', 10.5, '2024-01-17', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 45.16, 59.95, '2024-01-14 12:17:00', 83.3, '2024-01-09', 0), (22, 87.33, 84.48, '2024-01-18 12:14:00', 50.92, '2024-01-09', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, 11.75, 7.3, '2024-01-02 12:54:00', 33.72, '2024-01-01', 0), (24, 0.34, 31.21, '2024-01-06 12:13:00', 89.68, '2024-01-05', 1), (25, 41.69, 21.86, '2024-01-22 12:27:00', 26.32, '2024-01-08', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, 82.67, 8.55, '2024-01-16 12:10:00', 57.61, '2024-01-24', 0), (27, 0.78, 54.23, '2024-01-01 12:43:00', 97.53, '2024-01-05', 0), (28, 32.9, 60.61, '2024-01-09 12:41:00', 19.63, '2024-01-25', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (29, 84.56, 48.33, '2024-01-07 12:04:00', 1.11, '2024-01-21', 0), (30, 88.87, 45.58, '2024-01-05 12:03:00', 37.63, '2024-01-13', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (31, 54.27, 3.35, '2024-01-20 12:42:00', 96.61, '2024-01-12', 0), (32, 69.59, 58.69, '2024-01-24 12:39:00', 15.18, '2024-01-21', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (33, 95.81, 9.28, '2024-01-03 12:22:00', 75.76, '2024-01-18', 0), (34, 29.85, 31.64, '2024-01-12 12:00:00', 71.9, '2024-01-26', 0), (35, 47.82, 52.64, '2024-01-02 12:12:00', 37.99, '2024-01-21', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (36, 40.16, 53.86, '2024-01-16 12:21:00', 86.24, '2024-01-04', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 5.83, 13.92, '2024-01-12 12:30:00', 40.64, '2024-01-27', 1), (38, 93.78, 40.98, '2024-01-12 12:12:00', 53.52, '2024-01-08', 0), (39, 79.23, 22.12, '2024-01-15 12:32:00', 76.92, '2024-01-27', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (40, 88.89, 41.42, '2024-01-19 12:06:00', 21.97, '2024-01-19', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (41, 67.18, 90.65, '2024-01-04 12:37:00', 74.32, '2024-01-28', 0), (42, 83, 76.05, '2024-01-04 12:24:00', 4.63, '2024-01-13', 1), (43, 73.95, 93.71, '2024-01-14 12:34:00', 11.75, '2024-01-27', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, 5.91, 56, '2024-01-02 12:27:00', '2024-01-19', '2024-01-02 12:48:00', 3.26, '2024-01-25 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (44, 22.22, 59.16, '2024-01-18 12:46:00', 88.57, '2024-01-08', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (41, 69.56, 21, '2024-01-24 12:37:00', '2024-01-22', '2024-01-27 12:36:00', 43.39, '2024-01-11 08:09:00'), (42, 17.05, 2, '2024-01-24 12:26:00', '2024-01-19', '2024-01-07 12:15:00', 17.5, '2024-01-28 08:08:00'), (43, 73.2, 52, '2024-01-03 12:33:00', '2024-01-17', '2024-01-07 12:28:00', 21.61, '2024-01-09 08:19:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 99.04, 0, 72, '2024-01-27 12:43:00', 1, 62), (2, 39.61, 0, 61, '2024-01-10 12:13:00', 0, 12);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 23.22, 63, '2024-01-17 12:46:00', '2024-01-28', '2024-01-20 12:48:00', 44.48, '2024-01-16 08:02:00'), (45, 8.8, 40, '2024-01-13 12:10:00', '2024-01-21', '2024-01-15 12:14:00', 34.56, '2024-01-11 08:46:00');\nINSERT INTO t3 (id, c0, c1) VALUES (1, 43.07, '2024-01-09 12:15:00'), (2, 17.06, '2024-01-14 12:57:00'), (3, 82.81, '2024-01-27 12:19:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (46, 44.34, 21, '2024-01-10 12:42:00', '2024-01-06', '2024-01-23 12:01:00', 35, '2024-01-14 08:09:00'), (47, 21.51, 65, '2024-01-26 12:26:00', '2024-01-16', '2024-01-14 12:36:00', 91.88, '2024-01-02 08:47:00');\nINSERT INTO t3 (id, c0, c1) VALUES (4, 86.77, '2024-01-04 12:09:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (48, 42.36, 44, '2024-01-02 12:05:00', '2024-01-08', '2024-01-24 12:36:00', 56.09, '2024-01-10 08:10:00'), (49, 11.62, 94, '2024-01-14 12:48:00', '2024-01-27', '2024-01-12 12:09:00', 98.89, '2024-01-22 08:09:00');\nINSERT INTO t3 (id, c0, c1) VALUES (5, 52.59, '2024-01-05 12:45:00'), (6, 95.78, '2024-01-11 12:31:00'), (7, 43.81, '2024-01-25 12:31:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (50, 66.72, 13, '2024-01-06 12:48:00', '2024-01-17', '2024-01-13 12:09:00', 32.29, '2024-01-09 08:19:00'), (51, 10.42, 7, '2024-01-21 12:25:00', '2024-01-12', '2024-01-05 12:39:00', 63.6, '2024-01-19 08:42:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (45, 8.88, 36.58, '2024-01-28 12:54:00', 47.16, '2024-01-17', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (46, 70.81, 0.93, '2024-01-07 12:32:00', 30.33, '2024-01-05', 0), (47, 86.04, 42.8, '2024-01-21 12:51:00', 99.98, '2024-01-06', 1);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-27', 74.19, 's25', 67.15, 27.81, '2024-01-01 08:28:00', 0), (2, '2024-01-24', 56.06, 's23', 59.53, 22.7, '2024-01-19 08:57:00', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (48, 60.86, 85.06, '2024-01-27 12:06:00', 5.4, '2024-01-12', 0), (49, 55.79, 34.77, '2024-01-03 12:12:00', 11.39, '2024-01-22', 1), (50, 87.46, 61.46, '2024-01-19 12:19:00', 94.32, '2024-01-25', 1);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, '2024-01-19', 3.96, 's96', 64.4, 80.16, '2024-01-17 08:56:00', 0), (4, '2024-01-13', 9.76, 's11', 13.54, 81.37, '2024-01-18 08:41:00', 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 5.68, 1, 24, '2024-01-08 12:19:00', 0, 16);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, '2024-01-10', 2.82, 's75', 72.71, 10.49, '2024-01-04 08:09:00', 1), (6, '2024-01-10', 56.17, 's40', 65.33, 82.86, '2024-01-24 08:54:00', 0), (7, '2024-01-22', 4.88, 's78', 17.81, 88.12, '2024-01-11 08:21:00', 1);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, '2024-01-25', 38.6, 's59', 88.09, 97.37, '2024-01-19 08:24:00', 1);\nINSERT INTO t3 (id, c0, c1) VALUES (8, 49.83, '2024-01-13 12:18:00'), (9, 96.09, '2024-01-02 12:39:00');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (1, 0, '2024-01-25 12:42:00', 36.54, 84.23), (2, 1, '2024-01-21 12:44:00', 55.64, 71.84), (3, 1, '2024-01-14 12:14:00', 6.22, 27.08);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 73.85, 1, 30, '2024-01-03 12:29:00', 1, 4);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (52, 39.68, 83, '2024-01-02 12:47:00', '2024-01-10', '2024-01-25 12:51:00', 6.52, '2024-01-06 08:58:00'), (53, 1.58, 46, '2024-01-24 12:34:00', '2024-01-27', '2024-01-24 12:02:00', 93.57, '2024-01-08 08:13:00'), (54, 82.78, 53, '2024-01-13 12:16:00', '2024-01-05', '2024-01-22 12:11:00', 48.59, '2024-01-12 08:07:00');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (4, 0, '2024-01-26 12:25:00', 96.39, 12.41), (5, 1, '2024-01-03 12:20:00', 64.15, 46.3), (6, 0, '2024-01-08 12:10:00', 80.94, 34.94);\nINSERT INTO t3 (id, c0, c1) VALUES (10, 47.65, '2024-01-20 12:06:00'), (11, 21.23, '2024-01-04 12:12:00'), (12, 95.62, '2024-01-26 12:16:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 64.1, 0, 24, '2024-01-22 12:29:00', 1, 46);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, '2024-01-08', 17.14, 's48', 39.34, 56.29, '2024-01-12 08:26:00', 1), (10, '2024-01-07', 45.4, 's92', 35.13, 28.84, '2024-01-20 08:53:00', 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 57.45, 1, 70, '2024-01-08 12:11:00', 0, 94);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (11, '2024-01-19', 86.93, 's67', 64.7, 15.73, '2024-01-04 08:08:00', 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 54.6, 0, 84, '2024-01-06 12:37:00', 0, 86), (8, 42.68, 0, 41, '2024-01-08 12:37:00', 1, 56), (9, 21.34, 1, 83, '2024-01-06 12:47:00', 1, 53);\nINSERT INTO t3 (id, c0, c1) VALUES (13, 99.91, '2024-01-17 12:19:00'), (14, 24.19, '2024-01-04 12:47:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (55, 27.42, 50, '2024-01-08 12:20:00', '2024-01-13', '2024-01-26 12:18:00', 37.9, '2024-01-25 08:03:00'), (56, 31.55, 50, '2024-01-13 12:05:00', '2024-01-20', '2024-01-05 12:11:00', 30.15, '2024-01-19 08:09:00'), (57, 47.8, 8, '2024-01-06 12:42:00', '2024-01-28', '2024-01-12 12:26:00', 20.36, '2024-01-15 08:08:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` int NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` date NOT NULL,\n  `c4` datetime NOT NULL,\n  `c5` double DEFAULT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` double DEFAULT NULL,\n  `c1` double NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` decimal(12,2) DEFAULT NULL,\n  `c4` date NOT NULL,\n  `c5` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c5` (`c5`),\n  KEY `fk_10` (`id`),\n  CONSTRAINT `fk_10` FOREIGN KEY (`id`) REFERENCES `t4` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` datetime NOT NULL,\n  `c4` tinyint(1) NOT NULL,\n  `c5` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c4_0` (`c4`),\n  KEY `idx_c3_2` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` double DEFAULT NULL,\n  `c1` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_1` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` float NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` double DEFAULT NULL,\n  `c4` float NOT NULL,\n  `c5` timestamp NOT NULL,\n  `c6` tinyint(1) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` float NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0019_019be1f4-b016-799c-8243-9a6523f340b5",
      "dir": "reports/case_0019_019be1f4-b016-799c-8243-9a6523f340b5",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:48+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "bbe8f49900218a01cf52e5b9bbc89d28cc085400",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT COUNT(1) AS cnt, SUM(t4.c1) AS sum1 FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0 WHERE EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) LIMIT 3) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT IFNULL(SUM(CASE WHEN EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0",
      "norec_predicate": "EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2))",
      "sql": [
        "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT COUNT(1) AS cnt, SUM(t4.c1) AS sum1 FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0 WHERE EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) LIMIT 3",
        "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT (CASE WHEN EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) THEN 1 ELSE 0 END) AS b FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0"
      ],
      "plan_replayer": "reports/case_0019_019be1f4-b016-799c-8243-9a6523f340b5/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT COUNT(1) AS cnt, SUM(t4.c1) AS sum1 FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0 WHERE EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) LIMIT 3) q",
        "norec_predicate": "EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT IFNULL(SUM(CASE WHEN EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0",
        "optimized_explain": "StreamAgg_47\t1.00\troot\t\tfuncs:count(1)->Column#49\n└─Limit_50\t1.00\troot\t\toffset:0, count:3\n  └─HashAgg_54\t1.00\troot\t\tfuncs:count(1)->Column#51\n    └─HashJoin_71\t10000000000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_86(Build)\t100000.00\troot\t\tCARTESIAN inner join\n      │ ├─Limit_87(Build)\t8.00\troot\t\toffset:0, count:8\n      │ │ └─TableReader_94\t8.00\troot\t\tdata:Limit_93\n      │ │   └─Limit_93\t8.00\tcop[tikv]\t\toffset:0, count:8\n      │ │     └─Selection_92\t8.00\tcop[tikv]\t\tlt(shiro_fuzz_r18.t4.c3, 32.7)\n      │ │       └─TableFullScan_91\t24.07\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n      │ └─MergeJoin_99(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r18.t4.id, right key:shiro_fuzz_r18.t3.id\n      │   ├─TableReader_117(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_116\n      │   │ └─TableFullScan_116\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n      │   └─TableReader_115(Probe)\t10000.00\troot\t\tdata:TableFullScan_114\n      │     └─TableFullScan_114\t10000.00\tcop[tikv]\ttable:t4\tkeep order:true, stats:pseudo\n      └─HashJoin_147(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_158(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_157\n        │ └─IndexFullScan_157\t10000.00\tcop[tikv]\ttable:t1, index:idx_c4(c4)\tkeep order:false, stats:pseudo\n        └─IndexReader_152(Probe)\t10000.00\troot\t\tindex:IndexFullScan_151\n          └─IndexFullScan_151\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0_0(c0)\tkeep order:false, stats:pseudo\nScalarSubQuery_25\tN/A\troot\t\tOutput: \n└─TableDual_24\t1.00\troot\t\trows:1\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT IFNULL(SUM(CASE WHEN EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT COUNT(1) AS cnt, SUM(t4.c1) AS sum1 FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0 WHERE EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) LIMIT 3) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_35\t1.00\troot\t\tifnull(Column#53, 0)->Column#54\n└─HashAgg_39\t1.00\troot\t\tfuncs:sum(1)->Column#53\n  └─HashJoin_56\t10000000000000.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_71(Build)\t100000.00\troot\t\tCARTESIAN inner join\n    │ ├─Limit_72(Build)\t8.00\troot\t\toffset:0, count:8\n    │ │ └─TableReader_79\t8.00\troot\t\tdata:Limit_78\n    │ │   └─Limit_78\t8.00\tcop[tikv]\t\toffset:0, count:8\n    │ │     └─Selection_77\t8.00\tcop[tikv]\t\tlt(shiro_fuzz_r18.t4.c3, 32.7)\n    │ │       └─TableFullScan_76\t24.07\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n    │ └─MergeJoin_84(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r18.t4.id, right key:shiro_fuzz_r18.t3.id\n    │   ├─TableReader_102(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_101\n    │   │ └─TableFullScan_101\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n    │   └─TableReader_100(Probe)\t10000.00\troot\t\tdata:TableFullScan_99\n    │     └─TableFullScan_99\t10000.00\tcop[tikv]\ttable:t4\tkeep order:true, stats:pseudo\n    └─HashJoin_132(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n      ├─IndexReader_143(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_142\n      │ └─IndexFullScan_142\t10000.00\tcop[tikv]\ttable:t1, index:idx_c4(c4)\tkeep order:false, stats:pseudo\n      └─IndexReader_137(Probe)\t10000.00\troot\t\tindex:IndexFullScan_136\n        └─IndexFullScan_136\t10000.00\tcop[tikv]\ttable:t0, index:idx_c0_0(c0)\tkeep order:false, stats:pseudo\nScalarSubQuery_26\tN/A\troot\t\tOutput: \n└─TableDual_25\t1.00\troot\t\trows:1\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT COUNT(1) AS cnt, SUM(t4.c1) AS sum1 FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0 WHERE EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) LIMIT 3;\nWITH cte_0 AS (SELECT t4.id AS c0, t4.c4 AS c1, t4.c2 AS c2 FROM t4 WHERE (t4.c3 < 32.7) LIMIT 8) SELECT (CASE WHEN EXISTS (SELECT COUNT(1) AS cnt FROM t4 WHERE (t4.c4 = t0.c2)) THEN 1 ELSE 0 END) AS b FROM t4 JOIN t3 USING (id) CROSS JOIN t0 CROSS JOIN t1 CROSS JOIN cte_0;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n51\t20\t30.77\t0\n55\t33\t46.02\t0\n60\t8\t72.03\t0\n63\t12\t79.09\t0\n64\t86\t99.14\t0\n65\t34\t65.31\t0\n66\t20\t80.61\t0\n67\t37\t97.34\t1\n\n-- t1\n\n-- t2\n5\ts60\t47\t2024-01-12 12:24:00\n6\ts50\t24\t2024-01-12 12:24:00\n7\ts77\t26\t2024-01-12 12:24:00\n8\ts35\t26\t2024-01-28 12:34:00\n9\ts38\t65\t2024-01-12 12:24:00\n10\ts47\t29\t2024-01-12 12:24:00\n11\ts9\t82\t2024-01-12 12:24:00\n12\ts47\t95\t2024-01-12 12:24:00\n13\ts32\t89\t2024-01-12 12:24:00\n14\ts97\t11\t2024-01-12 12:24:00\n15\ts27\t4\t2024-01-12 12:24:00\n16\ts45\t87\t2024-01-12 12:24:00\n17\ts63\t21\t2024-01-12 12:24:00\n18\ts64\t38\t2024-01-12 12:24:00\n19\ts65\t63\t2024-01-12 12:24:00\n20\ts61\t33\t2024-01-12 12:24:00\n21\ts95\t67\t2024-01-12 12:24:00\n22\ts50\t42\t2024-01-12 12:24:00\n23\ts35\t2\t2024-01-28 12:39:00\n24\ts45\t14\t2024-01-12 12:24:00\n25\ts82\t69\t2024-01-12 12:24:00\n27\ts21\t72\t2024-01-12 12:24:00\n\n-- t3\n1\t1\t1\t2024-01-04 08:16:00\t1\t2024-01-19 12:42:00\ts65\n3\t1\t1\t2024-01-04 08:44:00\t1\t2024-01-11 12:20:00\ts36\n5\t1\t0\t2024-01-15 08:37:00\t1\t2024-01-13 12:38:00\ts73\n7\t1\t1\t2024-01-26 08:32:00\t0\t2024-01-08 12:01:00\ts97\n2\t1\t1\t2024-01-14 08:02:00\t0\t2024-01-10 12:54:00\ts4\n4\t1\t1\t2024-01-14 08:39:00\t1\t2024-01-11 12:27:00\ts52\n6\t1\t0\t2024-01-15 08:19:00\t0\t2024-01-27 12:32:00\ts26\n\n-- t4\n1\t2024-01-15\t78.8\t17.15\t92.72\t70.52\n2\t2024-01-19\t76.77\t89.6\t58.96\t44.62\n3\t2024-01-23\t91.59\t23.34\t91.35\t37.11\n4\t2024-01-03\t81.23\t13.02\t49.01\t2.22\n\n-- t5\n1\t2024-01-28 08:51:00\t24\ts42\t2024-01-09 12:33:00\t2024-01-20\n2\t2024-01-07 08:09:00\t85\ts70\t2024-01-14 12:37:00\t2024-01-12\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2) VALUES (1, 80, 13.66, 0), (2, 14, 98.83, 1), (3, 96, 32.42, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (4, 67, 98.25, 1), (5, 47, 98.86, 0), (6, 19, 51.73, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (7, 60, 51.94, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (8, 67, 20.35, 1), (9, 42, 80.43, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (10, 61, 28.98, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (11, 55, 77.88, 0), (12, 66, 68.01, 0), (13, 45, 92.15, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (14, 63, 57.8, 0), (15, 75, 83.84, 0), (16, 99, 86.71, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (17, 34, 60.64, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (18, 65, 8.19, 1), (19, 97, 95.22, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (20, 44, 43.81, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (21, 9, 51.19, 1), (22, 35, 95.74, 0), (23, 84, 59.16, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (24, 3, 70.92, 0), (25, 27, 35.02, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (26, 54, 80.98, 0), (27, 53, 93.15, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (28, 85, 30.26, 1), (29, 39, 6.19, 0), (30, 21, 40.3, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (31, 49, 97.02, 0), (32, 62, 55.62, 1), (33, 50, 10.66, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (34, 54, 22.79, 1), (35, 55, 72.22, 0), (36, 70, 69.23, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (37, 59, 54.14, 1), (38, 84, 68.18, 0), (39, 93, 12.57, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (40, 1, 2.56, 1), (41, 10, 81.98, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (42, 66, 69.62, 0), (43, 85, 78.08, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (44, 41, 43.41, 0), (45, 8, 18.1, 0), (46, 62, 74.57, 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 's70', 's53', 's44', '2024-01-01', 48, '2024-01-18 08:22:00'), (2, 's67', 's36', 's15', '2024-01-25', 85, '2024-01-04 08:45:00'), (3, 's32', 's98', 's81', '2024-01-27', 53, '2024-01-04 08:02:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 's98', 's44', 's91', '2024-01-19', 85, '2024-01-14 08:15:00'), (5, 's15', 's93', 's17', '2024-01-07', 87, '2024-01-26 08:16:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 's90', 's80', 's15', '2024-01-28', 30, '2024-01-25 08:10:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 's14', 's20', 's1', '2024-01-23', 24, '2024-01-09 08:35:00'), (8, 's71', 's34', 's54', '2024-01-18', 92, '2024-01-08 08:10:00'), (9, 's63', 's46', 's40', '2024-01-13', 53, '2024-01-16 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 's55', 's85', 's14', '2024-01-04', 97, '2024-01-02 08:35:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 's82', 's94', 's92', '2024-01-01', 92, '2024-01-10 08:42:00'), (12, 's40', 's21', 's55', '2024-01-27', 81, '2024-01-17 08:50:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 's4', 's29', 's96', '2024-01-26', 78, '2024-01-17 08:55:00'), (14, 's89', 's20', 's54', '2024-01-28', 64, '2024-01-10 08:17:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 's49', 's85', 's60', '2024-01-07', 39, '2024-01-15 08:34:00'), (16, 's18', 's37', 's42', '2024-01-23', 16, '2024-01-02 08:31:00'), (17, 's47', 's2', 's39', '2024-01-19', 57, '2024-01-19 08:04:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 's10', 's35', 's8', '2024-01-06', 70, '2024-01-05 08:54:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 's85', 's31', 's49', '2024-01-02', 6, '2024-01-11 08:40:00'), (20, 's3', 's24', 's99', '2024-01-10', 18, '2024-01-11 08:41:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 's32', 's10', 's98', '2024-01-02', 17, '2024-01-01 08:06:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (22, 's41', 's40', 's63', '2024-01-20', 23, '2024-01-04 08:55:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, 's3', 's67', 's90', '2024-01-03', 77, '2024-01-19 08:09:00'), (24, 's70', 's98', 's29', '2024-01-27', 68, '2024-01-05 08:27:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (25, 's11', 's58', 's17', '2024-01-03', 61, '2024-01-14 08:05:00'), (26, 's7', 's82', 's26', '2024-01-04', 76, '2024-01-22 08:34:00'), (27, 's76', 's95', 's27', '2024-01-06', 69, '2024-01-11 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (28, 's75', 's10', 's59', '2024-01-12', 1, '2024-01-20 08:57:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (29, 's12', 's95', 's79', '2024-01-12', 67, '2024-01-08 08:06:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (30, 's80', 's22', 's30', '2024-01-25', 57, '2024-01-25 08:06:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (31, 's66', 's79', 's46', '2024-01-08', 71, '2024-01-10 08:46:00'), (32, 's10', 's85', 's23', '2024-01-19', 36, '2024-01-25 08:40:00'), (33, 's44', 's13', 's8', '2024-01-24', 73, '2024-01-11 08:23:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (34, 's25', 's31', 's20', '2024-01-08', 16, '2024-01-25 08:01:00'), (35, 's35', 's68', 's56', '2024-01-13', 11, '2024-01-06 08:16:00'), (36, 's17', 's73', 's56', '2024-01-08', 30, '2024-01-06 08:20:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 's7', 's8', 's96', '2024-01-11', 96, '2024-01-15 08:13:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (47, 43, 35.79, 1), (48, 97, 82.49, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (49, 58, 49.5, 0), (50, 95, 94.26, 1), (51, 18, 29.77, 1);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (52, 82, 6.07, 0), (53, 43, 31.24, 0);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (1, 's23', 11, '2024-01-09 12:10:00'), (2, 's96', 84, '2024-01-21 12:53:00'), (3, 's91', 19, '2024-01-20 12:48:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (54, 34, 79.77, 0), (55, 31, 45.02, 1), (56, 17, 16.29, 0);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (4, 's52', 5, '2024-01-19 12:37:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (57, 12, 66.09, 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (38, 's30', 's66', 's81', '2024-01-21', 91, '2024-01-06 08:42:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (5, 's60', 46, '2024-01-07 12:26:00'), (6, 's50', 23, '2024-01-02 12:26:00'), (7, 's77', 25, '2024-01-25 12:32:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (8, 's35', 25, '2024-01-28 12:34:00'), (9, 's38', 64, '2024-01-07 12:57:00'), (10, 's47', 28, '2024-01-10 12:01:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (39, 's45', 's59', 's42', '2024-01-13', 74, '2024-01-09 08:03:00'), (40, 's45', 's96', 's64', '2024-01-08', 1, '2024-01-04 08:09:00'), (41, 's8', 's67', 's54', '2024-01-01', 44, '2024-01-21 08:45:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (42, 's93', 's64', 's81', '2024-01-24', 76, '2024-01-06 08:18:00'), (43, 's97', 's35', 's89', '2024-01-21', 49, '2024-01-05 08:03:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (11, 's9', 81, '2024-01-06 12:32:00'), (12, 's47', 94, '2024-01-17 12:08:00'), (13, 's32', 88, '2024-01-08 12:36:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (14, 's97', 10, '2024-01-27 12:24:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (44, 's29', 's73', 's8', '2024-01-10', 86, '2024-01-21 08:55:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (58, 95, 31.13, 1), (59, 48, 19.64, 1), (60, 6, 71.03, 1);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (15, 's27', 3, '2024-01-25 12:26:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (16, 's92', 86, '2024-01-13 12:32:00'), (17, 's63', 20, '2024-01-06 12:31:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (61, 86, 3.86, 0), (62, 78, 4.51, 1);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (18, 's64', 37, '2024-01-15 12:23:00'), (19, 's65', 62, '2024-01-02 12:23:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (45, 's70', 's75', 's60', '2024-01-14', 16, '2024-01-27 08:39:00'), (46, 's45', 's69', 's67', '2024-01-19', 92, '2024-01-19 08:22:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (47, 's3', 's77', 's28', '2024-01-28', 10, '2024-01-19 08:42:00'), (48, 's42', 's8', 's24', '2024-01-12', 3, '2024-01-16 08:02:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (20, 's61', 32, '2024-01-19 12:29:00'), (21, 's95', 66, '2024-01-21 12:29:00'), (22, 's50', 41, '2024-01-27 12:50:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (23, 's35', 1, '2024-01-28 12:39:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (24, 's42', 13, '2024-01-23 12:28:00');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (25, 's82', 68, '2024-01-18 12:41:00'), (26, 's14', 46, '2024-01-13 12:56:00'), (27, 's21', 71, '2024-01-12 12:31:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (49, 's92', 's98', 's80', '2024-01-20', 35, '2024-01-21 08:16:00'), (50, 's47', 's49', 's36', '2024-01-18', 92, '2024-01-10 08:21:00'), (51, 's96', 's19', 's24', '2024-01-07', 45, '2024-01-13 08:09:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (63, 11, 78.09, 0), (64, 85, 98.14, 0), (65, 33, 64.31, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (66, 19, 79.61, 0);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (67, 36, 96.34, 1);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 1, 1, '2024-01-04 08:16:00', 1, '2024-01-19 12:42:00', 's65'), (2, 1, 1, '2024-01-14 08:02:00', 0, '2024-01-10 12:54:00', 's4'), (3, 1, 1, '2024-01-04 08:44:00', 1, '2024-01-11 12:20:00', 's36');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (1, '2024-01-15', 78.8, 17.15, 92.72, 70.52), (2, '2024-01-19', 76.77, 89.6, 58.96, 44.62);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (3, '2024-01-23', 91.59, 23.34, 91.35, 37.11), (4, '2024-01-03', 81.23, 13.02, 49.01, 2.22);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (1, '2024-01-28 08:51:00', 24, 's42', '2024-01-09 12:33:00', '2024-01-20'), (2, '2024-01-07 08:09:00', 85, 's70', '2024-01-14 12:37:00', '2024-01-12');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 1, 1, '2024-01-14 08:39:00', 1, '2024-01-11 12:27:00', 's52'), (5, 1, 0, '2024-01-15 08:37:00', 1, '2024-01-13 12:38:00', 's73');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 1, 0, '2024-01-15 08:19:00', 0, '2024-01-27 12:32:00', 's26'), (7, 1, 1, '2024-01-26 08:32:00', 0, '2024-01-08 12:01:00', 's97');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_0` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` date DEFAULT NULL,\n  `c4` bigint NOT NULL,\n  `c5` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c2_3` (`c2`),\n  KEY `idx_c1_5` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) NOT NULL,\n  `c1` int NOT NULL,\n  `c2` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1_1` (`c1`),\n  KEY `idx_id_2` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` tinyint(1) DEFAULT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` datetime NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c1_4` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` double NOT NULL,\n  `c2` double DEFAULT NULL,\n  `c3` double DEFAULT NULL,\n  `c4` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` int NOT NULL,\n  `c2` varchar(64) DEFAULT NULL,\n  `c3` datetime NOT NULL,\n  `c4` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0018_019be1f4-6be6-779d-8629-4a046855e03f",
      "dir": "reports/case_0018_019be1f4-6be6-779d-8629-4a046855e03f",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:30+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "5152e058cd5eecaa4ba141493844b0bf69e87c29",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00')) WHERE (cte_0.c2 > 's96')) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN (cte_0.c2 > 's96') THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00'))",
      "norec_predicate": "(cte_0.c2 > 's96')",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00')) WHERE (cte_0.c2 > 's96')",
        "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT (CASE WHEN (cte_0.c2 > 's96') THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00'))"
      ],
      "plan_replayer": "reports/case_0018_019be1f4-6be6-779d-8629-4a046855e03f/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00')) WHERE (cte_0.c2 > 's96')) q",
        "norec_predicate": "(cte_0.c2 > 's96')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN (cte_0.c2 > 's96') THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00'))",
        "optimized_explain": "StreamAgg_41\t1.00\troot\t\tfuncs:count(1)->Column#28\n└─HashAgg_44\t1.00\troot\t\tfuncs:count(1)->Column#48\n  └─HashJoin_61\t125000.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_78(Build)\t12.50\troot\t\tinner join, equal:[eq(Column#37, Column#36)]\n    │ ├─Projection_91(Build)\t10.00\troot\t\tcast(shiro_fuzz_r17.t1.id, double BINARY)->Column#36\n    │ │ └─IndexHashJoin_101\t10.00\troot\t\tright outer join, inner:Projection_107, left side:Projection_107, outer key:Column#32, inner key:shiro_fuzz_r17.t1.c1, equal cond:eq(Column#31, Column#30), eq(Column#32, shiro_fuzz_r17.t1.c1)\n    │ │   ├─Projection_111(Build)\t8.00\troot\t\tshiro_fuzz_r17.t1.id, cast(shiro_fuzz_r17.t1.id, double BINARY)->Column#31, cast(shiro_fuzz_r17.t1.c2, datetime(6) BINARY)->Column#32\n    │ │   │ └─Selection_113\t8.00\troot\t\tgt(shiro_fuzz_r17.t1.id, 0), ne(cast(shiro_fuzz_r17.t1.c1, double BINARY), 70), nulleq(shiro_fuzz_r17.t1.c2, \"2024-01-11 08:05:00\")\n    │ │   │   └─Projection_122\t10.00\troot\t\tshiro_fuzz_r17.t1.id, shiro_fuzz_r17.t1.c1, shiro_fuzz_r17.t1.c2\n    │ │   │     └─IndexLookUp_121\t10.00\troot\t\tlimit embedded(offset:0, count:10)\n    │ │   │       ├─Limit_120(Build)\t10.00\tcop[tikv]\t\toffset:0, count:10\n    │ │   │       │ └─IndexRangeScan_118\t10.00\tcop[tikv]\ttable:t1, index:idx_c0_0(c0)\trange:[16,16], keep order:false, stats:pseudo\n    │ │   │       └─TableRowIDScan_119(Probe)\t10.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n    │ │   └─Projection_107(Probe)\t10.00\troot\t\tshiro_fuzz_r17.t1.c1, cast(shiro_fuzz_r17.t1.c2, double BINARY)->Column#30\n    │ │     └─IndexLookUp_110\t10.00\troot\t\t\n    │ │       ├─IndexRangeScan_108(Build)\t10.00\tcop[tikv]\ttable:t1, index:idx_c1(c1)\trange: decided by [eq(shiro_fuzz_r17.t1.c1, Column#32)], keep order:false, stats:pseudo\n    │ │       └─TableRowIDScan_109(Probe)\t10.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n    │ └─Projection_81(Probe)\t10000.00\troot\t\tcast(shiro_fuzz_r17.t0.c2, double BINARY)->Column#37\n    │   └─TableReader_84\t10000.00\troot\t\tdata:TableFullScan_83\n    │     └─TableFullScan_83\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n    └─TableReader_64(Probe)\t10000.00\troot\t\tdata:TableFullScan_63\n      └─TableFullScan_63\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN (cte_0.c2 > 's96') THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00'))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00')) WHERE (cte_0.c2 > 's96')) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_30\t1.00\troot\t\tifnull(Column#26, 0)->Column#27\n└─HashAgg_34\t1.00\troot\t\tfuncs:sum(Column#48)->Column#26\n  └─Projection_135\t125000.00\troot\t\tcast(case(gt(shiro_fuzz_r17.t1.id, 0), 1, 0), decimal(20,0) BINARY)->Column#48\n    └─HashJoin_46\t125000.00\troot\t\tCARTESIAN right outer join, left side:HashJoin_68\n      ├─HashJoin_68(Build)\t12.50\troot\t\tinner join, equal:[eq(Column#36, Column#35)]\n      │ ├─Projection_80(Build)\t10.00\troot\t\tshiro_fuzz_r17.t1.id, cast(shiro_fuzz_r17.t1.id, double BINARY)->Column#35\n      │ │ └─IndexHashJoin_90\t10.00\troot\t\tright outer join, inner:Projection_96, left side:Projection_96, outer key:Column#31, inner key:shiro_fuzz_r17.t1.c1, equal cond:eq(Column#30, Column#29), eq(Column#31, shiro_fuzz_r17.t1.c1)\n      │ │   ├─Projection_100(Build)\t8.00\troot\t\tshiro_fuzz_r17.t1.id, cast(shiro_fuzz_r17.t1.id, double BINARY)->Column#30, cast(shiro_fuzz_r17.t1.c2, datetime(6) BINARY)->Column#31\n      │ │   │ └─Selection_102\t8.00\troot\t\tne(cast(shiro_fuzz_r17.t1.c1, double BINARY), 70), nulleq(shiro_fuzz_r17.t1.c2, \"2024-01-11 08:05:00\")\n      │ │   │   └─Projection_111\t10.00\troot\t\tshiro_fuzz_r17.t1.id, shiro_fuzz_r17.t1.c1, shiro_fuzz_r17.t1.c2\n      │ │   │     └─IndexLookUp_110\t10.00\troot\t\tlimit embedded(offset:0, count:10)\n      │ │   │       ├─Limit_109(Build)\t10.00\tcop[tikv]\t\toffset:0, count:10\n      │ │   │       │ └─IndexRangeScan_107\t10.00\tcop[tikv]\ttable:t1, index:idx_c0_0(c0)\trange:[16,16], keep order:false, stats:pseudo\n      │ │   │       └─TableRowIDScan_108(Probe)\t10.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      │ │   └─Projection_96(Probe)\t10.00\troot\t\tshiro_fuzz_r17.t1.c1, cast(shiro_fuzz_r17.t1.c2, double BINARY)->Column#29\n      │ │     └─IndexLookUp_99\t10.00\troot\t\t\n      │ │       ├─IndexRangeScan_97(Build)\t10.00\tcop[tikv]\ttable:t1, index:idx_c1(c1)\trange: decided by [eq(shiro_fuzz_r17.t1.c1, Column#31)], keep order:false, stats:pseudo\n      │ │       └─TableRowIDScan_98(Probe)\t10.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      │ └─Projection_70(Probe)\t10000.00\troot\t\tcast(shiro_fuzz_r17.t0.c2, double BINARY)->Column#36\n      │   └─TableReader_73\t10000.00\troot\t\tdata:TableFullScan_72\n      │     └─TableFullScan_72\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      └─TableReader_123(Probe)\t10000.00\troot\t\tdata:TableFullScan_122\n        └─TableFullScan_122\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00')) WHERE (cte_0.c2 > 's96');\nWITH cte_0 AS (SELECT t1.c1 AS c0, t1.c2 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 = 16) LIMIT 10) SELECT (CASE WHEN (cte_0.c2 > 's96') THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN cte_0 USING (c2, c1) JOIN t0 ON (cte_0.c2 = t0.c2) RIGHT JOIN t2 ON (NOT (cte_0.c0 IN (70)) AND (cte_0.c1 <=> '2024-01-11 08:05:00'));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\ts8\t2024-01-17\ts9\t58.65\ts6\n2\ts8\t2024-01-24\ts55\t92.52\ts95\n3\ts8\t2024-01-22\ts14\t91.41\ts93\n4\ts8\t2024-01-13\ts75\t11.02\ts1\n5\ts8\t2024-01-21\ts41\t15.49\ts41\n6\ts8\t2024-01-20\ts7\t84.83\ts38\n7\ts8\t2024-01-14\ts81\t99.33\ts74\n8\ts8\t2024-01-02\ts83\t93.96\ts60\n9\ts8\t2024-01-04\ts10\t44.77\ts13\n11\ts8\t2024-01-06\ts8\t75.01\ts8\n12\ts8\t2024-01-05\ts70\t65.09\ts66\n13\ts8\t2024-01-17\ts86\t2.25\ts40\n14\ts8\t2024-01-17\ts38\t52.04\ts6\n15\ts8\t2024-01-16\ts10\t93.62\ts73\n16\ts8\t2024-01-21\ts68\t2.16\ts2\n17\ts8\t2024-01-06\ts61\t3.8\ts58\n18\ts8\t2024-01-03\ts65\t20.89\ts85\n19\ts8\t2024-01-16\ts79\t0.49\ts38\n20\ts8\t2024-01-15\ts39\t23.66\ts50\n21\ts8\t2024-01-15\ts57\t31.27\ts67\n23\ts95\t2024-01-01\ts46\t26.17\ts33\n24\ts8\t2024-01-21\ts6\t78.27\ts46\n25\ts8\t2024-01-11\ts96\t78.25\ts10\n26\ts8\t2024-01-04\ts99\t99.74\ts8\n27\ts8\t2024-01-13\ts80\t17.69\ts6\n28\ts8\t2024-01-16\ts33\t19.43\ts59\n29\ts8\t2024-01-03\ts52\t4.3\ts5\n31\ts8\t2024-01-16\ts84\t35.92\ts4\n32\ts8\t2024-01-01\ts88\t46.46\ts73\n33\ts8\t2024-01-22\ts69\t6.67\ts61\n34\ts8\t2024-01-14\ts36\t75.38\ts38\n35\ts8\t2024-01-22\ts59\t80.2\ts65\n36\ts8\t2024-01-23\ts2\t67.03\ts59\n37\ts8\t2024-01-05\ts3\t23.28\ts33\n38\ts8\t2024-01-06\ts40\t59.48\ts60\n39\ts8\t2024-01-01\ts38\t73.16\ts37\n40\ts8\t2024-01-15\ts97\t61.63\ts59\n41\ts8\t2024-01-16\ts39\t56.98\ts25\n42\ts8\t2024-01-09\ts99\t95.97\ts77\n43\ts8\t2024-01-07\ts89\t34.14\ts98\n44\ts8\t2024-01-16\ts28\t3.24\ts78\n45\ts8\t2024-01-18\ts84\t2.99\ts27\n46\ts8\t2024-01-20\ts11\t67.73\ts64\n47\ts8\t2024-01-21\ts80\t58.59\ts41\n48\ts8\t2024-01-03\ts8\t89.6\ts72\n49\ts8\t2024-01-09\ts17\t52.22\ts37\n50\ts8\t2024-01-21\ts1\t80.13\ts82\n51\ts0\t2024-01-23\ts22\t70.79\ts85\n52\ts19\t2024-01-06\ts49\t34.69\ts91\n53\ts13\t2024-01-26\ts58\t74.73\ts52\n\n-- t1\n55\t35\t2024-01-12 08:18:00\ts55\n56\t62\t2024-01-09 08:51:00\ts88\n57\t53\t2024-01-07 08:14:00\ts79\n58\t17\t2024-01-25 08:07:00\ts8\n\n-- t2\n1\t2024-01-06\t8.55\t47.68\n2\t2024-01-24\t12.49\t97.54\n3\t2024-01-14\t73.92\t66.64\n4\t2024-01-22\t48.68\t48.28\n5\t2024-01-08\t91.23\t64.37\n6\t2024-01-02\t40.77\t46.04\n7\t2024-01-13\t86.29\t83.8\n8\t2024-01-28\t60.11\t6.68\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (1, 's71', '2024-01-17', 's9', 58.65, 's6');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (2, 's13', '2024-01-24', 's21', 92.52, 's95'), (3, 's55', '2024-01-22', 's14', 91.41, 's93');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (4, 's54', '2024-01-13', 's75', 11.02, 's1'), (5, 's57', '2024-01-21', 's41', 15.49, 's41');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (6, 's65', '2024-01-20', 's7', 84.83, 's38'), (7, 's5', '2024-01-14', 's81', 99.33, 's74'), (8, 's38', '2024-01-02', 's83', 93.96, 's60');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (9, 's16', '2024-01-04', 's10', 44.77, 's13'), (10, 's91', '2024-01-09', 's93', 63.53, 's74');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (11, 's1', '2024-01-06', 's8', 75.01, 's8');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (12, 's64', '2024-01-05', 's70', 65.09, 's66');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (13, 's59', '2024-01-17', 's86', 2.25, 's40'), (14, 's18', '2024-01-17', 's38', 52.04, 's6');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (15, 's26', '2024-01-27', 's10', 93.62, 's73'), (16, 's33', '2024-01-21', 's68', 2.16, 's2');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (17, 's29', '2024-01-06', 's61', 3.8, 's58'), (18, 's43', '2024-01-03', 's65', 20.89, 's85'), (19, 's89', '2024-01-28', 's79', 0.49, 's61');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (20, 's61', '2024-01-15', 's39', 23.66, 's50'), (21, 's97', '2024-01-15', 's57', 31.27, 's67');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (22, 's5', '2024-01-05', 's16', 22.34, 's70');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (23, 's95', '2024-01-01', 's46', 26.17, 's33'), (24, 's71', '2024-01-21', 's6', 78.27, 's46'), (25, 's97', '2024-01-11', 's96', 78.25, 's10');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (26, 's73', '2024-01-04', 's99', 99.74, 's8');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (27, 's48', '2024-01-13', 's80', 17.69, 's6'), (28, 's40', '2024-01-25', 's33', 19.43, 's59'), (29, 's10', '2024-01-03', 's52', 4.3, 's5');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (30, 's83', '2024-01-03', 's40', 40.03, 's97');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (31, 's36', '2024-01-28', 's84', 35.92, 's4'), (32, 's3', '2024-01-01', 's88', 46.46, 's73');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (33, 's4', '2024-01-22', 's69', 6.67, 's61'), (34, 's28', '2024-01-14', 's36', 75.38, 's94');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (35, 's69', '2024-01-22', 's59', 80.2, 's65'), (36, 's47', '2024-01-23', 's2', 67.03, 's59'), (37, 's53', '2024-01-05', 's3', 23.28, 's33');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (38, 's45', '2024-01-06', 's40', 59.48, 's60'), (39, 's44', '2024-01-01', 's38', 73.16, 's37'), (40, 's0', '2024-01-15', 's97', 61.63, 's59');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 86, '2024-01-12 08:20:00', 's65');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (2, 75, '2024-01-11 08:38:00', 's8'), (3, 78, '2024-01-24 08:12:00', 's90');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (4, 41, '2024-01-02 08:41:00', 's16'), (5, 91, '2024-01-10 08:39:00', 's92');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (6, 83, '2024-01-10 08:37:00', 's99'), (7, 0, '2024-01-15 08:49:00', 's44'), (8, 46, '2024-01-10 08:03:00', 's81');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (9, 87, '2024-01-27 08:43:00', 's62'), (10, 54, '2024-01-19 08:40:00', 's63');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (11, 71, '2024-01-25 08:16:00', 's37'), (12, 1, '2024-01-15 08:28:00', 's40');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (13, 62, '2024-01-26 08:21:00', 's86'), (14, 82, '2024-01-07 08:30:00', 's33');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (15, 73, '2024-01-14 08:37:00', 's8'), (16, 51, '2024-01-01 08:53:00', 's5');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (17, 58, '2024-01-08 08:30:00', 's91');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (18, 10, '2024-01-11 08:51:00', 's21'), (19, 54, '2024-01-08 08:08:00', 's46');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (20, 20, '2024-01-14 08:19:00', 's74'), (21, 79, '2024-01-14 08:16:00', 's9'), (22, 47, '2024-01-09 08:17:00', 's18');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (23, 28, '2024-01-27 08:52:00', 's4'), (24, 44, '2024-01-27 08:26:00', 's26'), (25, 17, '2024-01-07 08:19:00', 's60');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (26, 88, '2024-01-22 08:21:00', 's81'), (27, 68, '2024-01-15 08:22:00', 's89');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (28, 27, '2024-01-01 08:00:00', 's61'), (29, 35, '2024-01-09 08:45:00', 's0');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (30, 84, '2024-01-23 08:28:00', 's8'), (31, 93, '2024-01-27 08:19:00', 's40');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (32, 12, '2024-01-23 08:15:00', 's84');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (33, 93, '2024-01-12 08:28:00', 's18'), (34, 78, '2024-01-16 08:50:00', 's23'), (35, 57, '2024-01-28 08:54:00', 's58');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (36, 62, '2024-01-17 08:35:00', 's13'), (37, 35, '2024-01-22 08:47:00', 's74'), (38, 60, '2024-01-28 08:09:00', 's85');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (39, 38, '2024-01-26 08:10:00', 's20');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (40, 50, '2024-01-10 08:38:00', 's6'), (41, 47, '2024-01-27 08:41:00', 's89'), (42, 22, '2024-01-17 08:05:00', 's50');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (43, 0, '2024-01-11 08:47:00', 's17');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (41, 's44', '2024-01-25', 's39', 56.98, 's25'), (42, 's43', '2024-01-09', 's99', 95.97, 's77');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (44, 23, '2024-01-03 08:25:00', 's51'), (45, 83, '2024-01-03 08:15:00', 's93');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (43, 's38', '2024-01-07', 's89', 34.14, 's98'), (44, 's21', '2024-01-28', 's28', 3.24, 's78');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (46, 61, '2024-01-02 08:55:00', 's30'), (47, 34, '2024-01-17 08:30:00', 's44'), (48, 78, '2024-01-01 08:30:00', 's57');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (45, 's16', '2024-01-18', 's84', 2.99, 's27'), (46, 's94', '2024-01-20', 's11', 67.73, 's64'), (47, 's95', '2024-01-21', 's80', 58.59, 's41');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (48, 's0', '2024-01-03', 's8', 89.6, 's72'), (49, 's37', '2024-01-09', 's87', 52.22, 's37');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (50, 's6', '2024-01-21', 's1', 80.13, 's82');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (51, 's0', '2024-01-23', 's22', 70.79, 's85');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (49, 26, '2024-01-15 08:14:00', 's84'), (50, 6, '2024-01-10 08:56:00', 's95');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (51, 37, '2024-01-24 08:32:00', 's69'), (52, 79, '2024-01-19 08:07:00', 's8'), (53, 48, '2024-01-13 08:25:00', 's95');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (1, '2024-01-06', 8.55, 47.68), (2, '2024-01-24', 12.49, 97.54), (3, '2024-01-14', 73.92, 66.64);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (4, '2024-01-22', 48.68, 48.28);\nINSERT INTO t2 (id, c0, c1, c2) VALUES (5, '2024-01-08', 91.23, 64.37);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (52, 's19', '2024-01-06', 's49', 34.69, 's91'), (53, 's13', '2024-01-26', 's58', 74.73, 's52');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (54, 57, '2024-01-02 08:30:00', 's38');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (54, 's36', '2024-01-21', 's16', 88.24, 's42'), (55, 's20', '2024-01-12', 's73', 40.66, 's73'), (56, 's60', '2024-01-23', 's36', 16.79, 's45');\nINSERT INTO t2 (id, c0, c1, c2) VALUES (6, '2024-01-02', 40.77, 46.04), (7, '2024-01-13', 86.29, 83.8), (8, '2024-01-28', 60.11, 6.68);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (55, 35, '2024-01-12 08:18:00', 's55'), (56, 62, '2024-01-09 08:51:00', 's88'), (57, 53, '2024-01-07 08:14:00', 's79');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (57, 's46', '2024-01-28', 's41', 59.61, 's51'), (58, 's14', '2024-01-12', 's14', 48.94, 's50'), (59, 's50', '2024-01-10', 's84', 6, 's3');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (58, 17, '2024-01-25 08:07:00', 's8');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) NOT NULL,\n  `c1` date DEFAULT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` double NOT NULL,\n  `c4` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c0_0` (`c0`),\n  KEY `idx_id_1` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` float NOT NULL,\n  `c2` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0017_019be1f4-445e-7501-9b50-412273f5ba50",
      "dir": "reports/case_0017_019be1f4-445e-7501-9b50-412273f5ba50",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:20+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "ddb13dc5fe9a6d8eab6bea875449a53592b86ff4",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0 WHERE (t1.c0 > 69.97)) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t1.c0 > 69.97) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0",
      "norec_predicate": "(t1.c0 > 69.97)",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0 WHERE (t1.c0 > 69.97)",
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT (CASE WHEN (t1.c0 > 69.97) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0"
      ],
      "plan_replayer": "reports/case_0017_019be1f4-445e-7501-9b50-412273f5ba50/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0 WHERE (t1.c0 > 69.97)) q",
        "norec_predicate": "(t1.c0 > 69.97)",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t1.c0 > 69.97) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0",
        "optimized_explain": "StreamAgg_30\t1.00\troot\t\tfuncs:count(1)->Column#21\n└─StreamAgg_36\t1.00\troot\t\tfuncs:count(1)->Column#23\n  └─HashJoin_51\t0.00\troot\t\tCARTESIAN inner join\n    ├─TableDual_72(Build)\t0.00\troot\t\trows:0\n    └─HashJoin_65(Probe)\t33333333.33\troot\t\tCARTESIAN right outer join, left side:TableReader_68, right cond:or(eq(shiro_fuzz_r16.t1.c1, 2024-01-15 08:51:00.000000), or(eq(shiro_fuzz_r16.t1.c1, 2024-01-10 08:04:00.000000), eq(shiro_fuzz_r16.t1.c1, 2024-01-03 08:53:00.000000)))\n      ├─TableReader_71(Build)\t3333.33\troot\tpartition:all\tdata:Selection_70\n      │ └─Selection_70\t3333.33\tcop[tikv]\t\tgt(shiro_fuzz_r16.t1.c0, 69.97)\n      │   └─TableFullScan_69\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─TableReader_68(Probe)\t10000.00\troot\t\tdata:TableFullScan_67\n        └─TableFullScan_67\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t1.c0 > 69.97) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0 WHERE (t1.c0 > 69.97)) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_20\t1.00\troot\t\tifnull(Column#19, 0)->Column#20\n└─StreamAgg_27\t1.00\troot\t\tfuncs:sum(Column#22)->Column#19\n  └─Projection_69\t0.00\troot\t\tcast(case(gt(shiro_fuzz_r16.t1.c0, 69.97), 1, 0), decimal(20,0) BINARY)->Column#22\n    └─HashJoin_44\t0.00\troot\t\tCARTESIAN inner join\n      ├─TableDual_64(Build)\t0.00\troot\t\trows:0\n      └─HashJoin_59(Probe)\t100000000.00\troot\t\tCARTESIAN right outer join, left side:TableReader_61, right cond:or(eq(shiro_fuzz_r16.t1.c1, 2024-01-15 08:51:00.000000), or(eq(shiro_fuzz_r16.t1.c1, 2024-01-10 08:04:00.000000), eq(shiro_fuzz_r16.t1.c1, 2024-01-03 08:53:00.000000)))\n        ├─TableReader_61(Build)\t10000.00\troot\t\tdata:TableFullScan_60\n        │ └─TableFullScan_60\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n        └─TableReader_63(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_62\n          └─TableFullScan_62\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0 WHERE (t1.c0 > 69.97);\nWITH cte_0 AS (SELECT t1.c2 AS c0, t1.c1 AS c1, t1.id AS c2 FROM t1 WHERE ((t1.c0 = 92.47) AND (t1.c0 < 51)) LIMIT 2) SELECT (CASE WHEN (t1.c0 > 69.97) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN t1 ON (t1.c1 IN ('2024-01-15 08:51:00', '2024-01-10 08:04:00', '2024-01-03 08:53:00')) CROSS JOIN cte_0;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t1\ts37\n2\t1\ts73\n3\t1\ts7\n4\t1\ts26\n5\t1\ts75\n6\t1\ts30\n7\t1\ts22\n8\t1\ts71\n9\t1\ts21\n10\t1\ts5\n11\t1\ts55\n12\t1\ts32\n13\t1\ts10\n14\t1\ts87\n15\t1\ts80\n16\t1\ts3\n17\t1\ts37\n18\t1\ts76\n19\t1\ts27\n20\t1\ts54\n21\t1\ts11\n22\t1\ts56\n23\t1\ts7\n24\t1\ts0\n25\t1\ts95\n26\t1\ts44\n27\t1\ts27\n28\t1\ts44\n29\t1\ts45\n30\t1\ts57\n31\t1\ts40\n32\t1\ts16\n33\t1\ts33\n34\t1\ts69\n35\t1\ts58\n36\t1\ts12\n37\t1\ts54\n38\t1\ts56\n39\t1\ts31\n40\t1\ts25\n41\t1\ts42\n42\t1\ts13\n43\t1\ts54\n44\t1\ts18\n\n-- t1\n2\t3.04\t2024-01-05 08:23:00\t2024-01-03 08:36:00\n6\t22.55\t2024-01-25 08:30:00\t2024-01-07 08:53:00\n10\t15.89\t2024-01-21 08:17:00\t2024-01-08 08:18:00\n14\t81.42\t2024-01-14 08:49:00\t2024-01-13 08:35:00\n18\t94.11\t2024-01-09 08:49:00\t2024-01-25 08:05:00\n22\t54.15\t2024-01-04 08:17:00\t2024-01-10 08:24:00\n26\t70.58\t2024-01-07 08:04:00\t2024-01-22 08:13:00\n30\t7.98\t2024-01-03 08:04:00\t2024-01-05 08:39:00\n34\t67.53\t2024-01-02 08:27:00\t2024-01-02 08:56:00\n38\t91.59\t2024-01-06 08:16:00\t2024-01-17 08:06:00\n42\t48.69\t2024-01-27 08:10:00\t2024-01-07 08:50:00\n46\t61.1\t2024-01-15 08:09:00\t2024-01-28 08:29:00\n50\t24.87\t2024-01-10 08:09:00\t2024-01-05 08:23:00\n4\t7.89\t2024-01-09 08:57:00\t2024-01-25 08:12:00\n8\t33.01\t2024-01-27 08:01:00\t2024-01-18 08:24:00\n12\t37.08\t2024-01-22 08:28:00\t2024-01-23 08:38:00\n16\t84.26\t2024-01-24 08:51:00\t2024-01-02 08:17:00\n20\t52.75\t2024-01-04 08:43:00\t2024-01-15 08:57:00\n24\t27.34\t2024-01-05 08:35:00\t2024-01-03 08:01:00\n28\t79.59\t2024-01-16 08:55:00\t2024-01-10 08:53:00\n32\t15.1\t2024-01-24 08:27:00\t2024-01-04 08:39:00\n36\t14.76\t2024-01-01 08:19:00\t2024-01-02 08:02:00\n40\t54.47\t2024-01-25 08:27:00\t2024-01-28 08:36:00\n44\t39.97\t2024-01-07 08:18:00\t2024-01-12 08:49:00\n48\t13.32\t2024-01-11 08:58:00\t2024-01-08 08:31:00\n1\t97.99\t2024-01-09 08:24:00\t2024-01-23 08:17:00\n5\t14.3\t2024-01-18 08:42:00\t2024-01-20 08:12:00\n9\t2.97\t2024-01-22 08:19:00\t2024-01-19 08:04:00\n13\t22.46\t2024-01-06 08:09:00\t2024-01-06 08:11:00\n17\t66.54\t2024-01-18 08:11:00\t2024-01-24 08:15:00\n21\t99.28\t2024-01-12 08:00:00\t2024-01-14 08:42:00\n25\t20.74\t2024-01-26 08:03:00\t2024-01-28 08:32:00\n29\t14.53\t2024-01-21 08:21:00\t2024-01-25 08:52:00\n33\t35.24\t2024-01-02 08:38:00\t2024-01-14 08:51:00\n37\t0.32\t2024-01-24 08:52:00\t2024-01-01 08:50:00\n41\t94.28\t2024-01-09 08:23:00\t2024-01-12 08:25:00\n45\t36.27\t2024-01-14 08:15:00\t2024-01-06 08:48:00\n49\t28.31\t2024-01-21 08:33:00\t2024-01-23 08:35:00\n3\t39.19\t2024-01-16 08:17:00\t2024-01-01 08:58:00\n7\t97.8\t2024-01-11 08:45:00\t2024-01-11 08:21:00\n11\t4.65\t2024-01-11 08:52:00\t2024-01-17 08:45:00\n15\t81.38\t2024-01-27 08:39:00\t2024-01-21 08:07:00\n19\t35.94\t2024-01-01 08:17:00\t2024-01-19 08:10:00\n23\t88.63\t2024-01-13 08:22:00\t2024-01-01 08:48:00\n27\t85.46\t2024-01-01 08:08:00\t2024-01-26 08:26:00\n31\t9.61\t2024-01-28 08:29:00\t2024-01-03 08:49:00\n35\t93.28\t2024-01-28 08:43:00\t2024-01-05 08:08:00\n39\t48.01\t2024-01-09 08:22:00\t2024-01-16 08:15:00\n43\t45.68\t2024-01-14 08:41:00\t2024-01-27 08:35:00\n47\t68.34\t2024-01-13 08:29:00\t2024-01-17 08:32:00\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1) VALUES (1, 1, 's37'), (2, 0, 's73');\nINSERT INTO t0 (id, c0, c1) VALUES (3, 0, 's7');\nINSERT INTO t0 (id, c0, c1) VALUES (4, 1, 's26'), (5, 1, 's75'), (6, 0, 's30');\nINSERT INTO t0 (id, c0, c1) VALUES (7, 0, 's22'), (8, 0, 's71'), (9, 1, 's21');\nINSERT INTO t0 (id, c0, c1) VALUES (10, 1, 's5');\nINSERT INTO t0 (id, c0, c1) VALUES (11, 0, 's55');\nINSERT INTO t0 (id, c0, c1) VALUES (12, 1, 's32'), (13, 0, 's10');\nINSERT INTO t0 (id, c0, c1) VALUES (14, 1, 's87'), (15, 0, 's80'), (16, 1, 's3');\nINSERT INTO t0 (id, c0, c1) VALUES (17, 1, 's37'), (18, 0, 's76');\nINSERT INTO t0 (id, c0, c1) VALUES (19, 1, 's27'), (20, 1, 's54'), (21, 0, 's11');\nINSERT INTO t0 (id, c0, c1) VALUES (22, 1, 's56'), (23, 0, 's7');\nINSERT INTO t0 (id, c0, c1) VALUES (24, 1, 's0'), (25, 1, 's95');\nINSERT INTO t0 (id, c0, c1) VALUES (26, 0, 's44'), (27, 0, 's27'), (28, 0, 's44');\nINSERT INTO t0 (id, c0, c1) VALUES (29, 1, 's45'), (30, 1, 's57');\nINSERT INTO t0 (id, c0, c1) VALUES (31, 0, 's40'), (32, 1, 's16');\nINSERT INTO t0 (id, c0, c1) VALUES (33, 0, 's33'), (34, 0, 's69');\nINSERT INTO t0 (id, c0, c1) VALUES (35, 0, 's58'), (36, 0, 's12'), (37, 0, 's54');\nINSERT INTO t0 (id, c0, c1) VALUES (38, 1, 's56');\nINSERT INTO t0 (id, c0, c1) VALUES (39, 1, 's31'), (40, 1, 's25'), (41, 1, 's42');\nINSERT INTO t0 (id, c0, c1) VALUES (42, 0, 's13'), (43, 1, 's54');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 97.99, '2024-01-09 08:24:00', '2024-01-23 08:17:00'), (2, 3.04, '2024-01-05 08:23:00', '2024-01-03 08:36:00'), (3, 39.19, '2024-01-16 08:17:00', '2024-01-01 08:58:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (4, 7.89, '2024-01-09 08:57:00', '2024-01-25 08:12:00'), (5, 14.3, '2024-01-18 08:42:00', '2024-01-20 08:12:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (6, 22.55, '2024-01-25 08:30:00', '2024-01-07 08:53:00'), (7, 97.8, '2024-01-11 08:45:00', '2024-01-11 08:21:00'), (8, 33.01, '2024-01-27 08:01:00', '2024-01-18 08:24:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (9, 2.97, '2024-01-22 08:19:00', '2024-01-19 08:04:00'), (10, 15.89, '2024-01-21 08:17:00', '2024-01-08 08:18:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (11, 4.65, '2024-01-11 08:52:00', '2024-01-17 08:45:00'), (12, 37.08, '2024-01-22 08:28:00', '2024-01-23 08:38:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (13, 22.46, '2024-01-06 08:09:00', '2024-01-06 08:11:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (14, 81.42, '2024-01-14 08:49:00', '2024-01-13 08:35:00'), (15, 81.38, '2024-01-27 08:39:00', '2024-01-21 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (16, 84.26, '2024-01-24 08:51:00', '2024-01-02 08:17:00'), (17, 66.54, '2024-01-18 08:11:00', '2024-01-24 08:15:00'), (18, 94.11, '2024-01-09 08:49:00', '2024-01-25 08:05:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (19, 35.94, '2024-01-01 08:17:00', '2024-01-19 08:10:00'), (20, 52.75, '2024-01-04 08:43:00', '2024-01-15 08:57:00'), (21, 99.28, '2024-01-12 08:00:00', '2024-01-14 08:42:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (22, 54.15, '2024-01-04 08:17:00', '2024-01-10 08:24:00'), (23, 88.63, '2024-01-13 08:22:00', '2024-01-01 08:48:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (24, 27.34, '2024-01-05 08:35:00', '2024-01-03 08:01:00'), (25, 20.74, '2024-01-26 08:03:00', '2024-01-28 08:32:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (26, 70.58, '2024-01-07 08:04:00', '2024-01-22 08:13:00'), (27, 85.46, '2024-01-01 08:08:00', '2024-01-26 08:26:00'), (28, 79.59, '2024-01-16 08:55:00', '2024-01-10 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (29, 14.53, '2024-01-21 08:21:00', '2024-01-25 08:52:00'), (30, 7.98, '2024-01-03 08:04:00', '2024-01-05 08:39:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (31, 9.61, '2024-01-28 08:29:00', '2024-01-03 08:49:00'), (32, 15.1, '2024-01-24 08:27:00', '2024-01-04 08:39:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (33, 35.24, '2024-01-02 08:38:00', '2024-01-14 08:51:00'), (34, 67.53, '2024-01-02 08:27:00', '2024-01-02 08:56:00'), (35, 93.28, '2024-01-28 08:43:00', '2024-01-05 08:08:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (36, 14.76, '2024-01-01 08:19:00', '2024-01-02 08:02:00'), (37, 0.32, '2024-01-24 08:52:00', '2024-01-01 08:50:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (38, 91.59, '2024-01-06 08:16:00', '2024-01-17 08:06:00'), (39, 48.01, '2024-01-09 08:22:00', '2024-01-16 08:15:00'), (40, 54.47, '2024-01-25 08:27:00', '2024-01-28 08:36:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (41, 94.28, '2024-01-09 08:23:00', '2024-01-12 08:25:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (42, 48.69, '2024-01-27 08:10:00', '2024-01-07 08:50:00'), (43, 45.68, '2024-01-14 08:41:00', '2024-01-27 08:35:00'), (44, 39.97, '2024-01-07 08:18:00', '2024-01-12 08:49:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (45, 36.27, '2024-01-14 08:15:00', '2024-01-06 08:48:00'), (46, 61.1, '2024-01-15 08:09:00', '2024-01-28 08:29:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (47, 68.34, '2024-01-13 08:29:00', '2024-01-17 08:32:00'), (48, 13.32, '2024-01-11 08:58:00', '2024-01-08 08:31:00');\nINSERT INTO t0 (id, c0, c1) VALUES (44, 1, 's18');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (49, 28.31, '2024-01-21 08:33:00', '2024-01-23 08:35:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (50, 24.87, '2024-01-10 08:09:00', '2024-01-05 08:23:00'), (51, 50.52, '2024-01-24 08:22:00', '2024-01-09 08:32:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` timestamp NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0016_019be1f4-3298-74ed-8073-53772273f166",
      "dir": "reports/case_0016_019be1f4-3298-74ed-8073-53772273f166",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:16+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "f4998483a3c35c0be44edb135ec897e5b71d28f2",
      "plan_signature_format": "plain",
      "expected": "optimized count=16",
      "actual": "unoptimized count=176",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT DISTINCT (t0.c2 + t1.id) AS c0, LENGTH(t0.id) AS c1 FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1) WHERE (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) ORDER BY LENGTH(t0.id), (t0.c2 + t1.id) DESC LIMIT 16) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1)",
      "norec_predicate": "(NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63)))",
      "sql": [
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT DISTINCT (t0.c2 + t1.id) AS c0, LENGTH(t0.id) AS c1 FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1) WHERE (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) ORDER BY LENGTH(t0.id), (t0.c2 + t1.id) DESC LIMIT 16",
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT (CASE WHEN (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1)"
      ],
      "plan_replayer": "reports/case_0016_019be1f4-3298-74ed-8073-53772273f166/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT DISTINCT (t0.c2 + t1.id) AS c0, LENGTH(t0.id) AS c1 FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1) WHERE (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) ORDER BY LENGTH(t0.id), (t0.c2 + t1.id) DESC LIMIT 16) q",
        "norec_predicate": "(NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63)))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1)",
        "optimized_explain": "StreamAgg_36\t1.00\troot\t\tfuncs:count(1)->Column#31\n└─Projection_112\t16.00\troot\t\tshiro_fuzz_r15.t0.c2\n  └─TopN_108\t16.00\troot\t\tColumn#39, Column#40:desc, offset:0, count:16\n    └─Projection_113\t8000.00\troot\t\tshiro_fuzz_r15.t0.id, shiro_fuzz_r15.t0.c2, shiro_fuzz_r15.t1.id, length(cast(shiro_fuzz_r15.t0.id, var_string(20)))->Column#39, plus(shiro_fuzz_r15.t0.c2, cast(shiro_fuzz_r15.t1.id, double BINARY))->Column#40\n      └─HashAgg_43\t8000.00\troot\t\tgroup by:Column#37, Column#38, funcs:firstrow(Column#34)->shiro_fuzz_r15.t0.id, funcs:firstrow(Column#35)->shiro_fuzz_r15.t0.c2, funcs:firstrow(Column#36)->shiro_fuzz_r15.t1.id\n        └─Projection_111\t24000.00\troot\t\tshiro_fuzz_r15.t0.id->Column#34, shiro_fuzz_r15.t0.c2->Column#35, shiro_fuzz_r15.t1.id->Column#36, plus(shiro_fuzz_r15.t0.c2, cast(shiro_fuzz_r15.t1.id, double BINARY))->Column#37, length(cast(shiro_fuzz_r15.t0.id, var_string(20)))->Column#38\n          └─HashJoin_55\t24000.00\troot\t\tleft outer join, left side:Selection_59, equal:[eq(shiro_fuzz_r15.t0.id, shiro_fuzz_r15.t1.c1)]\n            ├─TableReader_102(Build)\t10000.00\troot\t\tdata:TableFullScan_101\n            │ └─TableFullScan_101\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n            └─Selection_59(Probe)\t19200.00\troot\t\tnot(in(shiro_fuzz_r15.t0.c3, 52, 14, 11))\n              └─HashJoin_68\t24000.00\troot\t\tCARTESIAN right outer join, left side:TableReader_71, right cond:not(eq(shiro_fuzz_r15.t0.c0, 0))\n                ├─Selection_72(Build)\t2.40\troot\t\tne(shiro_fuzz_r15.t0.c0, 0)\n                │ └─Limit_74\t3.00\troot\t\toffset:0, count:3\n                │   └─TableReader_81\t3.00\troot\t\tdata:Limit_80\n                │     └─Limit_80\t3.00\tcop[tikv]\t\toffset:0, count:3\n                │       └─Selection_79\t3.00\tcop[tikv]\t\tle(shiro_fuzz_r15.t0.c3, 38), ne(shiro_fuzz_r15.t0.c0, 68), or(nulleq(shiro_fuzz_r15.t0.c1, \"s79\"), ge(shiro_fuzz_r15.t0.c1, \"s2\"))\n                │         └─TableFullScan_78\t40.68\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n                └─TableReader_71(Probe)\t10000.00\troot\t\tdata:TableFullScan_70\n                  └─TableFullScan_70\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT DISTINCT (t0.c2 + t1.id) AS c0, LENGTH(t0.id) AS c1 FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1) WHERE (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) ORDER BY LENGTH(t0.id), (t0.c2 + t1.id) DESC LIMIT 16) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_20\t1.00\troot\t\tifnull(Column#27, 0)->Column#28\n└─HashAgg_24\t1.00\troot\t\tfuncs:sum(Column#30)->Column#27\n  └─Projection_97\t37500.00\troot\t\tcast(case(and(not(eq(shiro_fuzz_r15.t0.c0, 0)), and(not(in(shiro_fuzz_r15.t0.c3, 52, 14, 11)), 1)), 1, 0), decimal(20,0) BINARY)->Column#30\n    └─HashJoin_37\t37500.00\troot\t\tleft outer join, left side:HashJoin_47, equal:[eq(shiro_fuzz_r15.t0.id, shiro_fuzz_r15.t1.c1)]\n      ├─TableReader_81(Build)\t10000.00\troot\t\tdata:TableFullScan_80\n      │ └─TableFullScan_80\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─HashJoin_47(Probe)\t30000.00\troot\t\tCARTESIAN right outer join, left side:IndexReader_52, right cond:not(eq(shiro_fuzz_r15.t0.c0, 0))\n        ├─Limit_53(Build)\t3.00\troot\t\toffset:0, count:3\n        │ └─TableReader_60\t3.00\troot\t\tdata:Limit_59\n        │   └─Limit_59\t3.00\tcop[tikv]\t\toffset:0, count:3\n        │     └─Selection_58\t3.00\tcop[tikv]\t\tle(shiro_fuzz_r15.t0.c3, 38), ne(shiro_fuzz_r15.t0.c0, 68), or(nulleq(shiro_fuzz_r15.t0.c1, \"s79\"), ge(shiro_fuzz_r15.t0.c1, \"s2\"))\n        │       └─TableFullScan_57\t40.68\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n        └─IndexReader_52(Probe)\t10000.00\troot\t\tindex:IndexFullScan_51\n          └─IndexFullScan_51\t10000.00\tcop[tikv]\ttable:t0, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT DISTINCT (t0.c2 + t1.id) AS c0, LENGTH(t0.id) AS c1 FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1) WHERE (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) ORDER BY LENGTH(t0.id), (t0.c2 + t1.id) DESC LIMIT 16;\nWITH cte_0 AS (SELECT t0.id AS c0, t0.c0 AS c1, t0.c3 AS c2 FROM t0 WHERE (((t0.c3 <= 38) AND (t0.c0 != 68)) AND ((t0.c1 <=> 's79') OR (t0.c1 >= 's2'))) LIMIT 3) SELECT (CASE WHEN (NOT (cte_0.c1 IN ('s76')) AND (NOT (t0.c3 IN (52, 14, 11)) AND (91.07 > 44.63))) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN cte_0 ON NOT (cte_0.c1 IN ('s44')) LEFT JOIN t1 ON (cte_0.c0 = t1.c1);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t62\ts6\t67.61\t16\t17.3\n2\t24\ts46\t81.49\t10\t44.87\n3\t19\ts46\t19.28\t64\t13.82\n4\t84\ts46\t72.9\t34\t77.36\n5\t34\ts46\t64.34\t1\t97.86\n6\t57\ts46\t16.9\t32\t82.13\n7\t12\ts46\t16.33\t65\t33.42\n8\t80\ts46\t61.58\t94\t79.83\n9\t93\ts46\t27.85\t39\t9.88\n10\t77\ts46\t69.84\t87\t73.76\n11\t49\ts46\t41.29\t50\t60.19\n12\t98\ts46\t96.18\t34\t86.88\n13\t57\ts46\t6.87\t56\t24.69\n14\t15\ts46\t43.33\t13\t33.94\n15\t86\ts46\t11.7\t4\t58.24\n16\t20\ts46\t3.77\t44\t1.18\n17\t43\ts46\t2.76\t28\t27.96\n18\t53\ts46\t22.5\t16\t38.22\n19\t65\ts46\t78.18\t2\t51.15\n20\t6\ts46\t8.36\t14\t2.09\n21\t22\ts46\t46.53\t21\t3.44\n22\t50\ts46\t86.7\t46\t8.67\n23\t84\ts46\t33.92\t51\t20.69\n24\t50\ts46\t67.56\t48\t59.2\n25\t41\ts46\t42.33\t26\t62.29\n26\t44\ts46\t70.68\t91\t92.33\n27\t72\ts46\t24.41\t33\t35.16\n28\t41\ts46\t11.67\t84\t95.87\n29\t99\ts46\t87.31\t49\t30.26\n30\t41\ts46\t54.64\t22\t80.58\n31\t76\ts46\t62.9\t73\t62.37\n32\t15\ts46\t19.06\t71\t55.06\n33\t56\ts46\t95.41\t10\t14.58\n34\t98\ts46\t29.99\t46\t49.47\n35\t95\ts46\t21.75\t30\t47.21\n36\t56\ts46\t86.65\t2\t97.45\n37\t90\ts46\t85.97\t91\t45.58\n38\t26\ts46\t6.76\t98\t82.11\n39\t86\ts46\t0.9\t27\t59.02\n40\t41\ts46\t1.15\t38\t81.72\n41\t39\ts46\t81.7\t53\t95.69\n42\t91\ts46\t70.97\t29\t26.41\n43\t25\ts46\t83.97\t22\t23.58\n44\t18\ts46\t30.87\t85\t72.17\n45\t10\ts78\t94.51\t94\t52.67\n\n-- t1\n1\t40\t94\t8\t2024-01-20\n2\t62\t47\t4\t2024-01-08\n3\t29\t32\t39\t2024-01-11\n4\t63\t87\t75\t2024-01-21\n5\t63\t98\t45\t2024-01-11\n6\t73\t67\t3\t2024-01-17\n7\t56\t12\t30\t2024-01-13\n8\t98\t0\t56\t2024-01-26\n9\t29\t98\t70\t2024-01-02\n10\t71\t33\t75\t2024-01-18\n12\t17\t73\t83\t2024-01-24\n13\t75\t26\t74\t2024-01-03\n14\t72\t50\t78\t2024-01-17\n15\t48\t41\t68\t2024-01-28\n16\t31\t75\t65\t2024-01-08\n17\t31\t5\t14\t2024-01-23\n18\t25\t64\t34\t2024-01-07\n19\t4\t12\t33\t2024-01-13\n21\t44\t33\t36\t2024-01-20\n22\t11\t54\t90\t2024-01-15\n23\t38\t45\t31\t2024-01-28\n24\t34\t61\t6\t2024-01-21\n25\t3\t81\t44\t2024-01-28\n26\t7\t30\t5\t2024-01-09\n27\t84\t22\t50\t2024-01-21\n28\t29\t91\t45\t2024-01-07\n29\t98\t63\t13\t2024-01-11\n30\t85\t2\t63\t2024-01-06\n31\t68\t48\t53\t2024-01-05\n32\t68\t73\t77\t2024-01-17\n33\t98\t55\t76\t2024-01-13\n34\t35\t8\t14\t2024-01-18\n35\t86\t72\t7\t2024-01-17\n36\t71\t79\t97\t2024-01-06\n37\t54\t17\t51\t2024-01-05\n38\t45\t2\t42\t2024-01-08\n39\t42\t64\t48\t2024-01-10\n40\t43\t59\t9\t2024-01-21\n41\t71\t29\t56\t2024-01-08\n42\t71\t83\t76\t2024-01-03\n43\t91\t5\t49\t2024-01-08\n44\t3\t23\t7\t2024-01-13\n45\t39\t19\t76\t2024-01-22\n46\t33\t96\t53\t2024-01-25\n47\t2\t37\t0\t2024-01-03\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (1, 62, 's91', 67.61, 16, 17.3);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (2, 24, 's65', 81.49, 10, 44.87), (3, 19, 's53', 19.28, 64, 13.82);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (4, 84, 's3', 72.9, 34, 77.36);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (5, 34, 's89', 64.34, 1, 97.86), (6, 57, 's55', 16.9, 32, 82.13);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (7, 12, 's72', 16.33, 65, 33.42);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (8, 80, 's2', 61.58, 94, 79.83), (9, 93, 's27', 27.85, 39, 9.88);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (10, 77, 's39', 69.84, 87, 73.76), (11, 49, 's49', 41.29, 50, 60.19), (12, 98, 's98', 96.18, 34, 86.88);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (13, 57, 's74', 6.87, 56, 24.69), (14, 15, 's99', 43.33, 13, 33.94), (15, 86, 's82', 11.7, 4, 58.24);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (16, 20, 's1', 3.77, 44, 1.18), (17, 43, 's51', 2.76, 28, 27.96);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (18, 53, 's49', 22.5, 16, 38.22), (19, 65, 's59', 78.18, 2, 51.15), (20, 6, 's72', 8.36, 14, 2.09);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (21, 22, 's75', 46.53, 21, 3.44), (22, 50, 's23', 86.7, 46, 8.67);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (23, 84, 's93', 33.92, 51, 20.69), (24, 50, 's23', 67.56, 48, 59.2);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (25, 41, 's22', 42.33, 26, 62.29), (26, 44, 's68', 70.68, 91, 92.33);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (27, 72, 's34', 24.41, 33, 35.16), (28, 41, 's78', 11.67, 84, 95.87), (29, 99, 's82', 87.31, 49, 30.26);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (30, 41, 's65', 54.64, 22, 80.58), (31, 76, 's90', 62.9, 73, 62.37), (32, 15, 's94', 19.06, 71, 55.06);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (33, 56, 's49', 95.41, 10, 14.58), (34, 98, 's33', 29.99, 46, 49.47), (35, 95, 's94', 21.75, 30, 47.21);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (36, 56, 's77', 86.65, 2, 97.45), (37, 90, 's37', 85.97, 91, 45.58);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (38, 26, 's85', 6.76, 98, 82.11), (39, 86, 's72', 0.9, 27, 59.02);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (40, 41, 's54', 1.15, 38, 81.72), (41, 39, 's30', 81.7, 53, 95.69);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (42, 91, 's16', 70.97, 29, 26.41), (43, 25, 's78', 83.97, 22, 23.58), (44, 18, 's55', 30.87, 85, 72.17);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (1, 40, 94, 8, '2024-01-20');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (2, 62, 47, 4, '2024-01-08'), (3, 29, 32, 39, '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (4, 63, 87, 75, '2024-01-21');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (5, 63, 98, 45, '2024-01-11'), (6, 73, 67, 3, '2024-01-17'), (7, 56, 12, 30, '2024-01-13');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (8, 98, 0, 56, '2024-01-26'), (9, 29, 98, 70, '2024-01-02'), (10, 71, 33, 75, '2024-01-18');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (11, 80, 54, 81, '2024-01-01'), (12, 17, 73, 82, '2024-01-24'), (13, 75, 26, 74, '2024-01-03');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (14, 72, 50, 78, '2024-01-17');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (15, 48, 41, 68, '2024-01-28');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (16, 31, 75, 65, '2024-01-08'), (17, 31, 5, 14, '2024-01-23'), (18, 25, 64, 34, '2024-01-07');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (19, 4, 12, 33, '2024-01-13'), (20, 54, 44, 50, '2024-01-09'), (21, 44, 33, 36, '2024-01-20');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (22, 11, 54, 90, '2024-01-15'), (23, 38, 45, 31, '2024-01-28');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (24, 34, 61, 6, '2024-01-21');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (25, 3, 81, 44, '2024-01-28');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (26, 7, 30, 5, '2024-01-09');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (27, 84, 22, 50, '2024-01-21');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (28, 29, 91, 45, '2024-01-07'), (29, 98, 63, 13, '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (30, 85, 2, 63, '2024-01-06'), (31, 68, 48, 53, '2024-01-05'), (32, 68, 73, 77, '2024-01-17');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (33, 98, 55, 76, '2024-01-13'), (34, 35, 8, 14, '2024-01-18');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (35, 86, 72, 7, '2024-01-17');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (36, 71, 79, 97, '2024-01-06'), (37, 54, 17, 51, '2024-01-05'), (38, 45, 2, 42, '2024-01-08');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (39, 42, 64, 48, '2024-01-10'), (40, 43, 59, 9, '2024-01-21');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (41, 71, 29, 56, '2024-01-08');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (42, 71, 83, 76, '2024-01-03'), (43, 91, 5, 49, '2024-01-08');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (45, 10, 's78', 94.51, 94, 52.67);\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (44, 3, 23, 7, '2024-01-13'), (45, 39, 19, 76, '2024-01-22');\nINSERT INTO t1 (id, c0, c1, c2, c3) VALUES (46, 33, 96, 53, '2024-01-25'), (47, 2, 37, 0, '2024-01-03');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` float NOT NULL,\n  `c3` bigint NOT NULL,\n  `c4` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_id_0` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` int NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0015_019be1f4-1b42-7480-9610-7320d7249f0b",
      "dir": "reports/case_0015_019be1f4-1b42-7480-9610-7320d7249f0b",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:10+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "1a5a279def5b3c68130ff2c5a113caa9e6bc01e8",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT COUNT(1) AS cnt, SUM(t2.c4) AS sum1 FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00') WHERE ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) ORDER BY t1.c2) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00')",
      "norec_predicate": "((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5))))",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT COUNT(1) AS cnt, SUM(t2.c4) AS sum1 FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00') WHERE ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) ORDER BY t1.c2",
        "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT (CASE WHEN ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00')"
      ],
      "plan_replayer": "reports/case_0015_019be1f4-1b42-7480-9610-7320d7249f0b/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT COUNT(1) AS cnt, SUM(t2.c4) AS sum1 FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00') WHERE ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) ORDER BY t1.c2) q",
        "norec_predicate": "((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5))))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00')",
        "optimized_explain": "StreamAgg_37\t1.00\troot\t\tfuncs:count(1)->Column#51\n└─StreamAgg_43\t1.00\troot\t\tfuncs:count(1)->Column#53\n  └─TableDual_49\t0.00\troot\t\trows:0\nScalarSubQuery_23\tN/A\troot\t\tOutput: \n└─TableDual_22\t1.00\troot\t\trows:1\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00')",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT COUNT(1) AS cnt, SUM(t2.c4) AS sum1 FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00') WHERE ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) ORDER BY t1.c2) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_29\t1.00\troot\t\tifnull(Column#55, 0)->Column#56\n└─StreamAgg_36\t1.00\troot\t\tfuncs:sum(Column#58)->Column#55\n  └─Projection_75\t4.00\troot\t\tcast(case(or(le(shiro_fuzz_r14.t0.c1, 67.04), and(and(0, ge(shiro_fuzz_r14.t2.c0, 80.87)), 1)), 1, 0), decimal(20,0) BINARY)->Column#58\n    └─HashJoin_70\t4.00\troot\t\tCARTESIAN right outer join, left side:TableDual_73\n      ├─TableDual_73(Build)\t0.00\troot\t\trows:0\n      └─Limit_48(Probe)\t4.00\troot\t\toffset:0, count:4\n        └─TableReader_55\t4.00\troot\t\tdata:Limit_54\n          └─Limit_54\t4.00\tcop[tikv]\t\toffset:0, count:4\n            └─Selection_53\t4.00\tcop[tikv]\t\tor(in(shiro_fuzz_r14.t1.c2, 2024-01-22 00:00:00.000000, 2024-01-09 00:00:00.000000, 2024-01-11 00:00:00.000000), in(shiro_fuzz_r14.t1.c3, 1))\n              └─TableFullScan_52\t1000.75\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\nScalarSubQuery_24\tN/A\troot\t\tOutput: \n└─TableDual_23\t1.00\troot\t\trows:1\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT COUNT(1) AS cnt, SUM(t2.c4) AS sum1 FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00') WHERE ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) ORDER BY t1.c2;\nWITH cte_0 AS (SELECT t1.c3 AS c0, t1.c2 AS c1, t1.c0 AS c2 FROM t1 WHERE ((t1.c2 IN ('2024-01-22', '2024-01-09', '2024-01-11')) OR (t1.c3 IN (1, 1, 1))) LIMIT 4) SELECT (CASE WHEN ((t0.c1 <= 67.04) OR (((73 <=> 21) AND (t2.c0 >= 80.87)) AND EXISTS (SELECT COUNT(1) AS cnt FROM t2 WHERE (t2.c5 = t2.c5)))) THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN t2 USING (id) CROSS JOIN t0 RIGHT JOIN cte_0 ON ('2024-01-17 08:09:00' < '2024-01-08 12:54:00');\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t2024-01-14 08:55:00\t56.51\t87.4\t21.24\t82.75\t79.62\t81\n2\t2024-01-15 08:31:00\t7.30\t4.36\t82.55\t27.39\t67.68\t37\n3\t2024-01-11 08:46:00\t69.72\t27.91\t72.76\t68.15\t98.61\t49\n4\t2024-01-17 08:54:00\t33.67\t70.58\t36.62\t31.98\t71.85\t63\n5\t2024-01-25 08:28:00\t71.20\t40.9\t14.60\t68.02\t73.06\t83\n6\t2024-01-10 08:18:00\t63.20\t54.11\t83.19\t9.98\t79.1\t61\n7\t2024-01-08 08:01:00\t48.18\t73.25\t21.73\t65.87\t34.12\t39\n8\t2024-01-05 08:02:00\t26.40\t80.28\t80.48\t27.66\t68.08\t4\n9\t2024-01-10 08:16:00\t47.90\t2.42\t42.56\t20.06\t38.6\t22\n10\t2024-01-06 08:27:00\t91.19\t12.65\t32.37\t14.99\t47.29\t8\n11\t2024-01-15 08:27:00\t63.11\t24.09\t8.63\t4.83\t36.87\t19\n12\t2024-01-25 08:21:00\t90.24\t14.05\t7.29\t54.18\t58.46\t77\n13\t2024-01-02 08:13:00\t64.67\t85.47\t4.65\t87.98\t83.88\t68\n14\t2024-01-12 08:17:00\t48.07\t83.1\t27.05\t4.93\t5.59\t93\n15\t2024-01-16 08:21:00\t52.08\t80.81\t50.26\t91.22\t95.13\t82\n16\t2024-01-06 08:34:00\t29.71\t65.73\t77.79\t97.63\t84.08\t85\n17\t2024-01-10 08:49:00\t12.39\t56.15\t22.27\t39.94\t83.5\t63\n18\t2024-01-05 08:02:00\t80.26\t91.92\t3.14\t75.78\t62.79\t48\n19\t2024-01-28 08:01:00\t5.11\t10.56\t43.27\t19.08\t51.07\t10\n20\t2024-01-22 08:58:00\t46.47\t75.16\t65.31\t38.77\t26.9\t53\n21\t2024-01-11 08:09:00\t70.65\t9.1\t43.84\t88.86\t83.9\t54\n22\t2024-01-11 08:25:00\t30.30\t44.58\t70.20\t15.24\t84.44\t85\n23\t2024-01-07 08:52:00\t88.01\t88.88\t93.57\t16.57\t19.3\t54\n24\t2024-01-12 08:26:00\t52.21\t6.11\t17.66\t10.26\t68.61\t37\n25\t2024-01-02 08:16:00\t14.35\t22.35\t14.42\t94.25\t34.9\t3\n26\t2024-01-13 08:30:00\t18.61\t87.15\t19.51\t93.45\t52.41\t50\n27\t2024-01-19 08:50:00\t48.93\t23.97\t61.72\t7.30\t21.03\t29\n28\t2024-01-26 08:30:00\t90.97\t0.64\t29.59\t7.75\t21.3\t7\n29\t2024-01-09 08:52:00\t75.65\t1.08\t30.95\t6.02\t15.2\t39\n30\t2024-01-14 08:37:00\t15.90\t24.82\t28.12\t67.61\t93.1\t18\n31\t2024-01-24 08:53:00\t5.14\t85.31\t89.27\t65.77\t22.36\t70\n32\t2024-01-15 08:04:00\t63.01\t12.04\t82.74\t2.73\t23.56\t32\n33\t2024-01-13 08:14:00\t69.05\t96.26\t82.31\t81.76\t85.54\t77\n34\t2024-01-23 08:27:00\t15.59\t93.64\t37.87\t34.24\t12.03\t75\n35\t2024-01-03 08:03:00\t37.91\t36.53\t67.52\t41.49\t48.92\t16\n36\t2024-01-15 08:19:00\t57.70\t88.29\t54.90\t87.62\t38.39\t51\n37\t2024-01-18 08:14:00\t47.23\t75.07\t19.14\t94.12\t6.92\t68\n38\t2024-01-08 08:12:00\t47.41\t79.71\t98.54\t10.28\t66.71\t7\n39\t2024-01-11 08:52:00\t56.45\t2.28\t69.22\t38.93\t17.84\t45\n40\t2024-01-15 08:17:00\t22.48\t7.9\t66.33\t20.07\t86.68\t7\n41\t2024-01-27 08:43:00\t62.79\t43.86\t18.80\t27.41\t7.9\t91\n42\t2024-01-09 08:29:00\t57.64\t50.92\t3.22\t47.26\t69.49\t58\n43\t2024-01-08 08:49:00\t70.13\t6.07\t95.68\t21.02\t28.55\t53\n44\t2024-01-24 08:55:00\t61.67\t57.67\t22.06\t46.73\t73.09\t15\n45\t2024-01-07 08:05:00\t59.22\t97.37\t59.82\t33.03\t65.29\t8\n\n-- t1\n1\t25.08\t2024-01-06\t2024-01-02\t0\t2024-01-09 12:52:00\n2\t64.90\t2024-01-03\t2024-01-12\t1\t2024-01-17 12:30:00\n3\t91.02\t2024-01-18\t2024-01-02\t0\t2024-01-01 12:06:00\n4\t89.98\t2024-01-07\t2024-01-11\t1\t2024-01-21 12:58:00\n5\t7.91\t2024-01-05\t2024-01-15\t0\t2024-01-10 12:41:00\n6\t85.53\t2024-01-01\t2024-01-27\t0\t2024-01-13 12:14:00\n8\t51.58\t2024-01-25\t2024-01-14\t0\t2024-01-14 12:35:00\n9\t66.06\t2024-01-12\t2024-01-10\t1\t2024-01-27 12:10:00\n10\t59.99\t2024-01-04\t2024-01-21\t1\t2024-01-02 12:17:00\n11\t76.22\t2024-01-12\t2024-01-09\t0\t2024-01-11 12:51:00\n12\t22.47\t2024-01-15\t2024-01-22\t1\t2024-01-04 12:22:00\n14\t68.65\t2024-01-11\t2024-01-17\t1\t2024-01-17 12:20:00\n15\t99.27\t2024-01-26\t2024-01-17\t1\t2024-01-03 12:49:00\n16\t79.91\t2024-01-28\t2024-01-21\t1\t2024-01-23 12:11:00\n17\t17.96\t2024-01-22\t2024-01-26\t1\t2024-01-23 12:41:00\n18\t98.27\t2024-01-16\t2024-01-10\t0\t2024-01-15 12:43:00\n19\t91.10\t2024-01-16\t2024-01-28\t1\t2024-01-23 12:36:00\n20\t67.61\t2024-01-05\t2024-01-27\t0\t2024-01-09 12:21:00\n21\t26.73\t2024-01-22\t2024-01-14\t0\t2024-01-10 12:10:00\n22\t56.43\t2024-01-25\t2024-01-04\t0\t2024-01-06 12:42:00\n23\t72.72\t2024-01-26\t2024-01-19\t1\t2024-01-28 12:58:00\n24\t99.72\t2024-01-11\t2024-01-16\t0\t2024-01-21 12:44:00\n25\t69.47\t2024-01-15\t2024-01-12\t0\t2024-01-12 12:34:00\n26\t72.88\t2024-01-26\t2024-01-05\t0\t2024-01-28 12:38:00\n27\t40.62\t2024-01-08\t2024-01-12\t0\t2024-01-12 12:08:00\n28\t63.62\t2024-01-03\t2024-01-12\t0\t2024-01-14 12:03:00\n29\t62.90\t2024-01-06\t2024-01-09\t1\t2024-01-15 12:09:00\n30\t3.90\t2024-01-13\t2024-01-13\t1\t2024-01-23 12:02:00\n31\t66.86\t2024-01-07\t2024-01-05\t0\t2024-01-19 12:53:00\n33\t59.05\t2024-01-14\t2024-01-05\t1\t2024-01-27 12:29:00\n34\t23.48\t2024-01-14\t2024-01-09\t1\t2024-01-28 12:09:00\n35\t85.04\t2024-01-19\t2024-01-06\t0\t2024-01-11 12:03:00\n36\t18.82\t2024-01-25\t2024-01-12\t0\t2024-01-08 12:43:00\n37\t58.71\t2024-01-20\t2024-01-02\t0\t2024-01-28 12:01:00\n\n-- t2\n1\t23.66\t57\t43.47\t2024-01-19 08:54:00\t73.07\t62.40\t2024-01-27 08:09:00\n2\t21.71\t19\t52.66\t2024-01-22 08:24:00\t25.25\t90.46\t2024-01-21 08:00:00\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-14 08:55:00', 56.51, 87.4, 21.24, 82.75, 79.62, 81), (2, '2024-01-15 08:31:00', 7.3, 4.36, 82.55, 27.39, 67.68, 37), (3, '2024-01-11 08:46:00', 69.72, 27.91, 72.76, 68.15, 98.61, 49);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, '2024-01-17 08:54:00', 33.67, 70.58, 36.62, 31.98, 71.85, 63);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, '2024-01-25 08:28:00', 71.2, 40.9, 14.6, 68.02, 73.06, 83), (6, '2024-01-10 08:18:00', 63.2, 54.11, 83.19, 9.98, 79.1, 61), (7, '2024-01-08 08:01:00', 48.18, 73.25, 21.73, 65.87, 34.12, 39);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, '2024-01-05 08:02:00', 26.4, 80.28, 80.48, 27.66, 68.08, 4), (9, '2024-01-10 08:16:00', 47.9, 2.42, 42.56, 20.06, 38.6, 22), (10, '2024-01-06 08:27:00', 91.19, 12.65, 32.37, 14.99, 47.29, 8);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (11, '2024-01-15 08:27:00', 63.11, 24.09, 8.63, 4.83, 36.87, 19);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, '2024-01-25 08:21:00', 90.24, 14.05, 7.29, 54.18, 58.46, 77), (13, '2024-01-02 08:13:00', 64.67, 85.47, 4.65, 87.98, 83.88, 68), (14, '2024-01-12 08:17:00', 48.07, 83.1, 27.05, 4.93, 5.59, 93);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, '2024-01-16 08:21:00', 52.08, 80.81, 50.26, 91.22, 95.13, 82), (16, '2024-01-06 08:34:00', 29.71, 65.73, 77.79, 97.63, 84.08, 85), (17, '2024-01-10 08:49:00', 12.39, 56.15, 22.27, 39.94, 83.5, 63);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (18, '2024-01-05 08:02:00', 80.26, 91.92, 3.14, 75.78, 62.79, 48), (19, '2024-01-28 08:01:00', 5.11, 10.56, 43.27, 19.08, 51.07, 10), (20, '2024-01-22 08:58:00', 46.47, 75.16, 65.31, 38.77, 26.9, 53);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (21, '2024-01-11 08:09:00', 70.65, 9.1, 43.84, 88.86, 83.9, 54), (22, '2024-01-11 08:25:00', 30.3, 44.58, 70.2, 15.24, 84.44, 85), (23, '2024-01-07 08:52:00', 88.01, 88.88, 93.57, 16.57, 19.3, 54);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (24, '2024-01-12 08:26:00', 52.21, 6.11, 17.66, 10.26, 68.61, 37), (25, '2024-01-02 08:16:00', 14.35, 22.35, 14.42, 94.25, 34.9, 3), (26, '2024-01-13 08:30:00', 18.61, 87.15, 19.51, 93.45, 52.41, 50);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (27, '2024-01-19 08:50:00', 48.93, 23.97, 61.72, 7.3, 21.03, 29);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, '2024-01-26 08:30:00', 90.97, 0.64, 29.59, 7.75, 21.3, 7), (29, '2024-01-09 08:52:00', 75.65, 1.08, 30.95, 6.02, 15.2, 39), (30, '2024-01-14 08:37:00', 15.9, 24.82, 28.12, 67.61, 93.1, 18);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (31, '2024-01-24 08:53:00', 5.14, 85.31, 89.27, 65.77, 22.36, 70);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, '2024-01-15 08:04:00', 63.01, 12.04, 82.74, 2.73, 23.56, 32), (33, '2024-01-13 08:14:00', 69.05, 96.26, 82.31, 81.76, 85.54, 77), (34, '2024-01-23 08:27:00', 15.59, 93.64, 37.87, 34.24, 12.03, 75);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, '2024-01-03 08:03:00', 37.91, 36.53, 67.52, 41.49, 48.92, 16), (36, '2024-01-15 08:19:00', 57.7, 88.29, 54.9, 87.62, 38.39, 51);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, '2024-01-18 08:14:00', 47.23, 75.07, 19.14, 94.12, 6.92, 68), (38, '2024-01-08 08:12:00', 47.41, 79.71, 98.54, 10.28, 66.71, 7);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, '2024-01-11 08:52:00', 56.45, 2.28, 69.22, 38.93, 17.84, 45);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, '2024-01-15 08:17:00', 22.48, 7.9, 66.33, 20.07, 86.68, 7), (41, '2024-01-27 08:43:00', 62.79, 43.86, 18.8, 27.41, 7.9, 91), (42, '2024-01-09 08:29:00', 57.64, 50.92, 3.22, 47.26, 69.49, 58);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (43, '2024-01-08 08:49:00', 70.13, 6.07, 95.68, 21.02, 28.55, 53);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, '2024-01-24 08:55:00', 61.67, 57.67, 22.06, 46.73, 73.09, 15), (45, '2024-01-07 08:05:00', 59.22, 97.37, 59.82, 33.03, 65.29, 8);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (1, 25.08, '2024-01-06', '2024-01-02', 0, '2024-01-09 12:52:00'), (2, 64.9, '2024-01-03', '2024-01-12', 1, '2024-01-17 12:30:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (3, 91.02, '2024-01-18', '2024-01-02', 0, '2024-01-01 12:06:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (4, 89.98, '2024-01-07', '2024-01-11', 1, '2024-01-21 12:58:00'), (5, 7.91, '2024-01-05', '2024-01-15', 0, '2024-01-10 12:41:00'), (6, 85.53, '2024-01-01', '2024-01-27', 0, '2024-01-13 12:14:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (7, 70.61, '2024-01-17', '2024-01-18', 0, '2024-01-27 12:23:00'), (8, 51.58, '2024-01-25', '2024-01-14', 0, '2024-01-14 12:35:00'), (9, 66.06, '2024-01-12', '2024-01-10', 1, '2024-01-27 12:10:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (10, 59.99, '2024-01-04', '2024-01-21', 1, '2024-01-02 12:17:00'), (11, 76.22, '2024-01-12', '2024-01-09', 0, '2024-01-11 12:51:00'), (12, 22.47, '2024-01-15', '2024-01-22', 1, '2024-01-04 12:22:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (13, 55.51, '2024-01-21', '2024-01-18', 1, '2024-01-11 12:58:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (14, 68.65, '2024-01-11', '2024-01-17', 1, '2024-01-17 12:20:00'), (15, 99.27, '2024-01-26', '2024-01-17', 1, '2024-01-03 12:49:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (16, 79.91, '2024-01-28', '2024-01-21', 1, '2024-01-23 12:11:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (17, 17.96, '2024-01-22', '2024-01-26', 1, '2024-01-23 12:41:00'), (18, 98.27, '2024-01-16', '2024-01-10', 0, '2024-01-15 12:43:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (19, 91.1, '2024-01-16', '2024-01-28', 1, '2024-01-23 12:36:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (20, 67.61, '2024-01-05', '2024-01-27', 0, '2024-01-09 12:21:00'), (21, 26.73, '2024-01-22', '2024-01-14', 0, '2024-01-10 12:10:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (22, 56.43, '2024-01-25', '2024-01-04', 0, '2024-01-06 12:42:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (23, 72.72, '2024-01-26', '2024-01-19', 1, '2024-01-28 12:58:00'), (24, 99.72, '2024-01-11', '2024-01-16', 0, '2024-01-21 12:44:00'), (25, 69.47, '2024-01-15', '2024-01-12', 0, '2024-01-12 12:34:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (26, 72.88, '2024-01-26', '2024-01-05', 0, '2024-01-28 12:38:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (27, 40.62, '2024-01-08', '2024-01-12', 0, '2024-01-12 12:08:00'), (28, 63.62, '2024-01-03', '2024-01-12', 0, '2024-01-14 12:03:00'), (29, 62.9, '2024-01-06', '2024-01-09', 1, '2024-01-15 12:09:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (30, 3.9, '2024-01-13', '2024-01-13', 1, '2024-01-23 12:02:00'), (31, 66.86, '2024-01-07', '2024-01-05', 0, '2024-01-19 12:53:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (32, 86.9, '2024-01-17', '2024-01-18', 1, '2024-01-08 12:43:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (33, 59.05, '2024-01-14', '2024-01-05', 1, '2024-01-27 12:29:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (34, 23.48, '2024-01-14', '2024-01-09', 1, '2024-01-28 12:09:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (35, 85.04, '2024-01-19', '2024-01-06', 0, '2024-01-11 12:03:00'), (36, 18.82, '2024-01-25', '2024-01-12', 0, '2024-01-08 12:43:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 23.66, 57, 43.47, '2024-01-19 08:54:00', 73.07, 62.4, '2024-01-27 08:09:00'), (2, 21.71, 19, 52.66, '2024-01-22 08:24:00', 25.25, 90.46, '2024-01-21 08:00:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (37, 58.71, '2024-01-20', '2024-01-02', 0, '2024-01-28 12:01:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` float NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` decimal(12,2) NOT NULL,\n  `c5` float NOT NULL,\n  `c6` int NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` date NOT NULL,\n  `c2` date NOT NULL,\n  `c3` tinyint(1) DEFAULT NULL,\n  `c4` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` bigint DEFAULT NULL,\n  `c2` double DEFAULT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` double NOT NULL,\n  `c5` decimal(12,2) DEFAULT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0014_019be1f4-0b58-7a21-acec-cc44989075e7",
      "dir": "reports/case_0014_019be1f4-0b58-7a21-acec-cc44989075e7",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:05+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "04f2fb4533df87f7d5e54feb87169f8dd8a7d1a6",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4) WHERE NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) LIMIT 13) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4)",
      "norec_predicate": "NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1))",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4) WHERE NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) LIMIT 13",
        "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT (CASE WHEN NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) THEN 1 ELSE 0 END) AS b FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4)"
      ],
      "plan_replayer": "reports/case_0014_019be1f4-0b58-7a21-acec-cc44989075e7/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4) WHERE NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) LIMIT 13) q",
        "norec_predicate": "NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4)",
        "optimized_explain": "StreamAgg_40\t1.00\troot\t\tfuncs:count(1)->Column#53\n└─Limit_43\t1.00\troot\t\toffset:0, count:13\n  └─StreamAgg_50\t1.00\troot\t\tfuncs:count(1)->Column#55\n    └─TableDual_56\t0.00\troot\t\trows:0\nScalarSubQuery_24\tN/A\troot\t\tOutput: \n└─TableDual_23\t1.00\troot\t\trows:1\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) THEN 1 ELSE 0 END),0) FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4) WHERE NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) LIMIT 13) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_30\t1.00\troot\t\tifnull(Column#58, 0)->Column#59\n└─HashAgg_34\t1.00\troot\t\tfuncs:sum(0)->Column#58\n  └─HashJoin_46\t10000.00\troot\t\tright outer join, left side:TableDual_53, equal:[eq(shiro_fuzz_r13.t2.c5, shiro_fuzz_r13.t0.c4)]\n    ├─TableDual_53(Build)\t0.00\troot\t\trows:0\n    └─IndexReader_52(Probe)\t10000.00\troot\t\tindex:IndexFullScan_51\n      └─IndexFullScan_51\t10000.00\tcop[tikv]\ttable:t0, index:idx_c4(c4)\tkeep order:false, stats:pseudo\nScalarSubQuery_25\tN/A\troot\t\tOutput: \n└─TableDual_24\t1.00\troot\t\trows:1\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(cte_0.c0) AS sum1 FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4) WHERE NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) LIMIT 13;\nWITH cte_0 AS (SELECT t1.c2 AS c0, t1.c0 AS c1, t1.c6 AS c2 FROM t1 WHERE (t1.id > 3) LIMIT 2) SELECT (CASE WHEN NOT EXISTS (SELECT COUNT(1) AS cnt FROM t0 WHERE (t0.c0 = cte_0.c1)) THEN 1 ELSE 0 END) AS b FROM t2 RIGHT JOIN t1 ON (t1.c1 IN (48.53, 81.5, 42.81)) JOIN cte_0 ON ('2024-01-26 08:39:00' <= '2024-01-25 12:01:00') RIGHT JOIN t0 ON (t2.c5 = t0.c4);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t3\t6.41\t27\t59.31\ts21\t2024-01-15 08:06:00\n2\t16\t23.76\t56\t25.25\ts21\t2024-01-25 08:41:00\n3\t72\t91.49\t34\t98.80\ts21\t2024-01-10 08:57:00\n4\t44\t29.06\t97\t93.83\ts21\t2024-01-03 08:00:00\n5\t27\t46.13\t3\t73.76\ts14\t2024-01-16 08:47:00\n6\t61\t81.22\t15\t12.38\ts21\t2024-01-16 08:36:00\n7\t57\t70.00\t47\t84.21\ts21\t2024-01-24 08:00:00\n8\t93\t80.24\t10\t4.69\ts87\t2024-01-13 08:15:00\n9\t82\t51.87\t56\t12.65\ts21\t2024-01-17 08:29:00\n10\t84\t35.93\t58\t95.96\ts21\t2024-01-03 08:13:00\n11\t4\t1.31\t79\t95.89\ts21\t2024-01-25 08:15:00\n12\t91\t42.40\t10\t29.36\ts23\t2024-01-08 08:01:00\n13\t85\t45.66\t56\t13.76\ts21\t2024-01-18 08:11:00\n14\t37\t10.52\t14\t65.43\ts27\t2024-01-12 08:56:00\n15\t24\t79.05\t45\t94.84\ts21\t2024-01-13 08:16:00\n16\t77\t9.90\t52\t87.52\ts21\t2024-01-17 08:26:00\n17\t60\t71.86\t26\t6.59\ts21\t2024-01-01 08:46:00\n18\t36\t30.36\t72\t44.22\ts21\t2024-01-04 08:40:00\n19\t49\t51.59\t20\t70.49\ts21\t2024-01-01 08:08:00\n20\t63\t67.06\t71\t5.94\ts21\t2024-01-23 08:58:00\n21\t70\t38.29\t14\t35.67\ts22\t2024-01-13 08:09:00\n22\t53\t55.87\t39\t0.80\ts21\t2024-01-24 08:47:00\n23\t57\t13.98\t48\t59.60\ts21\t2024-01-16 08:53:00\n24\t97\t31.97\t66\t26.58\ts21\t2024-01-13 08:25:00\n25\t57\t37.98\t52\t28.66\ts21\t2024-01-03 08:39:00\n26\t70\t18.73\t61\t69.70\ts21\t2024-01-07 08:20:00\n27\t96\t4.27\t0\t41.40\ts50\t2024-01-28 08:54:00\n28\t85\t73.04\t21\t85.62\ts21\t2024-01-06 08:01:00\n29\t10\t54.60\t56\t61.62\ts21\t2024-01-22 08:18:00\n30\t85\t47.94\t3\t39.09\ts12\t2024-01-10 08:09:00\n31\t46\t25.52\t35\t79.73\ts21\t2024-01-25 08:16:00\n32\t5\t78.40\t73\t42.63\ts21\t2024-01-15 08:23:00\n33\t59\t76.27\t15\t64.19\ts21\t2024-01-15 08:46:00\n34\t85\t74.52\t64\t35.57\ts21\t2024-01-09 08:24:00\n35\t64\t69.68\t80\t17.32\ts21\t2024-01-06 08:51:00\n36\t47\t92.99\t69\t98.92\ts21\t2024-01-23 08:51:00\n37\t96\t14.13\t32\t54.96\ts21\t2024-01-27 08:47:00\n38\t53\t29.01\t19\t84.40\ts21\t2024-01-26 08:09:00\n39\t64\t80.85\t32\t95.23\ts21\t2024-01-28 08:57:00\n\n-- t1\n2\t86\t16.61\t84\t67.27\t98\t2024-01-02\t66.62\n5\t39\t72.48\t98\t95.97\t89\t2024-01-24\t15.20\n8\t38\t97.32\t75\t68.96\t58\t2024-01-15\t58.32\n11\t30\t63.01\t94\t64.74\t27\t2024-01-27\t91.53\n14\t77\t69.71\t37\t23.12\t29\t2024-01-24\t28.45\n17\t71\t73.34\t96\t5.5\t36\t2024-01-27\t77.80\n20\t21\t53.99\t72\t87.38\t46\t2024-01-22\t9.47\n23\t94\t97.47\t27\t89.78\t39\t2024-01-14\t77.23\n26\t93\t54.14\t9\t72.11\t7\t2024-01-09\t69.38\n29\t26\t53.84\t47\t84.75\t48\t2024-01-27\t93.46\n32\t88\t3.28\t91\t91.76\t78\t2024-01-16\t57.66\n35\t74\t7\t46\t59.02\t96\t2024-01-27\t56.29\n38\t49\t87.72\t88\t2.46\t46\t2024-01-06\t57.17\n41\t55\t93.19\t1\t49.29\t98\t2024-01-02\t13.77\n44\t88\t13.32\t12\t43.22\t52\t2024-01-03\t84.25\n47\t71\t62.58\t87\t27.48\t45\t2024-01-22\t83.64\n50\t31\t52.3\t95\t78.3\t24\t2024-01-16\t49.49\n3\t78\t90.96\t1\t18.46\t47\t2024-01-07\t16.66\n6\t10\t46.06\t99\t32.72\t79\t2024-01-06\t51.51\n9\t34\t79.06\t49\t68.36\t69\t2024-01-18\t0.26\n12\t82\t8.03\t94\t36.29\t7\t2024-01-20\t34.19\n15\t2\t57.83\t49\t10.95\t80\t2024-01-28\t50.89\n18\t57\t74.63\t20\t39.1\t92\t2024-01-18\t80.89\n21\t32\t14.29\t32\t17.06\t55\t2024-01-09\t93.60\n24\t94\t70.98\t20\t78.56\t55\t2024-01-03\t72.30\n27\t49\t82.01\t42\t3.01\t50\t2024-01-12\t94.51\n30\t82\t83.94\t18\t11.31\t70\t2024-01-19\t22.05\n33\t89\t87.65\t31\t52.78\t16\t2024-01-28\t74.67\n36\t77\t19.23\t92\t61.56\t8\t2024-01-14\t3.17\n39\t31\t63.15\t55\t76.69\t30\t2024-01-06\t27.27\n42\t47\t5.36\t56\t5.48\t29\t2024-01-24\t87.86\n45\t24\t75.29\t61\t70.71\t92\t2024-01-26\t47.41\n48\t12\t60.12\t30\t82.48\t92\t2024-01-10\t86.96\n1\t73\t43.98\t76\t60.73\t15\t2024-01-28\t12.81\n4\t11\t97.2\t33\t70.32\t60\t2024-01-23\t48.44\n7\t89\t66.16\t6\t95.03\t55\t2024-01-10\t69.46\n10\t48\t7.68\t58\t25.63\t65\t2024-01-26\t3.98\n13\t10\t1.11\t22\t91.34\t61\t2024-01-23\t22.49\n16\t43\t21.42\t66\t61.26\t97\t2024-01-10\t36.77\n19\t50\t48.78\t31\t25.46\t29\t2024-01-24\t41.93\n22\t90\t5.93\t79\t7.68\t72\t2024-01-14\t19.18\n25\t30\t17.01\t58\t95.2\t97\t2024-01-13\t97.41\n28\t68\t80.16\t44\t45.7\t56\t2024-01-26\t4.32\n31\t96\t42.38\t27\t51.51\t61\t2024-01-27\t27.80\n34\t49\t73.05\t32\t4.08\t48\t2024-01-02\t10.84\n37\t62\t54.29\t57\t34.35\t87\t2024-01-27\t5.97\n40\t56\t24.88\t75\t25.52\t62\t2024-01-23\t20.43\n43\t88\t94.74\t18\t40.37\t3\t2024-01-16\t61.37\n46\t1\t72.66\t78\t96.45\t32\t2024-01-05\t95.45\n49\t89\t1.82\t8\t4.14\t30\t2024-01-14\t38.88\n\n-- t2\n1\t45.51\t77.79\t69.32\t68\t93.6\ts90\t2024-01-24\n2\t54.72\t76.6\t4.35\t60\t28.17\ts70\t2024-01-14\n3\t51.68\t38.03\t31.64\t7\t23.78\ts66\t2024-01-15\n4\t42.02\t16.43\t2.81\t72\t54.35\ts62\t2024-01-09\n5\t51.27\t42.92\t40.34\t74\t13.64\ts16\t2024-01-12\n6\t45.27\t90.06\t71.34\t48\t70.13\ts34\t2024-01-11\n7\t61.66\t52.72\t24.99\t81\t66.4\ts9\t2024-01-18\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 2, 6.41, 27, 59.31, 's96', '2024-01-15 08:06:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (2, 15, 23.76, 56, 25.25, 's69', '2024-01-25 08:41:00'), (3, 72, 91.49, 34, 98.8, 's82', '2024-01-10 08:57:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 44, 29.06, 97, 93.83, 's26', '2024-01-03 08:00:00'), (5, 26, 46.13, 3, 73.76, 's14', '2024-01-16 08:47:00'), (6, 61, 81.22, 15, 12.38, 's7', '2024-01-16 08:36:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 57, 70, 47, 84.21, 's46', '2024-01-24 08:00:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 93, 80.24, 10, 4.69, 's87', '2024-01-13 08:15:00'), (9, 82, 51.87, 56, 12.65, 's77', '2024-01-17 08:29:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 84, 35.93, 58, 95.96, 's67', '2024-01-03 08:13:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 3, 1.31, 79, 95.89, 's33', '2024-01-25 08:15:00'), (12, 91, 42.4, 10, 29.36, 's23', '2024-01-08 08:01:00'), (13, 85, 45.66, 56, 13.76, 's88', '2024-01-18 08:11:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (14, 37, 10.52, 14, 65.43, 's27', '2024-01-12 08:56:00'), (15, 23, 79.05, 45, 94.84, 's60', '2024-01-13 08:16:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 77, 9.9, 52, 87.52, 's90', '2024-01-17 08:26:00'), (17, 60, 71.86, 26, 6.59, 's54', '2024-01-01 08:46:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 36, 30.36, 72, 44.22, 's60', '2024-01-04 08:40:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 49, 51.59, 20, 70.49, 's13', '2024-01-01 08:08:00'), (20, 63, 67.06, 71, 5.94, 's25', '2024-01-23 08:58:00'), (21, 70, 38.29, 14, 35.67, 's22', '2024-01-13 08:09:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (22, 53, 55.87, 39, 0.8, 's26', '2024-01-24 08:47:00'), (23, 57, 13.98, 48, 59.6, 's75', '2024-01-16 08:53:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (24, 97, 31.97, 66, 26.58, 's64', '2024-01-13 08:25:00'), (25, 57, 37.98, 52, 28.66, 's93', '2024-01-03 08:39:00'), (26, 70, 18.73, 61, 69.7, 's7', '2024-01-07 08:20:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (27, 96, 4.27, 0, 41.4, 's50', '2024-01-28 08:54:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (28, 85, 73.04, 21, 85.62, 's19', '2024-01-06 08:01:00'), (29, 9, 54.6, 56, 61.62, 's59', '2024-01-22 08:18:00'), (30, 85, 47.94, 3, 39.09, 's12', '2024-01-10 08:09:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (31, 46, 25.52, 35, 79.73, 's28', '2024-01-25 08:16:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (32, 4, 78.4, 73, 42.63, 's14', '2024-01-15 08:23:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (33, 59, 76.27, 15, 64.19, 's85', '2024-01-15 08:46:00'), (34, 85, 74.52, 64, 35.57, 's69', '2024-01-09 08:24:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (35, 64, 69.68, 80, 17.32, 's0', '2024-01-06 08:51:00'), (36, 47, 92.99, 69, 98.92, 's1', '2024-01-23 08:51:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 96, 14.13, 32, 54.96, 's6', '2024-01-27 08:47:00'), (38, 53, 29.01, 19, 84.4, 's30', '2024-01-26 08:09:00'), (39, 64, 80.85, 32, 95.23, 's19', '2024-01-28 08:57:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 73, 43.98, 76, 60.73, 15, '2024-01-28', 12.81), (2, 86, 16.61, 84, 67.27, 98, '2024-01-02', 66.62);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, 78, 90.96, 1, 18.46, 47, '2024-01-07', 16.66), (4, 11, 97.2, 33, 70.32, 60, '2024-01-23', 48.44), (5, 39, 72.48, 98, 95.97, 89, '2024-01-24', 15.2);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (6, 10, 46.06, 99, 32.72, 79, '2024-01-06', 51.51), (7, 89, 66.16, 6, 95.03, 55, '2024-01-10', 69.46), (8, 38, 97.32, 75, 68.96, 58, '2024-01-15', 58.32);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 34, 79.06, 49, 68.36, 69, '2024-01-18', 0.26);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (10, 48, 7.68, 58, 25.63, 65, '2024-01-26', 3.98), (11, 30, 63.01, 94, 64.74, 27, '2024-01-27', 91.53), (12, 82, 8.03, 94, 36.29, 7, '2024-01-20', 34.19);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, 10, 1.11, 22, 91.34, 61, '2024-01-23', 22.49), (14, 77, 69.71, 37, 23.12, 29, '2024-01-24', 28.45), (15, 2, 57.83, 49, 10.95, 80, '2024-01-28', 50.89);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, 43, 21.42, 66, 61.26, 97, '2024-01-10', 36.77), (17, 71, 73.34, 96, 5.5, 36, '2024-01-27', 77.8), (18, 57, 74.63, 20, 39.1, 92, '2024-01-18', 80.89);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 50, 48.78, 31, 25.46, 29, '2024-01-24', 41.93);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, 21, 53.99, 72, 87.38, 46, '2024-01-22', 9.47), (21, 32, 14.29, 32, 17.06, 55, '2024-01-09', 93.6);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 90, 5.93, 79, 7.68, 72, '2024-01-14', 19.18), (23, 94, 97.47, 27, 89.78, 39, '2024-01-14', 77.23), (24, 94, 70.98, 20, 78.56, 55, '2024-01-03', 72.3);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (25, 30, 17.01, 58, 95.2, 97, '2024-01-13', 97.41), (26, 93, 54.14, 9, 72.11, 7, '2024-01-09', 69.38);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (27, 49, 82.01, 42, 3.01, 50, '2024-01-12', 94.51), (28, 68, 80.16, 44, 45.7, 56, '2024-01-26', 4.32), (29, 26, 53.84, 47, 84.75, 48, '2024-01-27', 93.46);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (30, 82, 83.94, 18, 11.31, 70, '2024-01-19', 22.05), (31, 96, 42.38, 27, 51.51, 61, '2024-01-27', 27.8), (32, 88, 3.28, 91, 91.76, 78, '2024-01-16', 57.66);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (33, 89, 87.65, 31, 52.78, 16, '2024-01-28', 74.67), (34, 49, 73.05, 32, 4.08, 48, '2024-01-02', 10.84);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 74, 7, 46, 59.02, 96, '2024-01-27', 56.29), (36, 77, 19.23, 92, 61.56, 8, '2024-01-14', 3.17);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, 62, 54.29, 57, 34.35, 87, '2024-01-27', 5.97);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, 49, 87.72, 88, 2.46, 46, '2024-01-06', 57.17), (39, 31, 63.15, 55, 76.69, 30, '2024-01-06', 27.27);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, 56, 24.88, 75, 25.52, 62, '2024-01-23', 20.43), (41, 55, 93.19, 1, 49.29, 98, '2024-01-02', 13.77), (42, 47, 5.36, 56, 5.48, 29, '2024-01-24', 87.86);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (43, 88, 94.74, 18, 40.37, 3, '2024-01-16', 61.37);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 88, 13.32, 12, 43.22, 52, '2024-01-03', 84.25), (45, 24, 75.29, 61, 70.71, 92, '2024-01-26', 47.41), (46, 1, 72.66, 78, 96.45, 32, '2024-01-05', 95.45);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 45.51, 77.79, 69.32, 68, 93.6, 's90', '2024-01-24'), (2, 54.72, 76.6, 4.35, 60, 28.17, 's70', '2024-01-14'), (3, 51.68, 38.03, 31.64, 7, 23.78, 's66', '2024-01-15');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 42.02, 16.43, 2.81, 72, 54.35, 's62', '2024-01-09'), (5, 51.27, 42.92, 40.34, 74, 13.64, 's16', '2024-01-12'), (6, 45.27, 90.06, 71.34, 48, 70.13, 's34', '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (47, 71, 62.58, 87, 27.48, 45, '2024-01-22', 83.64), (48, 12, 60.12, 30, 82.48, 92, '2024-01-10', 86.96), (49, 89, 1.82, 8, 4.14, 30, '2024-01-14', 38.88);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 61.66, 52.72, 24.99, 81, 66.4, 's9', '2024-01-18');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (50, 31, 52.3, 95, 78.3, 24, '2024-01-16', 49.49);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` varchar(64) NOT NULL,\n  `c5` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` float NOT NULL,\n  `c2` int NOT NULL,\n  `c3` double NOT NULL,\n  `c4` int NOT NULL,\n  `c5` date NOT NULL,\n  `c6` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` decimal(12,2) DEFAULT NULL,\n  `c3` int NOT NULL,\n  `c4` double NOT NULL,\n  `c5` varchar(64) DEFAULT NULL,\n  `c6` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0013_019be1f3-fca0-7b75-95f6-ad0c3d7d1dc9",
      "dir": "reports/case_0013_019be1f3-fca0-7b75-95f6-ad0c3d7d1dc9",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:07:02+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "a16b61fd57618b67b14156dbc40d10ca2c069eb3",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95) WHERE ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) ORDER BY cte_1.c2) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95)",
      "norec_predicate": "((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1))))",
      "sql": [
        "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95) WHERE ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) ORDER BY cte_1.c2",
        "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT (CASE WHEN ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95)"
      ],
      "plan_replayer": "reports/case_0013_019be1f3-fca0-7b75-95f6-ad0c3d7d1dc9/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95) WHERE ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) ORDER BY cte_1.c2) q",
        "norec_predicate": "((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1))))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95)",
        "optimized_explain": "StreamAgg_47\t1.00\troot\t\tfuncs:count(1)->Column#41\n└─StreamAgg_53\t1.00\troot\t\tfuncs:count(1)->Column#43\n  └─HashJoin_68\t0.00\troot\t\tCARTESIAN inner join\n    ├─Selection_73(Build)\t0.00\troot\t\tge(shiro_fuzz_r12.t1.id, 95), in(shiro_fuzz_r12.t1.c0, 0)\n    │ └─TableDual_75\t0.00\troot\t\trows:0\n    └─HashJoin_86(Probe)\t400000000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_106, left cond:[in(shiro_fuzz_r12.t1.c1, s29, s74, s54) ge(shiro_fuzz_r12.t1.c2, 0)]\n      ├─Limit_115(Build)\t4.00\troot\t\toffset:0, count:4\n      │ └─TableReader_122\t4.00\troot\tpartition:all\tdata:Limit_121\n      │   └─Limit_121\t4.00\tcop[tikv]\t\toffset:0, count:4\n      │     └─Selection_120\t4.00\tcop[tikv]\t\tgt(shiro_fuzz_r12.t0.c3, 24.12), ne(shiro_fuzz_r12.t0.c2, 32.22), or(ge(shiro_fuzz_r12.t0.c0, 95.56), ne(shiro_fuzz_r12.t0.id, 69))\n      │       └─TableFullScan_119\t32.18\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      └─HashJoin_106(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_110(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_109\n        │ └─IndexFullScan_109\t10000.00\tcop[tikv]\ttable:t0, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n        └─TableReader_114(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_113\n          └─TableFullScan_113\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95) WHERE ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) ORDER BY cte_1.c2) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_34\t1.00\troot\t\tifnull(Column#37, 0)->Column#38\n└─HashAgg_38\t1.00\troot\t\tfuncs:sum(Column#42)->Column#37\n  └─Projection_125\t400000000.00\troot\t\tcast(case(or(in(shiro_fuzz_r12.t1.c0, 0), and(not(eq(shiro_fuzz_r12.t1.c1, s61)), and(0, lt(shiro_fuzz_r12.t1.c2, 1)))), 1, 0), decimal(20,0) BINARY)->Column#42\n    └─HashJoin_49\t400000000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_61\n      ├─Selection_110(Build)\t0.00\troot\t\tge(shiro_fuzz_r12.t1.id, 95)\n      │ └─TableDual_112\t0.00\troot\t\trows:0\n      └─HashJoin_61(Probe)\t400000000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_79, left cond:[in(shiro_fuzz_r12.t1.c1, s29, s74, s54) ge(shiro_fuzz_r12.t1.c2, 0)]\n        ├─Limit_88(Build)\t4.00\troot\t\toffset:0, count:4\n        │ └─TableReader_95\t4.00\troot\tpartition:all\tdata:Limit_94\n        │   └─Limit_94\t4.00\tcop[tikv]\t\toffset:0, count:4\n        │     └─Selection_93\t4.00\tcop[tikv]\t\tgt(shiro_fuzz_r12.t0.c3, 24.12), ne(shiro_fuzz_r12.t0.c2, 32.22), or(ge(shiro_fuzz_r12.t0.c0, 95.56), ne(shiro_fuzz_r12.t0.id, 69))\n        │       └─TableFullScan_92\t32.18\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n        └─HashJoin_79(Probe)\t100000000.00\troot\t\tCARTESIAN inner join\n          ├─IndexReader_83(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_82\n          │ └─IndexFullScan_82\t10000.00\tcop[tikv]\ttable:t0, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n          └─TableReader_87(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_86\n            └─TableFullScan_86\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95) WHERE ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) ORDER BY cte_1.c2;\nWITH cte_0 AS (SELECT t0.c2 AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c3 > 24.12) AND (t0.c2 != 32.22)) AND ((t0.c0 >= 95.56) OR (t0.id != 69))) LIMIT 4), cte_1 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE (((40.43 > 47.34) AND (t1.id <=> 65)) AND (t1.id != 87)) LIMIT 1) SELECT (CASE WHEN ((cte_1.c1 IN ('s92', 's29')) OR (NOT (t1.c1 IN ('s61')) AND ((23.84 = 36.31) AND (cte_1.c2 < 1)))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN t1 LEFT JOIN cte_0 ON ((t1.c1 IN ('s29', 's74', 's54')) AND ((t1.c2 >= 0) AND (25 >= 12))) LEFT JOIN cte_1 ON (cte_1.c0 >= 95);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n3\t5\t79.90\t46.32\t24.98\t2024-01-09\n6\t94.73\t63.88\t93.22\t86.16\t2024-01-08\n9\t95.06\t10.64\t76.68\t42.92\t2024-01-19\n12\t32.45\t89.10\t92.56\t97.03\t2024-01-10\n15\t79.19\t11.77\t92.07\t73.05\t2024-01-21\n18\t70.14\t54.47\t31.04\t22.28\t2024-01-03\n21\t68.85\t27.54\t19.79\t24.32\t2024-01-02\n24\t64.82\t45.68\t88.44\t3.59\t2024-01-06\n27\t25.48\t49.82\t62.59\t70.31\t2024-01-15\n30\t73.57\t51.09\t51.39\t94.3\t2024-01-14\n33\t62.31\t55.00\t20.48\t19.07\t2024-01-07\n36\t82.86\t22.05\t56.96\t17.06\t2024-01-06\n39\t23.8\t16.22\t97.06\t97.15\t2024-01-23\n42\t58.27\t97.31\t3.63\t79.33\t2024-01-03\n1\t41.29\t96.30\t43.72\t5.05\t2024-01-27\n4\t60.4\t24.36\t14.28\t66.95\t2024-01-23\n7\t15.06\t72.96\t49.89\t64.07\t2024-01-12\n10\t11.94\t39.82\t88.21\t56.64\t2024-01-15\n13\t93.54\t53.68\t74.33\t17.3\t2024-01-03\n16\t19.71\t25.23\t92.24\t32.4\t2024-01-04\n19\t46.28\t4.97\t42.68\t32.36\t2024-01-19\n22\t69.2\t71.76\t65.18\t83.24\t2024-01-25\n25\t65.7\t54.69\t15.62\t24.44\t2024-01-18\n28\t95.76\t79.24\t20.67\t49.91\t2024-01-28\n31\t75.09\t69.22\t96.12\t88.18\t2024-01-24\n34\t37.13\t45.49\t92.89\t18.79\t2024-01-21\n37\t70.74\t10.60\t79.3\t11.85\t2024-01-22\n40\t59.62\t31.75\t51.8\t62.63\t2024-01-03\n43\t89.14\t30.72\t54.38\t1.23\t2024-01-06\n2\t60.22\t32.00\t42.01\t31.32\t2024-01-27\n5\t20.07\t89.26\t44.43\t49.35\t2024-01-28\n8\t7.57\t50.55\t13.31\t92.05\t2024-01-04\n11\t16.35\t26.57\t63.12\t36.26\t2024-01-24\n14\t99.7\t13.49\t83.94\t60.17\t2024-01-28\n17\t28.98\t87.26\t32.97\t87.68\t2024-01-08\n20\t48.92\t32.07\t28.1\t8.38\t2024-01-11\n23\t36.68\t42.33\t4.59\t13.79\t2024-01-18\n26\t42.62\t6.87\t39.31\t49.28\t2024-01-22\n29\t2.24\t93.79\t90.92\t21.8\t2024-01-11\n32\t54.04\t18.84\t11.45\t80.37\t2024-01-26\n35\t32.76\t45.42\t83.22\t26.75\t2024-01-04\n38\t87.05\t6.13\t37.7\t43.22\t2024-01-22\n41\t64.35\t74.47\t28.81\t54.67\t2024-01-26\n\n-- t1\n8\t66\ts59\t1\n16\t91\ts45\t1\n18\t70\ts13\t1\n20\t5\ts98\t1\n22\t95\ts79\t1\n24\t93\ts77\t1\n26\t45\ts71\t1\n28\t8\ts66\t1\n30\t29\ts23\t1\n34\t62\ts83\t1\n3\t28\ts37\t1\n7\t69\ts79\t1\n21\t33\ts17\t1\n23\t92\ts38\t1\n29\t62\ts45\t1\n33\t8\ts29\t1\n35\t7\ts32\t1\n37\t5\ts27\t1\n39\t22\ts0\t1\n\n-- t2\n1\t15\t0\t22.89\t25\t1\n3\t21\t0\t89.39\t98\t0\n5\t69\t0\t96.49\t93\t0\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (1, 41.29, 96.3, 42.72, 5.05, '2024-01-27');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (2, 60.22, 32, 41.01, 31.32, '2024-01-27'), (3, 5, 79.9, 45.32, 24.98, '2024-01-09');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (4, 60.4, 24.36, 13.28, 66.95, '2024-01-23');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (5, 20.07, 89.26, 43.43, 49.35, '2024-01-28'), (6, 94.73, 63.88, 92.22, 86.16, '2024-01-08'), (7, 15.06, 72.96, 48.89, 64.07, '2024-01-12');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (8, 7.57, 50.55, 12.31, 92.05, '2024-01-04'), (9, 95.06, 10.64, 75.68, 42.92, '2024-01-19'), (10, 11.94, 39.82, 87.21, 56.64, '2024-01-15');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (11, 16.35, 26.57, 62.12, 36.26, '2024-01-24'), (12, 32.45, 89.1, 91.56, 97.03, '2024-01-10'), (13, 93.54, 53.68, 73.33, 17.3, '2024-01-03');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (14, 99.7, 13.49, 82.94, 60.17, '2024-01-28'), (15, 79.19, 11.77, 91.07, 73.05, '2024-01-21');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (16, 19.71, 25.23, 91.24, 32.4, '2024-01-04'), (17, 28.98, 87.26, 31.97, 87.68, '2024-01-08');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (18, 70.14, 54.47, 30.04, 22.28, '2024-01-03'), (19, 46.28, 4.97, 41.68, 32.36, '2024-01-19'), (20, 48.92, 32.07, 27.1, 8.38, '2024-01-11');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (21, 68.85, 27.54, 18.79, 24.32, '2024-01-02'), (22, 69.2, 71.76, 64.18, 83.24, '2024-01-25'), (23, 36.68, 42.33, 3.59, 13.79, '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (24, 64.82, 45.68, 87.44, 3.59, '2024-01-06');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (25, 65.7, 54.69, 14.62, 24.44, '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (26, 42.62, 6.87, 38.31, 49.28, '2024-01-22'), (27, 25.48, 49.82, 61.59, 70.31, '2024-01-15'), (28, 95.76, 79.24, 19.67, 49.91, '2024-01-28');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (29, 2.24, 93.79, 89.92, 21.8, '2024-01-11'), (30, 73.57, 51.09, 50.39, 94.3, '2024-01-14');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (31, 75.09, 69.22, 95.12, 88.18, '2024-01-24'), (32, 54.04, 18.84, 10.45, 80.37, '2024-01-26'), (33, 62.31, 55, 19.48, 19.07, '2024-01-07');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (34, 37.13, 45.49, 91.89, 18.79, '2024-01-21'), (35, 32.76, 45.42, 82.22, 26.75, '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (36, 82.86, 22.05, 55.96, 17.06, '2024-01-06');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (37, 70.74, 10.6, 78.3, 11.85, '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (38, 87.05, 6.13, 36.7, 43.22, '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (39, 23.8, 16.22, 96.06, 97.15, '2024-01-23');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 8, 's11', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (2, 68, 's27', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (3, 28, 's37', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (4, 73, 's61', 0), (5, 61, 's21', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (6, 23, 's10', 0), (7, 69, 's79', 1), (8, 66, 's59', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (9, 72, 's93', 0), (10, 65, 's10', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (11, 96, 's65', 0), (12, 6, 's79', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (13, 70, 's86', 0), (14, 93, 's14', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (15, 82, 's73', 0), (16, 91, 's45', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (17, 18, 's39', 0), (18, 70, 's13', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (19, 30, 's45', 0), (20, 5, 's98', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (21, 33, 's17', 1), (22, 95, 's79', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (23, 92, 's38', 1), (24, 93, 's77', 1), (25, 52, 's19', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (26, 45, 's71', 1), (27, 46, 's69', 0), (28, 8, 's66', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (29, 62, 's45', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (30, 29, 's23', 1), (31, 15, 's15', 0), (32, 36, 's7', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (33, 8, 's29', 1), (34, 62, 's83', 1), (35, 7, 's32', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (36, 74, 's36', 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (37, 5, 's27', 1), (38, 92, 's53', 0), (39, 22, 's0', 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (40, 56, 's10', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (40, 59.62, 31.75, 50.8, 62.63, '2024-01-03');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4) VALUES (41, 64.35, 74.47, 27.81, 54.67, '2024-01-26'), (42, 58.27, 97.31, 2.63, 79.33, '2024-01-03'), (43, 89.14, 30.72, 53.38, 1.23, '2024-01-06');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (1, 15, 0, 22.89, 25, 1), (2, 25, 1, 63.75, 79, 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (3, 21, 0, 89.39, 98, 0), (4, 57, 1, 88.05, 27, 1), (5, 69, 0, 96.49, 93, 0);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (6, 74, 1, 11.56, 98, 1);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` double NOT NULL,\n  `c3` float NOT NULL,\n  `c4` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c1_0` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` varchar(64) DEFAULT NULL,\n  `c2` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` decimal(12,2) DEFAULT NULL,\n  `c3` int NOT NULL,\n  `c4` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0012_019be1f3-d859-7422-87de-dd8c8d4d3a5e",
      "dir": "reports/case_0012_019be1f3-d859-7422-87de-dd8c8d4d3a5e",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:06:52+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "f8cbdf7921785bb8ddb19dbe85d0db857174db26",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2) WHERE ('s94' < 's89') ORDER BY t0.c1, (t0.c0 * cte_1.c1) LIMIT 10) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('s94' < 's89') THEN 1 ELSE 0 END),0) FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2)",
      "norec_predicate": "('s94' < 's89')",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2) WHERE ('s94' < 's89') ORDER BY t0.c1, (t0.c0 * cte_1.c1) LIMIT 10",
        "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT (CASE WHEN ('s94' < 's89') THEN 1 ELSE 0 END) AS b FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2)"
      ],
      "plan_replayer": "reports/case_0012_019be1f3-d859-7422-87de-dd8c8d4d3a5e/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2) WHERE ('s94' < 's89') ORDER BY t0.c1, (t0.c0 * cte_1.c1) LIMIT 10) q",
        "norec_predicate": "('s94' < 's89')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('s94' < 's89') THEN 1 ELSE 0 END),0) FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2)",
        "optimized_explain": "StreamAgg_41\t1.00\troot\t\tfuncs:count(1)->Column#44\n└─Projection_61\t1.00\troot\t\tshiro_fuzz_r11.t0.c1\n  └─TopN_44\t1.00\troot\t\tshiro_fuzz_r11.t0.c1, Column#47, offset:0, count:10\n    └─Projection_62\t1.00\troot\t\tshiro_fuzz_r11.t0.c0, shiro_fuzz_r11.t0.c1, shiro_fuzz_r11.t0.c1, Column#46, mul(cast(shiro_fuzz_r11.t0.c0, decimal(20,0) BINARY), shiro_fuzz_r11.t0.c1)->Column#47\n      └─StreamAgg_51\t1.00\troot\t\tfuncs:firstrow(shiro_fuzz_r11.t0.c0)->shiro_fuzz_r11.t0.c0, funcs:firstrow(shiro_fuzz_r11.t0.c1)->shiro_fuzz_r11.t0.c1, funcs:firstrow(shiro_fuzz_r11.t0.c1)->shiro_fuzz_r11.t0.c1, funcs:count(1)->Column#46\n        └─TableDual_57\t0.00\troot\t\trows:0\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT IFNULL(SUM(CASE WHEN ('s94' < 's89') THEN 1 ELSE 0 END),0) FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2) WHERE ('s94' < 's89') ORDER BY t0.c1, (t0.c0 * cte_1.c1) LIMIT 10) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_37\t1.00\troot\t\tifnull(Column#40, 0)->Column#41\n└─HashAgg_41\t1.00\troot\t\tfuncs:sum(0)->Column#40\n  └─HashJoin_52\t10000.00\troot\t\tleft outer join, left side:Projection_61, equal:[eq(Column#43, Column#44)]\n    ├─Projection_121(Build)\t1.00\troot\t\tcast(shiro_fuzz_r11.t1.c4, double BINARY)->Column#44\n    │ └─Limit_123\t1.00\troot\t\toffset:0, count:1\n    │   └─TableReader_130\t1.00\troot\t\tdata:Limit_129\n    │     └─Limit_129\t1.00\tcop[tikv]\t\toffset:0, count:1\n    │       └─Selection_128\t1.00\tcop[tikv]\t\tin(shiro_fuzz_r11.t1.c0, 68, 85, 43)\n    │         └─TableFullScan_127\t333.33\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n    └─Projection_61(Probe)\t10000.00\troot\t\tcast(shiro_fuzz_r11.t0.id, double BINARY)->Column#43\n      └─HashJoin_71\t10000.00\troot\t\tCARTESIAN right outer join, left side:IndexHashJoin_82, right cond:eq(shiro_fuzz_r11.t1.c6, 0)\n        ├─IndexHashJoin_82(Build)\t1.00\troot\t\tinner join, inner:IndexReader_110, outer key:shiro_fuzz_r11.t0.c1, inner key:shiro_fuzz_r11.t0.c1, equal cond:eq(shiro_fuzz_r11.t0.c1, shiro_fuzz_r11.t0.c1)\n        │ ├─Selection_91(Build)\t0.80\troot\t\tlt(shiro_fuzz_r11.t0.c1, 86.48), ne(shiro_fuzz_r11.t0.c1, 39.66), not(isnull(shiro_fuzz_r11.t0.c1))\n        │ │ └─Limit_94\t1.00\troot\t\toffset:0, count:6\n        │ │   └─IndexLookUp_102\t1.00\troot\t\t\n        │ │     ├─Selection_99(Build)\t6.66\tcop[tikv]\t\tne(shiro_fuzz_r11.t0.c1, 68.8)\n        │ │     │ └─IndexRangeScan_97\t10.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\trange:[57.01,57.01], keep order:false, stats:pseudo\n        │ │     └─Limit_101(Probe)\t1.00\tcop[tikv]\t\toffset:0, count:6\n        │ │       └─Selection_100\t1.00\tcop[tikv]\t\tge(shiro_fuzz_r11.t0.c0, 13), nulleq(shiro_fuzz_r11.t0.c0, 69)\n        │ │         └─TableRowIDScan_98\t6.66\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n        │ └─IndexReader_110(Probe)\t1.00\troot\t\tindex:Selection_109\n        │   └─Selection_109\t1.00\tcop[tikv]\t\tlt(shiro_fuzz_r11.t0.c1, 86.48), ne(shiro_fuzz_r11.t0.c1, 39.66), not(isnull(shiro_fuzz_r11.t0.c1))\n        │     └─IndexRangeScan_108\t2.80\tcop[tikv]\ttable:t0, index:idx_c1(c1)\trange: decided by [eq(shiro_fuzz_r11.t0.c1, shiro_fuzz_r11.t0.c1)], keep order:false, stats:pseudo\n        └─IndexReader_118(Probe)\t10000.00\troot\t\tindex:IndexFullScan_117\n          └─IndexFullScan_117\t10000.00\tcop[tikv]\ttable:t1, index:idx_c6(c6)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2) WHERE ('s94' < 's89') ORDER BY t0.c1, (t0.c0 * cte_1.c1) LIMIT 10;\nWITH cte_0 AS (SELECT t1.c3 AS c0, t1.c5 AS c1, t1.c4 AS c2 FROM t1 WHERE (t1.c0 IN (68, 85, 43)) LIMIT 1), cte_1 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (((t0.c0 <=> 69) AND (t0.c0 >= 13)) AND ((t0.c1 != 68.8) AND (t0.c1 <=> 57.01))) LIMIT 6) SELECT (CASE WHEN ('s94' < 's89') THEN 1 ELSE 0 END) AS b FROM t0 LEFT JOIN cte_1 ON (t0.c1 = cte_1.c1) RIGHT JOIN t1 ON ((cte_1.c1 < 86.48) AND ((t1.c6 = 0) AND (t0.c1 != 39.66))) LEFT JOIN cte_0 ON (t0.id = cte_0.c2);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n40\t21\t93.95\n\n-- t1\n1\t91\t2024-01-13 08:37:00\t62\t0\ts81\t2024-01-23\t0\n2\t87\t2024-01-17 08:26:00\t65\t0\ts59\t2024-01-13\t0\n3\t85\t2024-01-13 08:23:00\t35\t0\ts67\t2024-01-07\t1\n4\t49\t2024-01-23 08:36:00\t59\t0\ts74\t2024-01-08\t0\n5\t9\t2024-01-13 08:15:00\t5\t0\ts34\t2024-01-17\t0\n6\t23\t2024-01-10 08:15:00\t54\t1\ts12\t2024-01-18\t0\n7\t73\t2024-01-19 08:06:00\t46\t1\ts86\t2024-01-25\t0\n8\t0\t2024-01-05 08:51:00\t35\t1\ts4\t2024-01-18\t1\n9\t55\t2024-01-04 08:03:00\t46\t0\ts60\t2024-01-07\t1\n10\t76\t2024-01-26 08:19:00\t43\t1\ts25\t2024-01-12\t1\n11\t6\t2024-01-04 08:04:00\t5\t0\ts66\t2024-01-08\t1\n12\t95\t2024-01-19 08:25:00\t1\t1\ts87\t2024-01-02\t1\n13\t86\t2024-01-21 08:09:00\t21\t1\ts18\t2024-01-26\t1\n14\t17\t2024-01-07 08:58:00\t18\t0\ts13\t2024-01-07\t0\n15\t86\t2024-01-18 08:04:00\t95\t1\ts10\t2024-01-27\t0\n16\t33\t2024-01-04 08:39:00\t35\t0\ts53\t2024-01-08\t0\n17\t36\t2024-01-24 08:10:00\t32\t1\ts47\t2024-01-20\t1\n18\t34\t2024-01-26 08:52:00\t19\t1\ts50\t2024-01-18\t0\n19\t48\t2024-01-20 08:20:00\t68\t0\ts61\t2024-01-24\t0\n20\t36\t2024-01-21 08:20:00\t47\t1\ts1\t2024-01-23\t1\n21\t74\t2024-01-02 08:16:00\t61\t0\ts18\t2024-01-26\t0\n22\t50\t2024-01-04 08:04:00\t75\t0\ts32\t2024-01-03\t0\n23\t7\t2024-01-03 08:28:00\t38\t0\ts88\t2024-01-04\t0\n24\t53\t2024-01-07 08:31:00\t52\t1\ts24\t2024-01-15\t0\n25\t5\t2024-01-06 08:07:00\t35\t1\ts77\t2024-01-11\t1\n26\t33\t2024-01-03 08:08:00\t8\t1\ts62\t2024-01-07\t1\n27\t21\t2024-01-11 08:48:00\t50\t1\ts12\t2024-01-05\t1\n28\t3\t2024-01-03 08:28:00\t76\t0\ts17\t2024-01-09\t1\n29\t31\t2024-01-20 08:49:00\t64\t1\ts12\t2024-01-13\t0\n30\t5\t2024-01-09 08:02:00\t17\t0\ts8\t2024-01-07\t1\n31\t17\t2024-01-15 08:09:00\t35\t0\ts15\t2024-01-17\t0\n32\t99\t2024-01-05 08:52:00\t87\t1\ts60\t2024-01-03\t0\n33\t73\t2024-01-23 08:47:00\t79\t1\ts30\t2024-01-17\t1\n34\t57\t2024-01-07 08:30:00\t16\t0\ts18\t2024-01-06\t1\n35\t53\t2024-01-03 08:56:00\t31\t1\ts0\t2024-01-23\t0\n36\t71\t2024-01-14 08:50:00\t10\t1\ts27\t2024-01-07\t1\n37\t32\t2024-01-27 08:56:00\t36\t1\ts18\t2024-01-14\t0\n38\t50\t2024-01-07 08:32:00\t23\t1\ts73\t2024-01-21\t1\n39\t70\t2024-01-22 08:06:00\t82\t1\ts50\t2024-01-22\t0\n40\t33\t2024-01-25 08:17:00\t23\t0\ts88\t2024-01-22\t1\n41\t53\t2024-01-02 08:16:00\t2\t0\ts45\t2024-01-18\t0\n42\t77\t2024-01-15 08:23:00\t78\t1\ts22\t2024-01-06\t0\n43\t24\t2024-01-27 08:30:00\t75\t1\ts72\t2024-01-16\t0\n44\t10\t2024-01-18 08:38:00\t48\t0\ts94\t2024-01-18\t0\n45\t57\t2024-01-03 08:20:00\t66\t0\ts93\t2024-01-19\t0\n46\t14\t2024-01-10 08:55:00\t70\t1\ts25\t2024-01-03\t0\n47\t34\t2024-01-07 08:40:00\t98\t0\ts43\t2024-01-06\t1\n48\t45\t2024-01-19 08:10:00\t55\t0\ts84\t2024-01-19\t0\n49\t62\t2024-01-22 08:52:00\t86\t1\ts31\t2024-01-15\t1\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1) VALUES (1, 18, 7.01), (2, 29, 66.33);\nINSERT INTO t0 (id, c0, c1) VALUES (3, 66, 12.48), (4, 10, 98.47);\nINSERT INTO t0 (id, c0, c1) VALUES (5, 25, 74.72);\nINSERT INTO t0 (id, c0, c1) VALUES (6, 80, 29.12), (7, 12, 47.01);\nINSERT INTO t0 (id, c0, c1) VALUES (8, 41, 59.05), (9, 75, 56.64);\nINSERT INTO t0 (id, c0, c1) VALUES (10, 70, 78.7);\nINSERT INTO t0 (id, c0, c1) VALUES (11, 82, 93.48), (12, 72, 36.48), (13, 52, 16.1);\nINSERT INTO t0 (id, c0, c1) VALUES (14, 21, 62.31), (15, 22, 10.48);\nINSERT INTO t0 (id, c0, c1) VALUES (16, 91, 54.86);\nINSERT INTO t0 (id, c0, c1) VALUES (17, 80, 1.5), (18, 38, 28.48), (19, 59, 56.08);\nINSERT INTO t0 (id, c0, c1) VALUES (20, 22, 89.15), (21, 47, 72.01);\nINSERT INTO t0 (id, c0, c1) VALUES (22, 28, 57.79), (23, 69, 48.45);\nINSERT INTO t0 (id, c0, c1) VALUES (24, 84, 43.25), (25, 2, 66.05), (26, 54, 80.9);\nINSERT INTO t0 (id, c0, c1) VALUES (27, 43, 16.29), (28, 78, 72.96);\nINSERT INTO t0 (id, c0, c1) VALUES (29, 74, 84.74), (30, 20, 64.04);\nINSERT INTO t0 (id, c0, c1) VALUES (31, 51, 41.91);\nINSERT INTO t0 (id, c0, c1) VALUES (32, 78, 16.49), (33, 35, 58.14);\nINSERT INTO t0 (id, c0, c1) VALUES (34, 17, 41.32), (35, 80, 39.8), (36, 76, 43.21);\nINSERT INTO t0 (id, c0, c1) VALUES (37, 1, 74.4);\nINSERT INTO t0 (id, c0, c1) VALUES (38, 78, 19.86);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 91, '2024-01-13 08:37:00', 62, 0, 's81', '2024-01-23', 0), (2, 87, '2024-01-17 08:26:00', 65, 0, 's59', '2024-01-13', 0), (3, 85, '2024-01-13 08:23:00', 35, 0, 's67', '2024-01-07', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 49, '2024-01-23 08:36:00', 59, 0, 's74', '2024-01-08', 0), (5, 9, '2024-01-13 08:15:00', 5, 0, 's34', '2024-01-17', 0), (6, 23, '2024-01-10 08:15:00', 54, 1, 's12', '2024-01-18', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 73, '2024-01-19 08:06:00', 46, 1, 's86', '2024-01-25', 0), (8, 0, '2024-01-05 08:51:00', 35, 1, 's4', '2024-01-18', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 55, '2024-01-04 08:03:00', 46, 0, 's60', '2024-01-07', 1), (10, 76, '2024-01-26 08:19:00', 43, 1, 's25', '2024-01-12', 1), (11, 6, '2024-01-04 08:04:00', 5, 0, 's66', '2024-01-08', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 95, '2024-01-19 08:25:00', 1, 1, 's87', '2024-01-02', 1), (13, 86, '2024-01-21 08:09:00', 21, 1, 's18', '2024-01-26', 1), (14, 17, '2024-01-07 08:58:00', 18, 0, 's13', '2024-01-07', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, 86, '2024-01-18 08:04:00', 95, 1, 's10', '2024-01-27', 0), (16, 33, '2024-01-04 08:39:00', 35, 0, 's53', '2024-01-08', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (17, 36, '2024-01-24 08:10:00', 32, 1, 's47', '2024-01-20', 1), (18, 34, '2024-01-26 08:52:00', 19, 1, 's50', '2024-01-18', 0), (19, 48, '2024-01-20 08:20:00', 68, 0, 's61', '2024-01-24', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, 36, '2024-01-21 08:20:00', 47, 1, 's1', '2024-01-23', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (21, 74, '2024-01-02 08:16:00', 61, 0, 's18', '2024-01-26', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 50, '2024-01-04 08:04:00', 75, 0, 's32', '2024-01-03', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (23, 7, '2024-01-03 08:28:00', 38, 0, 's88', '2024-01-04', 0), (24, 53, '2024-01-07 08:31:00', 52, 1, 's24', '2024-01-15', 0), (25, 5, '2024-01-06 08:07:00', 35, 1, 's77', '2024-01-11', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (26, 33, '2024-01-03 08:08:00', 8, 1, 's62', '2024-01-07', 1), (27, 21, '2024-01-11 08:48:00', 50, 1, 's12', '2024-01-05', 1), (28, 3, '2024-01-03 08:28:00', 76, 0, 's17', '2024-01-09', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (29, 31, '2024-01-20 08:49:00', 64, 1, 's12', '2024-01-13', 0), (30, 5, '2024-01-09 08:02:00', 17, 0, 's8', '2024-01-07', 1), (31, 17, '2024-01-15 08:09:00', 35, 0, 's15', '2024-01-17', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 99, '2024-01-05 08:52:00', 87, 1, 's60', '2024-01-03', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (33, 73, '2024-01-23 08:47:00', 79, 1, 's30', '2024-01-17', 1), (34, 57, '2024-01-07 08:30:00', 16, 0, 's18', '2024-01-06', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 53, '2024-01-03 08:56:00', 31, 1, 's0', '2024-01-23', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, 71, '2024-01-14 08:50:00', 10, 1, 's27', '2024-01-07', 1), (37, 32, '2024-01-27 08:56:00', 36, 1, 's18', '2024-01-14', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, 50, '2024-01-07 08:32:00', 23, 1, 's73', '2024-01-21', 1), (39, 70, '2024-01-22 08:06:00', 82, 1, 's50', '2024-01-22', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, 33, '2024-01-25 08:17:00', 23, 0, 's88', '2024-01-22', 1), (41, 53, '2024-01-02 08:16:00', 2, 0, 's45', '2024-01-18', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, 77, '2024-01-15 08:23:00', 78, 1, 's22', '2024-01-06', 0), (43, 24, '2024-01-27 08:30:00', 75, 1, 's72', '2024-01-16', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 10, '2024-01-18 08:38:00', 48, 0, 's94', '2024-01-18', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (45, 57, '2024-01-03 08:20:00', 66, 0, 's93', '2024-01-19', 0), (46, 14, '2024-01-10 08:55:00', 70, 1, 's25', '2024-01-03', 0);\nINSERT INTO t0 (id, c0, c1) VALUES (39, 40, 66.24);\nINSERT INTO t0 (id, c0, c1) VALUES (40, 21, 93.95);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (47, 34, '2024-01-07 08:40:00', 98, 0, 's43', '2024-01-06', 1), (48, 45, '2024-01-19 08:10:00', 55, 0, 's84', '2024-01-19', 0), (49, 62, '2024-01-22 08:52:00', 86, 1, 's31', '2024-01-15', 1);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` bigint DEFAULT NULL,\n  `c1` decimal(12,2) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_id_0` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` varchar(64) NOT NULL,\n  `c5` date NOT NULL,\n  `c6` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c6` (`c6`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0011_019be1f3-cdac-75df-ad28-c23d628ceb32",
      "dir": "reports/case_0011_019be1f3-cdac-75df-ad28-c23d628ceb32",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:06:50+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "a4473771c1cdad8cf1fceccf421d584c9ebaafef",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=7",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2) WHERE ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) LIMIT 9) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) THEN 1 ELSE 0 END),0) FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2)",
      "norec_predicate": "((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00'))",
      "sql": [
        "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2) WHERE ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) LIMIT 9",
        "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT (CASE WHEN ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) THEN 1 ELSE 0 END) AS b FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2)"
      ],
      "plan_replayer": "reports/case_0011_019be1f3-cdac-75df-ad28-c23d628ceb32/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2) WHERE ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) LIMIT 9) q",
        "norec_predicate": "((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00'))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) THEN 1 ELSE 0 END),0) FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2)",
        "optimized_explain": "StreamAgg_31\t1.00\troot\t\tfuncs:count(1)->Column#27\n└─Limit_34\t1.00\troot\t\toffset:0, count:9\n  └─HashAgg_38\t1.00\troot\t\tfuncs:count(1)->Column#29\n    └─Selection_42\t8000.00\troot\t\tor(ge(shiro_fuzz_r10.t2.c5, 2024-01-02 12:53:00.000000), ne(shiro_fuzz_r10.t2.c3, 2024-01-15 08:53:00.000000))\n      └─HashJoin_54\t10000.00\troot\t\tright outer join, left side:Limit_55, equal:[eq(shiro_fuzz_r10.t2.c3, shiro_fuzz_r10.t2.c2)]\n        ├─Limit_55(Build)\t10.00\troot\t\toffset:0, count:10\n        │ └─TableReader_62\t10.00\troot\tpartition:all\tdata:Limit_61\n        │   └─Limit_61\t10.00\tcop[tikv]\t\toffset:0, count:10\n        │     └─Selection_60\t10.00\tcop[tikv]\t\tin(shiro_fuzz_r10.t2.c0, 51.58, 37.77)\n        │       └─TableFullScan_59\t5000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n        └─TableReader_67(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_66\n          └─TableFullScan_66\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT IFNULL(SUM(CASE WHEN ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) THEN 1 ELSE 0 END),0) FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2) WHERE ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) LIMIT 9) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_18\t1.00\troot\t\tifnull(Column#25, 0)->Column#26\n└─HashAgg_22\t1.00\troot\t\tfuncs:sum(Column#28)->Column#25\n  └─Projection_65\t10000.00\troot\t\tcast(case(or(ge(shiro_fuzz_r10.t2.c5, 2024-01-02 12:53:00.000000), ne(shiro_fuzz_r10.t2.c3, 2024-01-15 08:53:00.000000)), 1, 0), decimal(20,0) BINARY)->Column#28\n    └─HashJoin_36\t10000.00\troot\t\tright outer join, left side:Limit_37, equal:[eq(shiro_fuzz_r10.t2.c3, shiro_fuzz_r10.t2.c2)]\n      ├─Limit_37(Build)\t10.00\troot\t\toffset:0, count:10\n      │ └─TableReader_44\t10.00\troot\tpartition:all\tdata:Limit_43\n      │   └─Limit_43\t10.00\tcop[tikv]\t\toffset:0, count:10\n      │     └─Selection_42\t10.00\tcop[tikv]\t\tin(shiro_fuzz_r10.t2.c0, 51.58, 37.77)\n      │       └─TableFullScan_41\t5000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n      └─TableReader_49(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_48\n        └─TableFullScan_48\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2) WHERE ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) LIMIT 9;\nWITH cte_0 AS (SELECT t2.id AS c0, t2.c0 AS c1, t2.c3 AS c2 FROM t2 WHERE (t2.c0 IN (51.58, 37.77)) LIMIT 10) SELECT (CASE WHEN ((t2.c5 >= '2024-01-02 12:53:00') OR (cte_0.c2 != '2024-01-15 08:53:00')) THEN 1 ELSE 0 END) AS b FROM cte_0 RIGHT JOIN t2 ON (cte_0.c2 = t2.c2);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n48\t2024-01-28 08:53:00\t2024-01-23 08:02:00\ts86\t89\n51\t2024-01-18 08:30:00\t2024-01-12 08:00:00\ts58\t7\n49\t2024-01-24 08:06:00\t2024-01-09 08:58:00\ts3\t23\n52\t2024-01-27 08:11:00\t2024-01-22 08:33:00\ts32\t11\n47\t2024-01-08 08:44:00\t2024-01-08 08:25:00\ts21\t42\n50\t2024-01-03 08:34:00\t2024-01-03 08:49:00\ts51\t92\n\n-- t1\n48\t93.1\t17\t0\t77\t2024-01-21 08:31:00\n49\t26.26\t30\t0\t40\t2024-01-05 08:39:00\n50\t2.61\t3\t0\t91\t2024-01-18 08:35:00\n51\t95.98\t89\t1\t93\t2024-01-05 08:47:00\n52\t61.79\t13\t0\t61\t2024-01-05 08:17:00\n53\t59.97\t82\t1\t33\t2024-01-16 08:32:00\n54\t24.81\t32\t1\t86\t2024-01-17 08:36:00\n55\t81.13\t88\t1\t87\t2024-01-16 08:39:00\n\n-- t2\n2\t72.98\t2024-01-23 12:29:00\t2024-01-11 08:18:00\t2024-01-25 12:05:00\t2024-01-17 08:26:00\t2024-01-05 12:19:00\n5\t62.29\t2024-01-03 12:37:00\t2024-01-11 08:28:00\t2024-01-25 12:25:00\t2024-01-11 08:18:00\t2024-01-05 12:19:00\n1\t84.51\t2024-01-24 12:12:00\t2024-01-19 08:24:00\t2024-01-17 12:26:00\t2024-01-24 08:42:00\t2024-01-05 12:19:00\n4\t85.26\t2024-01-02 12:08:00\t2024-01-01 08:55:00\t2024-01-10 12:34:00\t2024-01-11 08:31:00\t2024-01-05 12:19:00\n7\t59.09\t2024-01-21 12:37:00\t2024-01-13 08:30:00\t2024-01-05 12:10:00\t2024-01-14 08:12:00\t2024-01-05 12:19:00\n3\t32.12\t2024-01-25 12:53:00\t2024-01-13 08:50:00\t2024-01-26 12:44:00\t2024-01-26 08:45:00\t2024-01-05 12:19:00\n6\t97.69\t2024-01-26 12:29:00\t2024-01-16 08:24:00\t2024-01-15 12:24:00\t2024-01-23 08:47:00\t2024-01-05 12:19:00\n\n-- t3\n1\t2024-01-04\t65.03\t59.55\t2024-01-09\n2\t2024-01-28\t45.10\t81.69\t2024-01-21\n3\t2024-01-07\t74.77\t77.82\t2024-01-25\n4\t2024-01-17\t34.31\t1.24\t2024-01-03\n5\t2024-01-10\t4.01\t85.82\t2024-01-27\n6\t2024-01-06\t39.94\t48.4\t2024-01-08\n7\t2024-01-01\t79.11\t98.01\t2024-01-04\n8\t2024-01-21\t47.11\t4.15\t2024-01-10\n9\t2024-01-24\t90.04\t92.34\t2024-01-02\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3) VALUES (1, '2024-01-03 08:35:00', '2024-01-18 08:06:00', 's26', 60);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (2, '2024-01-20 08:21:00', '2024-01-12 08:50:00', 's96', 44);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (3, '2024-01-05 08:24:00', '2024-01-10 08:00:00', 's16', 48);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (4, '2024-01-09 08:22:00', '2024-01-12 08:30:00', 's83', 52), (5, '2024-01-01 08:37:00', '2024-01-20 08:15:00', 's7', 75);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (6, '2024-01-25 08:44:00', '2024-01-08 08:53:00', 's29', 67), (7, '2024-01-09 08:28:00', '2024-01-04 08:48:00', 's98', 8);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (8, '2024-01-01 08:01:00', '2024-01-03 08:04:00', 's77', 35);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (9, '2024-01-11 08:58:00', '2024-01-24 08:24:00', 's4', 31), (10, '2024-01-09 08:22:00', '2024-01-28 08:34:00', 's3', 11), (11, '2024-01-16 08:45:00', '2024-01-17 08:57:00', 's65', 52);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (12, '2024-01-16 08:23:00', '2024-01-08 08:51:00', 's84', 13), (13, '2024-01-17 08:08:00', '2024-01-22 08:03:00', 's48', 7);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (14, '2024-01-28 08:56:00', '2024-01-19 08:32:00', 's20', 85);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (15, '2024-01-12 08:44:00', '2024-01-17 08:32:00', 's35', 28);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (16, '2024-01-08 08:05:00', '2024-01-17 08:46:00', 's67', 4), (17, '2024-01-18 08:21:00', '2024-01-09 08:09:00', 's90', 6), (18, '2024-01-12 08:07:00', '2024-01-16 08:56:00', 's59', 47);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (19, '2024-01-18 08:31:00', '2024-01-19 08:37:00', 's22', 22), (20, '2024-01-20 08:47:00', '2024-01-27 08:31:00', 's2', 20), (21, '2024-01-23 08:47:00', '2024-01-12 08:40:00', 's7', 68);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (22, '2024-01-04 08:45:00', '2024-01-16 08:39:00', 's29', 33);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (23, '2024-01-19 08:06:00', '2024-01-28 08:04:00', 's88', 76), (24, '2024-01-03 08:45:00', '2024-01-21 08:38:00', 's23', 65), (25, '2024-01-28 08:31:00', '2024-01-23 08:28:00', 's46', 37);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (26, '2024-01-27 08:44:00', '2024-01-25 08:44:00', 's0', 38), (27, '2024-01-27 08:54:00', '2024-01-08 08:33:00', 's83', 58), (28, '2024-01-19 08:51:00', '2024-01-26 08:19:00', 's55', 26);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (29, '2024-01-23 08:07:00', '2024-01-08 08:39:00', 's24', 90), (30, '2024-01-02 08:19:00', '2024-01-06 08:34:00', 's46', 70);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (31, '2024-01-11 08:18:00', '2024-01-25 08:14:00', 's43', 90);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (32, '2024-01-04 08:17:00', '2024-01-16 08:48:00', 's58', 38), (33, '2024-01-13 08:20:00', '2024-01-26 08:39:00', 's8', 78);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (34, '2024-01-24 08:32:00', '2024-01-09 08:25:00', 's76', 71);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (35, '2024-01-22 08:47:00', '2024-01-14 08:01:00', 's42', 21), (36, '2024-01-05 08:14:00', '2024-01-12 08:01:00', 's61', 53);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (1, 57.66, 60, 0, 48, '2024-01-17 08:24:00'), (2, 61.33, 74, 0, 54, '2024-01-17 08:50:00'), (3, 97.54, 63, 1, 64, '2024-01-19 08:52:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (4, 56.33, 80, 0, 96, '2024-01-16 08:05:00'), (5, 29.19, 40, 0, 81, '2024-01-22 08:02:00'), (6, 75.97, 96, 0, 63, '2024-01-15 08:49:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (7, 57.17, 54, 1, 59, '2024-01-16 08:51:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (8, 41.46, 54, 1, 13, '2024-01-21 08:39:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (9, 63.41, 38, 1, 55, '2024-01-13 08:22:00'), (10, 44.01, 48, 0, 24, '2024-01-27 08:47:00'), (11, 46.84, 99, 1, 96, '2024-01-15 08:22:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (12, 14.7, 73, 1, 73, '2024-01-22 08:16:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (13, 22.21, 22, 0, 40, '2024-01-12 08:20:00'), (14, 76.64, 7, 1, 0, '2024-01-23 08:43:00'), (15, 20.84, 94, 1, 64, '2024-01-03 08:26:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (16, 85.71, 7, 1, 58, '2024-01-02 08:52:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (17, 49.53, 78, 1, 61, '2024-01-24 08:32:00'), (18, 66.32, 56, 1, 22, '2024-01-28 08:54:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (19, 58.21, 43, 0, 13, '2024-01-22 08:11:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (20, 78.04, 38, 1, 91, '2024-01-13 08:24:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (21, 85.14, 28, 0, 76, '2024-01-03 08:16:00'), (22, 25.38, 37, 1, 27, '2024-01-27 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (23, 25.61, 33, 1, 49, '2024-01-12 08:04:00'), (24, 42.45, 97, 0, 89, '2024-01-27 08:56:00'), (25, 53.63, 15, 0, 62, '2024-01-14 08:37:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (26, 98.23, 16, 1, 61, '2024-01-07 08:52:00'), (27, 81.66, 31, 1, 85, '2024-01-01 08:48:00'), (28, 46.87, 59, 1, 96, '2024-01-02 08:32:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (29, 61.59, 56, 1, 8, '2024-01-12 08:23:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (30, 5.6, 73, 1, 66, '2024-01-02 08:15:00'), (31, 60.96, 57, 0, 84, '2024-01-23 08:27:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (32, 64.25, 18, 0, 99, '2024-01-18 08:14:00'), (33, 97.43, 58, 1, 63, '2024-01-23 08:56:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (34, 16.11, 99, 1, 89, '2024-01-28 08:07:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (35, 42.82, 56, 1, 80, '2024-01-16 08:28:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (36, 20.66, 46, 0, 74, '2024-01-12 08:48:00'), (37, 38.4, 26, 1, 77, '2024-01-20 08:25:00'), (38, 32.48, 50, 1, 10, '2024-01-26 08:31:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (37, '2024-01-22 08:36:00', '2024-01-03 08:12:00', 's59', 51);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (39, 91.97, 6, 1, 36, '2024-01-23 08:40:00'), (40, 55.38, 35, 1, 66, '2024-01-27 08:39:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (41, 27.54, 92, 0, 23, '2024-01-04 08:04:00'), (42, 15.4, 6, 0, 22, '2024-01-01 08:20:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (38, '2024-01-24 08:12:00', '2024-01-01 08:28:00', 's60', 75), (39, '2024-01-17 08:33:00', '2024-01-17 08:29:00', 's29', 26);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (43, 38.11, 79, 0, 66, '2024-01-21 08:48:00'), (44, 59.35, 42, 1, 41, '2024-01-03 08:40:00'), (45, 64.88, 7, 1, 78, '2024-01-18 08:02:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (46, 38.06, 62, 0, 24, '2024-01-16 08:10:00'), (47, 96.76, 69, 1, 3, '2024-01-19 08:44:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (40, '2024-01-11 08:47:00', '2024-01-03 08:15:00', 's75', 67), (41, '2024-01-01 08:27:00', '2024-01-16 08:14:00', 's36', 31), (42, '2024-01-14 08:24:00', '2024-01-08 08:33:00', 's72', 80);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (43, '2024-01-19 08:47:00', '2024-01-03 08:03:00', 's63', 31), (44, '2024-01-07 08:38:00', '2024-01-22 08:36:00', 's58', 76);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (48, 93.1, 17, 0, 77, '2024-01-21 08:31:00'), (49, 26.26, 30, 0, 40, '2024-01-05 08:39:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (45, '2024-01-12 08:37:00', '2024-01-07 08:21:00', 's29', 77), (46, '2024-01-26 08:20:00', '2024-01-04 08:05:00', 's61', 66);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (50, 2.61, 3, 0, 91, '2024-01-18 08:35:00'), (51, 95.98, 89, 1, 93, '2024-01-05 08:47:00'), (52, 61.79, 13, 0, 61, '2024-01-05 08:17:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 84.51, '2024-01-16 12:49:00', '2024-01-19 08:24:00', '2024-01-17 12:26:00', '2024-01-24 08:42:00', '2024-01-03 12:55:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (2, 72.98, '2024-01-23 12:29:00', '2024-01-11 08:18:00', '2024-01-25 12:05:00', '2024-01-17 08:26:00', '2024-01-28 12:14:00'), (3, 32.12, '2024-01-25 12:53:00', '2024-01-13 08:50:00', '2024-01-26 12:44:00', '2024-01-26 08:45:00', '2024-01-07 12:03:00'), (4, 85.26, '2024-01-02 12:08:00', '2024-01-01 08:55:00', '2024-01-10 12:34:00', '2024-01-11 08:31:00', '2024-01-16 12:12:00');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (1, '2024-01-04', 65.03, 59.55, '2024-01-09'), (2, '2024-01-28', 45.1, 81.69, '2024-01-21');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (3, '2024-01-07', 74.77, 77.82, '2024-01-25'), (4, '2024-01-17', 34.31, 1.24, '2024-01-03');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 62.29, '2024-01-03 12:37:00', '2024-01-11 08:28:00', '2024-01-25 12:25:00', '2024-01-11 08:18:00', '2024-01-08 12:52:00'), (6, 97.69, '2024-01-26 12:29:00', '2024-01-16 08:24:00', '2024-01-15 12:24:00', '2024-01-23 08:47:00', '2024-01-21 12:00:00'), (7, 59.09, '2024-01-21 12:37:00', '2024-01-13 08:30:00', '2024-01-05 12:10:00', '2024-01-14 08:12:00', '2024-01-28 12:49:00');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (5, '2024-01-10', 4.01, 85.82, '2024-01-27'), (6, '2024-01-06', 39.94, 48.4, '2024-01-08'), (7, '2024-01-01', 79.11, 98.01, '2024-01-04');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (8, '2024-01-21', 47.11, 4.15, '2024-01-10'), (9, '2024-01-24', 90.04, 92.34, '2024-01-02');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (47, '2024-01-08 08:44:00', '2024-01-08 08:25:00', 's21', 42), (48, '2024-01-28 08:53:00', '2024-01-23 08:02:00', 's86', 89), (49, '2024-01-24 08:06:00', '2024-01-09 08:58:00', 's3', 23);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (53, 59.97, 82, 1, 33, '2024-01-16 08:32:00'), (54, 24.81, 32, 1, 86, '2024-01-17 08:36:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (50, '2024-01-03 08:34:00', '2024-01-03 08:49:00', 's51', 92), (51, '2024-01-18 08:30:00', '2024-01-12 08:00:00', 's58', 7), (52, '2024-01-27 08:11:00', '2024-01-22 08:33:00', 's32', 11);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4) VALUES (55, 81.13, 88, 1, 87, '2024-01-16 08:39:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` varchar(64) NOT NULL,\n  `c3` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_id_1` (`id`),\n  KEY `idx_c0_3` (`c0`),\n  KEY `idx_c1_4` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` int NOT NULL,\n  `c2` tinyint(1) NOT NULL,\n  `c3` bigint NOT NULL,\n  `c4` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c0_0` (`c0`),\n  KEY `idx_id_2` (`id`),\n  KEY `idx_c3_5` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) DEFAULT NULL,\n  `c1` datetime DEFAULT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` datetime NOT NULL,\n  `c4` timestamp NOT NULL,\n  `c5` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` decimal(12,2) DEFAULT NULL,\n  `c2` float NOT NULL,\n  `c3` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0010_019be1f3-8680-7cb2-8ee7-5c6a5171ee97",
      "dir": "reports/case_0010_019be1f3-8680-7cb2-8ee7-5c6a5171ee97",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:06:32+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "ed682ae91c09e7a51e56753b45f382e035303dd5",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t1.c2) AS sum1 FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9))) WHERE (t1.id IN (44)) ORDER BY (t1.c2 * 21)) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t1.id IN (44)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9)))",
      "norec_predicate": "(t1.id IN (44))",
      "sql": [
        "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t1.c2) AS sum1 FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9))) WHERE (t1.id IN (44)) ORDER BY (t1.c2 * 21)",
        "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT (CASE WHEN (t1.id IN (44)) THEN 1 ELSE 0 END) AS b FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9)))"
      ],
      "plan_replayer": "reports/case_0010_019be1f3-8680-7cb2-8ee7-5c6a5171ee97/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t1.c2) AS sum1 FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9))) WHERE (t1.id IN (44)) ORDER BY (t1.c2 * 21)) q",
        "norec_predicate": "(t1.id IN (44))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t1.id IN (44)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9)))",
        "optimized_explain": "StreamAgg_36\t1.00\troot\t\tfuncs:count(1)->Column#27\n└─StreamAgg_42\t1.00\troot\t\tfuncs:count(1)->Column#32\n  └─HashJoin_57\t0.00\troot\t\tCARTESIAN inner join, other cond:or(and(ne(shiro_fuzz_r9.t1.c2, 15.47), gt(shiro_fuzz_r9.t4.c0, \"s94\")), lt(shiro_fuzz_r9.t4.id, 15))\n    ├─HashJoin_77(Build)\t0.00\troot\t\tCARTESIAN inner join\n    │ ├─Projection_78(Build)\t0.00\troot\t\t0->Column#33\n    │ │ └─TableDual_80\t0.00\troot\t\trows:0\n    │ └─TableReader_86(Probe)\t1.00\troot\t\tdata:Selection_85\n    │   └─Selection_85\t1.00\tcop[tikv]\t\tge(shiro_fuzz_r9.t4.c1, 55.24), gt(shiro_fuzz_r9.t4.c4, 1), nulleq(shiro_fuzz_r9.t4.c5, 2024-01-05 08:48:00.000000), or(gt(shiro_fuzz_r9.t4.c0, \"s94\"), lt(shiro_fuzz_r9.t4.id, 15))\n    │     └─TableFullScan_84\t10000.00\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n    └─Point_Get_91(Probe)\t1.00\troot\ttable:t1\thandle:44\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t1.id IN (44)) THEN 1 ELSE 0 END),0) FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9)))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t1.c2) AS sum1 FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9))) WHERE (t1.id IN (44)) ORDER BY (t1.c2 * 21)) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_24\t1.00\troot\t\tifnull(Column#23, 0)->Column#24\n└─StreamAgg_31\t1.00\troot\t\tfuncs:sum(Column#30)->Column#23\n  └─Projection_89\t0.00\troot\t\tcast(case(eq(shiro_fuzz_r9.t1.id, 44), 1, 0), decimal(20,0) BINARY)->Column#30\n    └─HashJoin_48\t0.00\troot\t\tCARTESIAN inner join, other cond:or(and(ne(shiro_fuzz_r9.t1.c2, 15.47), gt(shiro_fuzz_r9.t4.c0, \"s94\")), lt(shiro_fuzz_r9.t4.id, 15))\n      ├─HashJoin_68(Build)\t0.00\troot\t\tCARTESIAN inner join\n      │ ├─Projection_69(Build)\t0.00\troot\t\t0->Column#29\n      │ │ └─TableDual_71\t0.00\troot\t\trows:0\n      │ └─TableReader_77(Probe)\t1.00\troot\t\tdata:Selection_76\n      │   └─Selection_76\t1.00\tcop[tikv]\t\tge(shiro_fuzz_r9.t4.c1, 55.24), gt(shiro_fuzz_r9.t4.c4, 1), nulleq(shiro_fuzz_r9.t4.c5, 2024-01-05 08:48:00.000000), or(gt(shiro_fuzz_r9.t4.c0, \"s94\"), lt(shiro_fuzz_r9.t4.id, 15))\n      │     └─TableFullScan_75\t10000.00\tcop[tikv]\ttable:t4\tkeep order:false, stats:pseudo\n      └─IndexReader_85(Probe)\t10000.00\troot\t\tindex:IndexFullScan_84\n        └─IndexFullScan_84\t10000.00\tcop[tikv]\ttable:t1, index:idx_c2(c2)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t1.c2) AS sum1 FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9))) WHERE (t1.id IN (44)) ORDER BY (t1.c2 * 21);\nWITH cte_0 AS (SELECT t1.id AS c0, t1.c0 AS c1, t1.c2 AS c2 FROM t1 WHERE ('2024-01-06' <= '2024-01-04') LIMIT 9) SELECT (CASE WHEN (t1.id IN (44)) THEN 1 ELSE 0 END) AS b FROM t4 JOIN t1 ON (((t4.c1 >= 55.24) AND (t4.c5 <=> '2024-01-05 08:48:00')) AND (t4.c4 > 1)) JOIN cte_0 ON (((t1.c2 != 15.47) AND (t4.c0 > 's94')) OR ((t4.id < 15) AND (1 < 9)));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n49\t99\ts72\t28.11\t2024-01-21 12:32:00\t2024-01-05 08:01:00\ts96\t29.58\n50\t78\ts90\t74.64\t2024-01-19 12:16:00\t2024-01-28 08:26:00\ts26\t98.42\n48\t86\ts57\t8.89\t2024-01-10 12:32:00\t2024-01-12 08:39:00\ts4\t9.91\n\n-- t1\n31\ts8\t2024-01-28\t99.45\n32\ts8\t2024-01-27\t32.64\n33\ts8\t2024-01-28\t7.73\n42\ts95\t2024-01-17\t58.42\n43\ts44\t2024-01-15\t4.69\n44\ts19\t2024-01-19\t87.62\n45\ts80\t2024-01-28\t47.01\n46\ts26\t2024-01-24\t96.91\n47\ts95\t2024-01-16\t28.40\n48\ts9\t2024-01-14\t45.92\n49\ts49\t2024-01-04\t66.23\n50\ts10\t2024-01-11\t91.78\n51\ts62\t2024-01-13\t22.82\n52\ts11\t2024-01-04\t46.96\n53\ts14\t2024-01-18\t62.92\n54\ts34\t2024-01-14\t33.32\n55\ts37\t2024-01-21\t47.86\n56\ts70\t2024-01-22\t41.14\n57\ts47\t2024-01-05\t89.75\n58\ts69\t2024-01-13\t88.43\n59\ts8\t2024-01-20\t51.01\n\n-- t2\n3\t2024-01-25 12:11:00\t2024-01-13 08:02:00\n6\t2024-01-26 12:35:00\t2024-01-13 08:12:00\n9\t2024-01-13 12:36:00\t2024-01-03 08:36:00\n12\t2024-01-06 12:46:00\t2024-01-11 08:38:00\n1\t2024-01-24 12:25:00\t2024-01-13 08:02:00\n4\t2024-01-24 12:25:00\t2024-01-13 08:02:00\n7\t2024-01-16 12:15:00\t2024-01-13 08:12:00\n10\t2024-01-22 12:01:00\t2024-01-02 08:14:00\n13\t2024-01-27 12:10:00\t2024-01-12 08:32:00\n2\t2024-01-24 12:25:00\t2024-01-13 08:02:00\n5\t2024-01-27 12:03:00\t2024-01-13 08:02:00\n8\t2024-01-19 12:54:00\t2024-01-05 08:03:00\n11\t2024-01-19 12:38:00\t2024-01-26 08:27:00\n14\t2024-01-25 12:14:00\t2024-01-04 08:53:00\n\n-- t3\n\n-- t4\n21\ts97\t30.76\t45\ts78\t1\t2024-01-11 08:05:00\n22\ts85\t46.01\t64\ts11\t1\t2024-01-08 08:10:00\n23\ts53\t96.7\t7\ts3\t0\t2024-01-16 08:37:00\n\n-- t5\n5\t2024-01-22 12:03:00\t0\t53.46\t56.03\t2024-01-14\n9\t2024-01-23 12:36:00\t0\t17.9\t86.30\t2024-01-14\n14\t2024-01-25 12:43:00\t0\t24.81\t39.10\t2024-01-25\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 39, 's26', 34.31, '2024-01-16 12:19:00', '2024-01-15 08:00:00', 's3', 81.59), (2, 94, 's96', 79.15, '2024-01-18 12:36:00', '2024-01-27 08:16:00', 's5', 56.65);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, 5, 's12', 90.6, '2024-01-24 12:32:00', '2024-01-16 08:13:00', 's12', 74.26), (4, 22, 's62', 48.69, '2024-01-26 12:57:00', '2024-01-08 08:36:00', 's42', 64.79), (5, 34, 's11', 28.26, '2024-01-28 12:39:00', '2024-01-12 08:58:00', 's74', 18.93);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (6, 24, 's52', 52.85, '2024-01-08 12:54:00', '2024-01-02 08:24:00', 's32', 38.13), (7, 78, 's10', 35.39, '2024-01-25 12:43:00', '2024-01-08 08:58:00', 's33', 39.9);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, 44, 's67', 4.28, '2024-01-10 12:06:00', '2024-01-07 08:11:00', 's96', 31.37);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 80, 's23', 7.06, '2024-01-08 12:14:00', '2024-01-27 08:21:00', 's85', 50.08), (10, 56, 's19', 82.43, '2024-01-27 12:53:00', '2024-01-16 08:41:00', 's53', 94.5);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (11, 36, 's44', 89.31, '2024-01-18 12:51:00', '2024-01-01 08:51:00', 's30', 17.32);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 43, 's38', 50.79, '2024-01-05 12:52:00', '2024-01-02 08:57:00', 's90', 65.09), (13, 54, 's76', 39.73, '2024-01-27 12:18:00', '2024-01-15 08:13:00', 's53', 4.85), (14, 34, 's51', 14.68, '2024-01-17 12:28:00', '2024-01-12 08:40:00', 's31', 9.31);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, 67, 's2', 2.91, '2024-01-01 12:31:00', '2024-01-13 08:45:00', 's38', 91.29), (16, 83, 's9', 89.38, '2024-01-27 12:22:00', '2024-01-28 08:47:00', 's25', 62.92), (17, 31, 's81', 12.29, '2024-01-13 12:50:00', '2024-01-22 08:06:00', 's92', 81.74);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (18, 3, 's80', 91.81, '2024-01-27 12:16:00', '2024-01-02 08:01:00', 's11', 13.56);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 10, 's44', 45.99, '2024-01-16 12:10:00', '2024-01-05 08:24:00', 's68', 95.82);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, 16, 's25', 96.3, '2024-01-09 12:48:00', '2024-01-05 08:20:00', 's9', 45.02), (21, 87, 's66', 48.44, '2024-01-25 12:41:00', '2024-01-09 08:01:00', 's68', 62.54);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 85, 's58', 83.51, '2024-01-10 12:34:00', '2024-01-18 08:27:00', 's65', 85.17), (23, 11, 's37', 24.64, '2024-01-25 12:41:00', '2024-01-18 08:43:00', 's34', 58.49);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (24, 17, 's14', 55.5, '2024-01-23 12:27:00', '2024-01-09 08:05:00', 's73', 60.08);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (25, 93, 's68', 41.15, '2024-01-27 12:53:00', '2024-01-12 08:29:00', 's90', 56.36), (26, 4, 's14', 90.31, '2024-01-24 12:19:00', '2024-01-05 08:26:00', 's61', 45.89), (27, 0, 's3', 55.57, '2024-01-12 12:28:00', '2024-01-06 08:43:00', 's11', 85.29);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, 51, 's12', 7.78, '2024-01-26 12:00:00', '2024-01-13 08:50:00', 's6', 38.98);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (29, 50, 's83', 9.1, '2024-01-11 12:31:00', '2024-01-25 08:31:00', 's23', 79.48);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (30, 88, 's14', 13.4, '2024-01-14 12:50:00', '2024-01-02 08:22:00', 's36', 18.02), (31, 19, 's7', 90.55, '2024-01-11 12:57:00', '2024-01-08 08:04:00', 's48', 12.83);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, 53, 's3', 32.81, '2024-01-03 12:15:00', '2024-01-13 08:07:00', 's80', 36.48), (33, 80, 's6', 60.85, '2024-01-11 12:46:00', '2024-01-18 08:36:00', 's59', 36.85);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (34, 96, 's7', 3.94, '2024-01-16 12:28:00', '2024-01-26 08:14:00', 's55', 59.22);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (35, 21, 's45', 94.67, '2024-01-02 12:12:00', '2024-01-10 08:45:00', 's24', 53.77), (36, 70, 's14', 43.77, '2024-01-05 12:19:00', '2024-01-24 08:44:00', 's97', 67.49);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 's1', '2024-01-18', 29.3), (2, 's49', '2024-01-19', 46.74);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (3, 's25', '2024-01-18', 95.63), (4, 's59', '2024-01-18', 58.39);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (5, 's70', '2024-01-06', 90.14), (6, 's67', '2024-01-16', 93.35);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (7, 's69', '2024-01-25', 25.99), (8, 's1', '2024-01-08', 2.65), (9, 's8', '2024-01-23', 51.12);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (10, 's2', '2024-01-11', 67.71), (11, 's7', '2024-01-23', 6.58);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (12, 's4', '2024-01-23', 4.1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (13, 's45', '2024-01-10', 71.59);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (14, 's81', '2024-01-01', 64.2), (15, 's58', '2024-01-12', 25.79);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (16, 's38', '2024-01-03', 90.04), (17, 's86', '2024-01-18', 17.23);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (18, 's15', '2024-01-15', 87.38), (19, 's84', '2024-01-23', 94.78);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (20, 's57', '2024-01-15', 96.48), (21, 's62', '2024-01-11', 71.85);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (22, 's86', '2024-01-14', 13.99), (23, 's71', '2024-01-12', 22.7), (24, 's90', '2024-01-01', 33.55);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (25, 's74', '2024-01-02', 57.64), (26, 's10', '2024-01-23', 23.01);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (27, 's41', '2024-01-01', 55.87);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (28, 's76', '2024-01-23', 57.69), (29, 's20', '2024-01-21', 5.29);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (30, 's96', '2024-01-08', 0.04), (31, 's72', '2024-01-28', 99.45), (32, 's35', '2024-01-27', 32.64);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (33, 's16', '2024-01-28', 7.73), (34, 's35', '2024-01-09', 10.8), (35, 's66', '2024-01-12', 81.09);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (36, 's2', '2024-01-16', 13.91);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (37, 's83', '2024-01-02', 33.95);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (38, 's94', '2024-01-21', 96.96);\nINSERT INTO t2 (id, c0, c1) VALUES (1, '2024-01-16 12:40:00', '2024-01-11 08:50:00'), (2, '2024-01-14 12:24:00', '2024-01-28 08:33:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 53, '2024-01-28', '2024-01-20', 39, '2024-01-10 12:57:00', 36, '2024-01-20 08:57:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (39, 's78', '2024-01-18', 93.11), (40, 's99', '2024-01-19', 1.91);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, 1, 's20', 17.36, '2024-01-10 12:30:00', '2024-01-20 08:32:00', 's96', 89.96);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (41, 's4', '2024-01-09', 32.12);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, 59, 's71', 57.82, '2024-01-21 12:39:00', '2024-01-07 08:56:00', 's34', 14.95);\nINSERT INTO t2 (id, c0, c1) VALUES (3, '2024-01-25 12:11:00', '2024-01-03 08:18:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 's88', 43.39, 0, 's14', 0, '2024-01-20 08:46:00'), (2, 's94', 7.55, 52, 's93', 0, '2024-01-28 08:21:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, 45, '2024-01-16', '2024-01-06', 56, '2024-01-23 12:00:00', 35, '2024-01-19 08:05:00'), (3, 98, '2024-01-21', '2024-01-28', 20, '2024-01-13 12:46:00', 72, '2024-01-12 08:07:00');\nINSERT INTO t2 (id, c0, c1) VALUES (4, '2024-01-10 12:35:00', '2024-01-12 08:36:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 's28', 17.37, 29, 's43', 1, '2024-01-12 08:05:00'), (4, 's36', 93.44, 37, 's62', 0, '2024-01-27 08:30:00'), (5, 's47', 13.28, 52, 's40', 1, '2024-01-20 08:48:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 85, '2024-01-26', '2024-01-17', 41, '2024-01-18 12:35:00', 7, '2024-01-09 08:08:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 's38', 32.25, 12, 's10', 0, '2024-01-25 08:12:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (42, 's95', '2024-01-17', 58.42), (43, 's44', '2024-01-15', 4.69), (44, 's19', '2024-01-19', 87.62);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (1, '2024-01-23 12:11:00', 0, 79.6, 62.98, '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, 18, 's34', 26.64, '2024-01-28 12:51:00', '2024-01-22 08:20:00', 's51', 50.39), (40, 95, 's42', 99.04, '2024-01-13 12:18:00', '2024-01-26 08:26:00', 's93', 6.42);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (2, '2024-01-26 12:44:00', 0, 15.29, 28.83, '2024-01-07'), (3, '2024-01-27 12:45:00', 1, 9.78, 5.6, '2024-01-15'), (4, '2024-01-10 12:38:00', 0, 15.88, 90.76, '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (45, 's80', '2024-01-28', 47.01), (46, 's26', '2024-01-24', 96.91), (47, 's95', '2024-01-16', 28.4);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 's91', 82.05, 44, 's1', 0, '2024-01-11 08:13:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (48, 's9', '2024-01-14', 45.92);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (41, 51, 's90', 9.22, '2024-01-21 12:32:00', '2024-01-06 08:36:00', 's39', 53.89), (42, 34, 's27', 53.06, '2024-01-01 12:38:00', '2024-01-22 08:15:00', 's41', 91.71);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (5, '2024-01-22 12:03:00', 0, 52.46, 56.03, '2024-01-14');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (6, '2024-01-25 12:30:00', 0, 55.54, 20.11, '2024-01-27'), (7, '2024-01-25 12:23:00', 0, 91.59, 84.35, '2024-01-08');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (43, 66, 's40', 55.28, '2024-01-09 12:07:00', '2024-01-13 08:55:00', 's52', 8.45);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (8, '2024-01-03 12:41:00', 1, 91.02, 63.14, '2024-01-20');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (9, '2024-01-23 12:36:00', 0, 17.9, 86.3, '2024-01-14'), (10, '2024-01-12 12:08:00', 0, 46.91, 14.23, '2024-01-08'), (11, '2024-01-11 12:54:00', 0, 64.38, 6.89, '2024-01-03');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, 88, '2024-01-12', '2024-01-11', 14, '2024-01-24 12:00:00', 94, '2024-01-27 08:40:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 's32', 2.25, 0, 's34', 0, '2024-01-10 08:18:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (9, 's61', 26.49, 23, 's61', 1, '2024-01-25 08:15:00'), (10, 's31', 73.35, 1, 's19', 1, '2024-01-09 08:37:00'), (11, 's75', 17.75, 21, 's53', 0, '2024-01-07 08:47:00');\nINSERT INTO t2 (id, c0, c1) VALUES (5, '2024-01-27 12:03:00', '2024-01-05 08:54:00'), (6, '2024-01-26 12:35:00', '2024-01-10 08:10:00'), (7, '2024-01-16 12:15:00', '2024-01-06 08:06:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (49, 's49', '2024-01-04', 66.23), (50, 's10', '2024-01-11', 91.78), (51, 's62', '2024-01-13', 22.82);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (6, 84, '2024-01-25', '2024-01-02', 88, '2024-01-19 12:37:00', 80, '2024-01-04 08:22:00');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (12, '2024-01-13 12:31:00', 0, 20.35, 50.43, '2024-01-23');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 7, '2024-01-17', '2024-01-07', 68, '2024-01-19 12:54:00', 28, '2024-01-23 08:44:00'), (8, 15, '2024-01-15', '2024-01-19', 39, '2024-01-07 12:08:00', 28, '2024-01-11 08:35:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 's5', 95.5, 76, 's41', 1, '2024-01-14 08:57:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 's67', 11.17, 85, 's3', 0, '2024-01-20 08:32:00'), (14, 's35', 7.89, 35, 's73', 1, '2024-01-13 08:34:00'), (15, 's10', 62.01, 11, 's25', 0, '2024-01-10 08:16:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 37, 's52', 78.45, '2024-01-25 12:36:00', '2024-01-21 08:05:00', 's89', 4.83), (45, 49, 's74', 68.71, '2024-01-11 12:57:00', '2024-01-15 08:36:00', 's76', 71.66);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 's8', 36.65, 92, 's5', 1, '2024-01-27 08:36:00');\nINSERT INTO t2 (id, c0, c1) VALUES (8, '2024-01-19 12:54:00', '2024-01-05 08:03:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (52, 's11', '2024-01-04', 46.96), (53, 's14', '2024-01-18', 62.92);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (46, 28, 's23', 15.27, '2024-01-21 12:17:00', '2024-01-07 08:02:00', 's61', 93.69), (47, 79, 's88', 87.8, '2024-01-13 12:26:00', '2024-01-07 08:23:00', 's44', 96.39);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 72, '2024-01-05', '2024-01-19', 16, '2024-01-20 12:37:00', 99, '2024-01-20 08:34:00'), (10, 7, '2024-01-21', '2024-01-03', 29, '2024-01-11 12:58:00', 67, '2024-01-08 08:24:00'), (11, 68, '2024-01-26', '2024-01-12', 59, '2024-01-17 12:02:00', 63, '2024-01-27 08:07:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 67, '2024-01-01', '2024-01-24', 81, '2024-01-04 12:46:00', 55, '2024-01-03 08:23:00'), (13, 86, '2024-01-28', '2024-01-12', 79, '2024-01-08 12:31:00', 62, '2024-01-15 08:44:00'), (14, 99, '2024-01-11', '2024-01-11', 65, '2024-01-03 12:46:00', 52, '2024-01-02 08:01:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, 44, '2024-01-25', '2024-01-15', 95, '2024-01-25 12:14:00', 43, '2024-01-27 08:58:00'), (16, 73, '2024-01-17', '2024-01-05', 81, '2024-01-13 12:37:00', 38, '2024-01-11 08:02:00'), (17, 88, '2024-01-16', '2024-01-25', 61, '2024-01-19 12:58:00', 83, '2024-01-16 08:51:00');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (13, '2024-01-05 12:25:00', 1, 26.15, 7.43, '2024-01-16'), (14, '2024-01-25 12:43:00', 0, 24.81, 39.1, '2024-01-25'), (15, '2024-01-15 12:48:00', 0, 58.06, 53.58, '2024-01-01');\nINSERT INTO t2 (id, c0, c1) VALUES (9, '2024-01-13 12:36:00', '2024-01-03 08:36:00'), (10, '2024-01-22 12:01:00', '2024-01-02 08:14:00'), (11, '2024-01-19 12:38:00', '2024-01-26 08:27:00');\nINSERT INTO t2 (id, c0, c1) VALUES (12, '2024-01-06 12:46:00', '2024-01-11 08:38:00'), (13, '2024-01-27 12:10:00', '2024-01-12 08:32:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (17, 's39', 84.2, 30, 's71', 1, '2024-01-19 08:40:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (48, 85, 's57', 8.89, '2024-01-10 12:32:00', '2024-01-12 08:39:00', 's4', 9.91), (49, 98, 's72', 28.11, '2024-01-21 12:32:00', '2024-01-05 08:01:00', 's96', 29.58), (50, 77, 's90', 74.64, '2024-01-19 12:16:00', '2024-01-28 08:26:00', 's26', 98.42);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 's60', 62.06, 2, 's91', 1, '2024-01-03 08:17:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 's70', 66.59, 95, 's76', 0, '2024-01-08 08:49:00'), (20, 's70', 41.96, 55, 's86', 1, '2024-01-18 08:23:00');\nINSERT INTO t2 (id, c0, c1) VALUES (14, '2024-01-25 12:14:00', '2024-01-04 08:53:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (54, 's34', '2024-01-14', 33.32), (55, 's37', '2024-01-21', 47.86), (56, 's70', '2024-01-22', 41.14);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (18, 36, '2024-01-21', '2024-01-01', 97, '2024-01-16 12:23:00', 70, '2024-01-24 08:14:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 45, '2024-01-21', '2024-01-08', 51, '2024-01-28 12:39:00', 52, '2024-01-09 08:00:00');\nINSERT INTO t1 (id, c0, c1, c2) VALUES (57, 's47', '2024-01-05', 89.75), (58, 's69', '2024-01-13', 88.43), (59, 's8', '2024-01-20', 51.01);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 's97', 30.76, 45, 's78', 1, '2024-01-11 08:05:00'), (22, 's85', 46.01, 64, 's11', 1, '2024-01-08 08:10:00'), (23, 's53', 96.7, 7, 's3', 0, '2024-01-16 08:37:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` float DEFAULT NULL,\n  `c3` datetime NOT NULL,\n  `c4` timestamp NOT NULL,\n  `c5` varchar(64) DEFAULT NULL,\n  `c6` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) NOT NULL,\n  `c1` date NOT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_id_2` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_id_0` (`id`),\n  KEY `idx_c1_3` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` date NOT NULL,\n  `c2` date DEFAULT NULL,\n  `c3` bigint NOT NULL,\n  `c4` datetime NOT NULL,\n  `c5` int NOT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_id_4` (`id`),\n  KEY `idx_c2_5` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) DEFAULT NULL,\n  `c1` float NOT NULL,\n  `c2` int NOT NULL,\n  `c3` varchar(64) DEFAULT NULL,\n  `c4` tinyint(1) NOT NULL,\n  `c5` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1_1` (`c1`),\n  KEY `idx_c2_6` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` float NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_id_7` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0009_019be1f2-eb26-7d00-8534-5ab0aeaf1f88",
      "dir": "reports/case_0009_019be1f2-eb26-7d00-8534-5ab0aeaf1f88",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:05:52+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "1861c4241f2c2f287c924b5135534a933f4bd007",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0) WHERE ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00')) THEN 1 ELSE 0 END),0) FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0)",
      "norec_predicate": "((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))",
      "sql": [
        "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0) WHERE ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))",
        "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT (CASE WHEN ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00')) THEN 1 ELSE 0 END) AS b FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0)"
      ],
      "plan_replayer": "reports/case_0009_019be1f2-eb26-7d00-8534-5ab0aeaf1f88/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0) WHERE ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))) q",
        "norec_predicate": "((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00')) THEN 1 ELSE 0 END),0) FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0)",
        "optimized_explain": "StreamAgg_61\t1.00\troot\t\tfuncs:count(1)->Column#52\n└─StreamAgg_67\t1.00\troot\t\tfuncs:count(1)->Column#54\n  └─HashJoin_82\t0.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_102(Build)\t0.00\troot\t\tCARTESIAN inner join\n    │ ├─Selection_103(Build)\t0.00\troot\t\teq(shiro_fuzz_r8.t3.c1, 2024)\n    │ │ └─TableDual_105\t0.00\troot\t\trows:0\n    │ └─Selection_111(Probe)\t6.40\troot\t\teq(cast(shiro_fuzz_r8.t3.c2, double BINARY), 2024), lt(cast(shiro_fuzz_r8.t3.c0, double BINARY), 38.36)\n    │   └─Limit_113\t8.00\troot\t\toffset:0, count:8\n    │     └─TableReader_120\t8.00\troot\tpartition:all\tdata:Limit_119\n    │       └─Limit_119\t8.00\tcop[tikv]\t\toffset:0, count:8\n    │         └─Selection_118\t8.00\tcop[tikv]\t\tle(shiro_fuzz_r8.t3.c0, 2024-01-13 08:43:00.000000), ne(shiro_fuzz_r8.t3.c1, 57.42)\n    │           └─TableFullScan_117\t36.16\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n    └─Selection_135(Probe)\t100000000.00\troot\t\tor(lt(shiro_fuzz_r8.t2.c0, 45.73), ne(shiro_fuzz_r8.t4.id, 55))\n      └─HashJoin_144\t125000000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_164\n        ├─TableDual_220(Build)\t0.00\troot\t\trows:0\n        └─HashJoin_164(Probe)\t125000000.00\troot\t\tCARTESIAN inner join\n          ├─TableReader_219(Build)\t10000.00\troot\t\tdata:TableFullScan_218\n          │ └─TableFullScan_218\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n          └─HashJoin_180(Probe)\t12500.00\troot\t\tCARTESIAN inner join\n            ├─TableReader_183(Build)\t1.00\troot\t\tdata:Selection_182\n            │ └─Selection_182\t1.00\tcop[tikv]\t\teq(shiro_fuzz_r8.t0.c2, 95), in(shiro_fuzz_r8.t0.c1, 2024-01-01 00:00:00.000000, 2024-01-26 00:00:00.000000), lt(shiro_fuzz_r8.t0.c5, 81)\n            │   └─TableFullScan_181\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n            └─MergeJoin_185(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r8.t5.id, right key:shiro_fuzz_r8.t3.id\n              ├─TableReader_203(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_202\n              │ └─TableFullScan_202\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n              └─TableReader_201(Probe)\t10000.00\troot\t\tdata:TableFullScan_200\n                └─TableFullScan_200\t10000.00\tcop[tikv]\ttable:t5\tkeep order:true, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT IFNULL(SUM(CASE WHEN ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00')) THEN 1 ELSE 0 END),0) FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0) WHERE ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_48\t1.00\troot\t\tifnull(Column#50, 0)->Column#51\n└─HashAgg_52\t1.00\troot\t\tfuncs:sum(Column#59)->Column#50\n  └─Projection_209\t2658666666.67\troot\t\tcast(case(and(in(shiro_fuzz_r8.t0.c1, 2024-01-01 00:00:00.000000, 2024-01-26 00:00:00.000000), eq(shiro_fuzz_r8.t3.c1, 2024)), 1, 0), decimal(20,0) BINARY)->Column#59\n    └─HashJoin_65\t2658666666.67\troot\t\tleft outer join, left side:Projection_73, equal:[eq(Column#53, shiro_fuzz_r8.t3.c1)]\n      ├─TableDual_190(Build)\t0.00\troot\t\trows:0\n      └─Projection_73(Probe)\t2658666666.67\troot\t\tshiro_fuzz_r8.t0.c1, cast(shiro_fuzz_r8.t3.c2, double BINARY)->Column#53\n        └─HashJoin_82\t2658666666.67\troot\t\tCARTESIAN left outer join, left side:HashJoin_91, left cond:[or(lt(shiro_fuzz_r8.t2.c0, 45.73), ne(shiro_fuzz_r8.t4.id, 55))]\n          ├─Selection_168(Build)\t6.40\troot\t\tlt(cast(shiro_fuzz_r8.t3.c0, double BINARY), 38.36)\n          │ └─Limit_170\t8.00\troot\t\toffset:0, count:8\n          │   └─TableReader_177\t8.00\troot\tpartition:all\tdata:Limit_176\n          │     └─Limit_176\t8.00\tcop[tikv]\t\toffset:0, count:8\n          │       └─Selection_175\t8.00\tcop[tikv]\t\tle(shiro_fuzz_r8.t3.c0, 2024-01-13 08:43:00.000000), ne(shiro_fuzz_r8.t3.c1, 57.42)\n          │         └─TableFullScan_174\t36.16\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n          └─HashJoin_91(Probe)\t415416666.67\troot\t\tCARTESIAN left outer join, left side:HashJoin_108\n            ├─TableDual_164(Build)\t0.00\troot\t\trows:0\n            └─HashJoin_108(Probe)\t415416666.67\troot\t\tCARTESIAN inner join\n              ├─TableReader_163(Build)\t10000.00\troot\t\tdata:TableFullScan_162\n              │ └─TableFullScan_162\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n              └─HashJoin_124(Probe)\t41541.67\troot\t\tCARTESIAN inner join\n                ├─TableReader_127(Build)\t3.32\troot\t\tdata:Selection_126\n                │ └─Selection_126\t3.32\tcop[tikv]\t\teq(shiro_fuzz_r8.t0.c2, 95), lt(shiro_fuzz_r8.t0.c5, 81)\n                │   └─TableFullScan_125\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n                └─MergeJoin_129(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r8.t5.id, right key:shiro_fuzz_r8.t3.id\n                  ├─TableReader_147(Build)\t10000.00\troot\tpartition:all\tdata:TableFullScan_146\n                  │ └─TableFullScan_146\t10000.00\tcop[tikv]\ttable:t3\tkeep order:true, stats:pseudo\n                  └─TableReader_145(Probe)\t10000.00\troot\t\tdata:TableFullScan_144\n                    └─TableFullScan_144\t10000.00\tcop[tikv]\ttable:t5\tkeep order:true, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t2.c0) AS sum1 FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0) WHERE ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00'));\nWITH cte_0 AS (SELECT t3.c1 AS c0, t3.c0 AS c1, t3.c2 AS c2 FROM t3 WHERE ((t3.c0 <= '2024-01-13 08:43:00') AND ((25.24 <= 31.2) AND (t3.c1 != 57.42))) LIMIT 8), cte_1 AS (SELECT t3.c1 AS c0, t3.id AS c1, t3.c0 AS c2 FROM t3 WHERE (((t3.c0 < '2024-01-27 08:23:00') AND (t3.c1 <= 32.47)) AND ((t3.c1 = 97.92) AND (t3.c2 < '2024-01-21 08:45:00'))) LIMIT 1) SELECT (CASE WHEN ((t0.c1 IN ('2024-01-01', '2024-01-26')) AND (cte_1.c0 = '2024-01-25 08:06:00')) THEN 1 ELSE 0 END) AS b FROM t0 JOIN t5 ON (((0 < 60) OR (t5.c1 <= 5.03)) AND (t0.c5 < 81)) JOIN t3 ON (t5.id = t3.id) JOIN t2 ON (t0.c2 IN (95)) LEFT JOIN t4 ON ((44 <=> 27) AND (t0.c4 IN ('2024-01-19', '2024-01-05'))) LEFT JOIN cte_0 ON (((t2.c0 < 45.73) OR (t4.id != 55)) AND (cte_0.c1 < 38.36)) LEFT JOIN cte_1 ON (cte_0.c2 = cte_1.c0);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t2024-01-03 08:17:00\t2024-01-24\t27\t10.15\t2024-01-26\t6\n2\t2024-01-17 08:14:00\t2024-01-19\t18\t66.43\t2024-01-18\t41\n3\t2024-01-25 08:53:00\t2024-01-20\t9\t81.66\t2024-01-15\t91\n4\t2024-01-02 08:02:00\t2024-01-09\t60\t64.58\t2024-01-10\t93\n5\t2024-01-26 08:10:00\t2024-01-27\t79\t94.21\t2024-01-06\t67\n6\t2024-01-20 08:39:00\t2024-01-26\t28\t32.27\t2024-01-24\t42\n7\t2024-01-12 08:02:00\t2024-01-20\t51\t41.88\t2024-01-03\t22\n8\t2024-01-11 08:45:00\t2024-01-20\t32\t1.94\t2024-01-18\t42\n9\t2024-01-13 08:14:00\t2024-01-23\t6\t60.18\t2024-01-04\t82\n10\t2024-01-24 08:55:00\t2024-01-13\t9\t27.6\t2024-01-24\t3\n11\t2024-01-04 08:21:00\t2024-01-15\t35\t0.97\t2024-01-28\t52\n12\t2024-01-14 08:27:00\t2024-01-03\t96\t59.82\t2024-01-18\t100\n13\t2024-01-05 08:15:00\t2024-01-03\t94\t23.87\t2024-01-12\t18\n14\t2024-01-08 08:27:00\t2024-01-28\t84\t71.11\t2024-01-23\t36\n15\t2024-01-16 08:51:00\t2024-01-06\t68\t89.77\t2024-01-11\t10\n16\t2024-01-10 08:28:00\t2024-01-04\t13\t59.54\t2024-01-26\t55\n17\t2024-01-03 08:31:00\t2024-01-05\t35\t1.66\t2024-01-26\t52\n18\t2024-01-25 08:33:00\t2024-01-11\t13\t57.53\t2024-01-14\t84\n19\t2024-01-28 08:31:00\t2024-01-28\t45\t84.67\t2024-01-09\t93\n20\t2024-01-14 08:14:00\t2024-01-21\t35\t6.25\t2024-01-03\t87\n21\t2024-01-18 08:05:00\t2024-01-19\t41\t30.02\t2024-01-05\t22\n22\t2024-01-23 08:38:00\t2024-01-08\t1\t40.17\t2024-01-14\t37\n23\t2024-01-28 08:14:00\t2024-01-25\t37\t27.58\t2024-01-27\t1\n24\t2024-01-23 08:36:00\t2024-01-15\t97\t51.67\t2024-01-03\t42\n25\t2024-01-18 08:05:00\t2024-01-21\t83\t70.53\t2024-01-13\t70\n26\t2024-01-16 08:13:00\t2024-01-05\t17\t66.42\t2024-01-26\t75\n27\t2024-01-24 08:26:00\t2024-01-01\t82\t42.99\t2024-01-16\t80\n28\t2024-01-01 08:23:00\t2024-01-28\t28\t49.34\t2024-01-21\t8\n29\t2024-01-18 08:05:00\t2024-01-11\t23\t26.22\t2024-01-05\t89\n30\t2024-01-22 08:04:00\t2024-01-16\t25\t59.64\t2024-01-03\t96\n31\t2024-01-18 08:16:00\t2024-01-16\t67\t88.35\t2024-01-19\t33\n32\t2024-01-17 08:04:00\t2024-01-22\t41\t71\t2024-01-10\t12\n33\t2024-01-15 08:53:00\t2024-01-22\t90\t62.77\t2024-01-01\t71\n34\t2024-01-25 08:47:00\t2024-01-02\t1\t78.01\t2024-01-08\t44\n35\t2024-01-05 08:58:00\t2024-01-23\t84\t29.98\t2024-01-15\t16\n36\t2024-01-18 08:05:00\t2024-01-12\t64\t14.78\t2024-01-05\t38\n37\t2024-01-12 08:46:00\t2024-01-09\t26\t37.21\t2024-01-11\t81\n38\t2024-01-01 08:48:00\t2024-01-24\t68\t13.1\t2024-01-10\t41\n39\t2024-01-12 08:27:00\t2024-01-21\t23\t15.95\t2024-01-12\t17\n40\t2024-01-13 08:31:00\t2024-01-02\t73\t75.97\t2024-01-13\t10\n41\t2024-01-18 08:05:00\t2024-01-10\t61\t74.96\t2024-01-05\t1\n42\t2024-01-04 08:25:00\t2024-01-23\t46\t23.32\t2024-01-10\t40\n43\t2024-01-26 08:32:00\t2024-01-16\t15\t75.79\t2024-01-20\t9\n44\t2024-01-03 08:45:00\t2024-01-28\t57\t39.11\t2024-01-22\t21\n45\t2024-01-13 08:56:00\t2024-01-12\t69\t99.54\t2024-01-09\t4\n46\t2024-01-10 08:02:00\t2024-01-25\t93\t74.51\t2024-01-16\t18\n47\t2024-01-02 08:23:00\t2024-01-18\t66\t30.99\t2024-01-19\t26\n48\t2024-01-27 08:29:00\t2024-01-19\t18\t79.78\t2024-01-24\t31\n49\t2024-01-04 08:44:00\t2024-01-08\t26\t67.58\t2024-01-22\t76\n50\t2024-01-04 08:02:00\t2024-01-03\t34\t25.06\t2024-01-09\t14\n\n-- t1\n\n-- t2\n12\t9.91\t1\t2024-01-06 08:27:00\t1\t34.74\t2024-01-05 08:23:00\n13\t12.96\t0\t2024-01-06 08:27:00\t0\t98.63\t2024-01-26 08:58:00\n14\t55.27\t1\t2024-01-06 08:27:00\t0\t58.61\t2024-01-14 08:25:00\n15\t74.26\t0\t2024-01-06 08:27:00\t0\t4.17\t2024-01-06 08:26:00\n\n-- t3\n2\t2024-01-14 08:56:00\t42.97\t2024-01-06 08:19:00\n4\t2024-01-16 08:44:00\t17.07\t2024-01-27 08:10:00\n6\t2024-01-13 08:33:00\t81.16\t2024-01-04 08:29:00\n1\t2024-01-18 08:21:00\t46.19\t2024-01-19 08:46:00\n3\t2024-01-04 08:49:00\t90.47\t2024-01-12 08:52:00\n5\t2024-01-20 08:54:00\t33.89\t2024-01-10 08:12:00\n\n-- t4\n3\t0\t67\n2\t0\t32\n1\t1\t2\n4\t1\t82\n\n-- t5\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-03 08:17:00', '2024-01-24', 27, 10.15, '2024-01-26', 5), (2, '2024-01-17 08:14:00', '2024-01-19', 18, 66.43, '2024-01-18', 40);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (3, '2024-01-25 08:53:00', '2024-01-20', 9, 81.66, '2024-01-15', 90), (4, '2024-01-02 08:02:00', '2024-01-09', 60, 64.58, '2024-01-10', 92);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (5, '2024-01-26 08:10:00', '2024-01-27', 79, 94.21, '2024-01-06', 66), (6, '2024-01-20 08:39:00', '2024-01-26', 28, 32.27, '2024-01-24', 41), (7, '2024-01-12 08:02:00', '2024-01-20', 51, 41.88, '2024-01-03', 21);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (8, '2024-01-11 08:45:00', '2024-01-20', 32, 1.94, '2024-01-18', 41);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (9, '2024-01-13 08:14:00', '2024-01-23', 6, 60.18, '2024-01-04', 81), (10, '2024-01-24 08:55:00', '2024-01-13', 9, 27.6, '2024-01-24', 2), (11, '2024-01-04 08:21:00', '2024-01-15', 35, 0.97, '2024-01-28', 51);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (12, '2024-01-14 08:27:00', '2024-01-03', 96, 59.82, '2024-01-18', 99), (13, '2024-01-05 08:15:00', '2024-01-03', 94, 23.87, '2024-01-12', 17), (14, '2024-01-08 08:27:00', '2024-01-28', 84, 71.11, '2024-01-23', 35);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (15, '2024-01-16 08:51:00', '2024-01-06', 68, 89.77, '2024-01-11', 9), (16, '2024-01-10 08:28:00', '2024-01-04', 13, 59.54, '2024-01-26', 54), (17, '2024-01-03 08:31:00', '2024-01-05', 35, 1.66, '2024-01-26', 51);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (18, '2024-01-25 08:33:00', '2024-01-11', 13, 57.53, '2024-01-14', 83), (19, '2024-01-28 08:31:00', '2024-01-28', 45, 84.67, '2024-01-09', 92);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (20, '2024-01-14 08:14:00', '2024-01-21', 35, 6.25, '2024-01-03', 86), (21, '2024-01-18 08:47:00', '2024-01-19', 41, 30.02, '2024-01-05', 21), (22, '2024-01-23 08:38:00', '2024-01-08', 1, 40.17, '2024-01-14', 36);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (23, '2024-01-28 08:14:00', '2024-01-25', 37, 27.58, '2024-01-27', 0), (24, '2024-01-23 08:36:00', '2024-01-15', 97, 51.67, '2024-01-03', 41), (25, '2024-01-18 08:05:00', '2024-01-21', 83, 70.53, '2024-01-13', 69);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (26, '2024-01-16 08:13:00', '2024-01-05', 17, 65.42, '2024-01-26', 74);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (27, '2024-01-24 08:26:00', '2024-01-01', 82, 42.99, '2024-01-16', 79), (28, '2024-01-01 08:23:00', '2024-01-28', 28, 49.34, '2024-01-21', 7);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (29, '2024-01-06 08:06:00', '2024-01-11', 23, 26.22, '2024-01-05', 88), (30, '2024-01-22 08:04:00', '2024-01-16', 25, 59.64, '2024-01-03', 95);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (31, '2024-01-18 08:16:00', '2024-01-16', 67, 88.35, '2024-01-19', 32), (32, '2024-01-17 08:04:00', '2024-01-22', 41, 71, '2024-01-10', 11), (33, '2024-01-15 08:53:00', '2024-01-22', 90, 62.77, '2024-01-01', 70);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (34, '2024-01-25 08:47:00', '2024-01-02', 1, 78.01, '2024-01-08', 43), (35, '2024-01-05 08:58:00', '2024-01-23', 84, 29.98, '2024-01-15', 15);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (36, '2024-01-23 08:39:00', '2024-01-12', 64, 14.78, '2024-01-05', 37), (37, '2024-01-12 08:46:00', '2024-01-09', 26, 37.21, '2024-01-11', 80), (38, '2024-01-01 08:48:00', '2024-01-24', 68, 13.1, '2024-01-10', 40);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (39, '2024-01-12 08:27:00', '2024-01-21', 23, 15.95, '2024-01-12', 16), (40, '2024-01-13 08:31:00', '2024-01-02', 73, 75.97, '2024-01-13', 9), (41, '2024-01-12 08:54:00', '2024-01-10', 61, 74.96, '2024-01-05', 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (42, '2024-01-04 08:25:00', '2024-01-23', 46, 23.32, '2024-01-10', 39), (43, '2024-01-26 08:32:00', '2024-01-16', 15, 75.79, '2024-01-20', 8), (44, '2024-01-03 08:45:00', '2024-01-28', 57, 39.11, '2024-01-22', 20);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (45, '2024-01-13 08:56:00', '2024-01-12', 69, 99.54, '2024-01-09', 3);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (46, '2024-01-10 08:02:00', '2024-01-25', 93, 74.51, '2024-01-16', 17), (47, '2024-01-02 08:23:00', '2024-01-18', 66, 30.99, '2024-01-19', 25), (48, '2024-01-27 08:29:00', '2024-01-19', 18, 79.78, '2024-01-24', 30);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-15 12:45:00', 42, 38, 53.99, 21.67, '2024-01-27 08:47:00', 85.08);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, '2024-01-01 12:54:00', 49, 38, 40.9, 88.73, '2024-01-07 08:40:00', 44.04), (3, '2024-01-10 12:34:00', 69, 45, 5.71, 12.58, '2024-01-14 08:25:00', 13.67);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, '2024-01-09 12:54:00', 15, 54, 40.74, 55.56, '2024-01-27 08:47:00', 78.09);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, '2024-01-27 12:46:00', 41, 6, 29.8, 81.46, '2024-01-02 08:25:00', 34.49), (6, '2024-01-10 12:32:00', 54, 9, 15.65, 46.75, '2024-01-24 08:29:00', 49.17);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, '2024-01-15 12:49:00', 86, 26, 43.77, 12.65, '2024-01-04 08:56:00', 17.78), (8, '2024-01-12 12:04:00', 77, 20, 25.34, 40.39, '2024-01-20 08:52:00', 70.75), (9, '2024-01-19 12:12:00', 94, 15, 79.04, 30.58, '2024-01-19 08:48:00', 64.93);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (10, '2024-01-17 12:12:00', 35, 31, 69.55, 59.91, '2024-01-22 08:36:00', 22.59), (11, '2024-01-19 12:25:00', 57, 48, 3.58, 47.3, '2024-01-21 08:08:00', 78.15);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, '2024-01-27 12:33:00', 94, 54, 69.99, 38.79, '2024-01-26 08:55:00', 87.39);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, '2024-01-26 12:38:00', 86, 67, 2.34, 73.99, '2024-01-01 08:07:00', 37.17), (14, '2024-01-24 12:11:00', 74, 99, 90.86, 23.36, '2024-01-01 08:58:00', 70.14);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (15, '2024-01-18 12:18:00', 92, 31, 62.97, 12.58, '2024-01-03 08:14:00', 44.86), (16, '2024-01-20 12:23:00', 15, 34, 52.43, 98.06, '2024-01-16 08:01:00', 26.93);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (17, '2024-01-05 12:41:00', 46, 83, 24.17, 22.89, '2024-01-15 08:15:00', 44.44), (18, '2024-01-03 12:18:00', 5, 67, 47.63, 52.25, '2024-01-06 08:32:00', 94.89);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, '2024-01-21 12:14:00', 42, 36, 74.63, 25.11, '2024-01-09 08:38:00', 77.02);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, '2024-01-19 12:00:00', 76, 30, 11.67, 13.52, '2024-01-25 08:50:00', 75.16), (21, '2024-01-08 12:27:00', 25, 44, 75.02, 22.28, '2024-01-05 08:27:00', 55.24), (22, '2024-01-23 12:21:00', 31, 80, 30.95, 49.66, '2024-01-07 08:26:00', 2.22);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (23, '2024-01-08 12:33:00', 80, 77, 97.45, 5.21, '2024-01-23 08:22:00', 65.35), (24, '2024-01-09 12:15:00', 40, 22, 86.38, 58.06, '2024-01-05 08:45:00', 4.82);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (25, '2024-01-11 12:19:00', 72, 53, 61.79, 26.58, '2024-01-03 08:41:00', 39.32);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (26, '2024-01-14 12:19:00', 17, 31, 99.5, 77.84, '2024-01-11 08:21:00', 94.49), (27, '2024-01-22 12:11:00', 56, 41, 48.33, 87.22, '2024-01-26 08:45:00', 96.25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, '2024-01-24 12:35:00', 34, 76, 59.47, 24.49, '2024-01-07 08:02:00', 34.62), (29, '2024-01-02 12:28:00', 0, 76, 98.68, 13.87, '2024-01-02 08:46:00', 22.07);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (30, '2024-01-12 12:25:00', 8, 28, 29.2, 7.46, '2024-01-26 08:43:00', 34.17), (31, '2024-01-24 12:04:00', 63, 78, 41.39, 90.39, '2024-01-17 08:52:00', 74.13), (32, '2024-01-13 12:44:00', 78, 46, 94.6, 49.12, '2024-01-14 08:09:00', 91.48);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (33, '2024-01-15 12:40:00', 46, 37, 19.16, 13.74, '2024-01-07 08:50:00', 13.47), (34, '2024-01-04 12:06:00', 36, 25, 94.3, 84.5, '2024-01-23 08:52:00', 89.08), (35, '2024-01-16 12:11:00', 83, 94, 18.97, 7.96, '2024-01-05 08:35:00', 89.15);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, '2024-01-24 12:18:00', 99, 7, 57.18, 54.25, '2024-01-17 08:02:00', 66.86), (37, '2024-01-11 12:12:00', 91, 43, 83.24, 37.12, '2024-01-15 08:17:00', 78.57), (38, '2024-01-16 12:46:00', 9, 17, 30.87, 71.16, '2024-01-09 08:15:00', 76.48);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, '2024-01-16 12:47:00', 88, 20, 48.26, 6.68, '2024-01-07 08:40:00', 67.46), (40, '2024-01-11 12:05:00', 16, 41, 36.49, 97.41, '2024-01-08 08:46:00', 25.29), (41, '2024-01-09 12:25:00', 15, 39, 56.48, 90.11, '2024-01-26 08:41:00', 56.67);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 65.24, 0, '2024-01-09 08:22:00', 1, 69.06, '2024-01-04 08:14:00'), (2, 87.34, 0, '2024-01-26 08:12:00', 0, 38.44, '2024-01-06 08:32:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 10.12, 0, '2024-01-12 08:38:00', 1, 50.83, '2024-01-02 08:55:00'), (4, 42.79, 1, '2024-01-28 08:04:00', 0, 40.2, '2024-01-25 08:31:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, '2024-01-04 12:30:00', 20, 92, 92.04, 8.66, '2024-01-26 08:54:00', 97.32);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 32.83, 0, '2024-01-12 08:11:00', 1, 45.88, '2024-01-23 08:41:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (43, '2024-01-13 12:18:00', 76, 57, 0.98, 85.73, '2024-01-01 08:21:00', 14.61), (44, '2024-01-24 12:40:00', 32, 83, 81.71, 71.48, '2024-01-28 08:14:00', 19.97), (45, '2024-01-05 12:34:00', 77, 30, 45.4, 66.79, '2024-01-27 08:04:00', 40.54);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 38.6, 1, '2024-01-09 08:27:00', 1, 64.09, '2024-01-12 08:22:00'), (7, 54.4, 1, '2024-01-28 08:56:00', 1, 12.47, '2024-01-08 08:38:00'), (8, 2.25, 1, '2024-01-19 08:55:00', 1, 16.29, '2024-01-17 08:51:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (9, 36.17, 1, '2024-01-14 08:09:00', 0, 18.41, '2024-01-22 08:44:00'), (10, 20.76, 1, '2024-01-05 08:43:00', 0, 2.33, '2024-01-12 08:40:00'), (11, 69.53, 0, '2024-01-21 08:21:00', 1, 6.38, '2024-01-01 08:15:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (49, '2024-01-04 08:44:00', '2024-01-08', 26, 67.58, '2024-01-22', 75), (50, '2024-01-04 08:02:00', '2024-01-03', 34, 25.06, '2024-01-09', 13), (51, '2024-01-19 08:32:00', '2024-01-27', 20, 25.67, '2024-01-22', 21);\nINSERT INTO t3 (id, c0, c1, c2) VALUES (1, '2024-01-18 08:21:00', 45.19, '2024-01-08 08:30:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (52, '2024-01-28 08:24:00', '2024-01-26', 10, 48.39, '2024-01-23', 29), (53, '2024-01-12 08:02:00', '2024-01-04', 22, 20.48, '2024-01-20', 79);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 9.91, 1, '2024-01-15 08:27:00', 1, 34.74, '2024-01-05 08:23:00');\nINSERT INTO t3 (id, c0, c1, c2) VALUES (2, '2024-01-14 08:56:00', 41.97, '2024-01-06 08:19:00');\nINSERT INTO t3 (id, c0, c1, c2) VALUES (3, '2024-01-04 08:49:00', 89.47, '2024-01-12 08:52:00'), (4, '2024-01-16 08:44:00', 16.07, '2024-01-27 08:10:00'), (5, '2024-01-20 08:54:00', 32.89, '2024-01-10 08:12:00');\nINSERT INTO t4 (id, c0, c1) VALUES (1, 1, 2);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (54, '2024-01-07 08:19:00', '2024-01-12', 26, 54.38, '2024-01-27', 56), (55, '2024-01-05 08:41:00', '2024-01-18', 23, 44.47, '2024-01-21', 3), (56, '2024-01-24 08:31:00', '2024-01-12', 68, 15.76, '2024-01-06', 43);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (46, '2024-01-09 12:08:00', 2, 25, 47.3, 57.77, '2024-01-16 08:03:00', 63.47), (47, '2024-01-21 12:46:00', 39, 3, 35.01, 75.81, '2024-01-13 08:15:00', 83.73);\nINSERT INTO t4 (id, c0, c1) VALUES (2, 0, 32), (3, 0, 67), (4, 1, 82);\nINSERT INTO t3 (id, c0, c1, c2) VALUES (6, '2024-01-13 08:33:00', 80.16, '2024-01-04 08:29:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (57, '2024-01-19 08:05:00', '2024-01-27', 51, 53.35, '2024-01-12', 32), (58, '2024-01-21 08:51:00', '2024-01-10', 51, 23.06, '2024-01-25', 27);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (1, 6.57, 93.06, '2024-01-05 12:25:00', '2024-01-18 08:00:00', '2024-01-14'), (2, 67.9, 77.3, '2024-01-04 12:16:00', '2024-01-20 08:15:00', '2024-01-01');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (48, '2024-01-25 12:46:00', 86, 30, 52.56, 63.57, '2024-01-08 08:33:00', 92.1), (49, '2024-01-17 12:41:00', 44, 59, 94.89, 62.65, '2024-01-15 08:27:00', 4.04), (50, '2024-01-18 12:22:00', 47, 40, 62.76, 91.99, '2024-01-19 08:00:00', 38.62);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 12.96, 0, '2024-01-16 08:32:00', 0, 98.63, '2024-01-26 08:58:00'), (14, 55.27, 1, '2024-01-22 08:40:00', 0, 58.61, '2024-01-14 08:25:00'), (15, 74.26, 0, '2024-01-16 08:25:00', 0, 4.17, '2024-01-06 08:26:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` date NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` double NOT NULL,\n  `c4` date NOT NULL,\n  `c5` int NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3_1` (`c3`),\n  KEY `idx_c0_3` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` datetime DEFAULT NULL,\n  `c1` bigint NOT NULL,\n  `c2` int NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` double NOT NULL,\n  `c5` timestamp NOT NULL,\n  `c6` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `fk_1` (`id`),\n  CONSTRAINT `fk_1` FOREIGN KEY (`id`) REFERENCES `t0` (`id`),\n  CONSTRAINT `fk_4` FOREIGN KEY (`id`) REFERENCES `t0` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` float NOT NULL,\n  `c5` timestamp NULL DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `fk_8` (`id`),\n  CONSTRAINT `fk_8` FOREIGN KEY (`id`) REFERENCES `t0` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c1_0` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` double DEFAULT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c2_2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0008_019be1f2-7ed1-7d3a-94a5-61584ef7a6ad",
      "dir": "reports/case_0008_019be1f2-7ed1-7d3a-94a5-61584ef7a6ad",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:05:24+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "aa423f3dac8b5cdd58bc7b71e8376d7cd5463387",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t2.c1) AS sum1 FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71))) WHERE ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00'))) THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71)))",
      "norec_predicate": "((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))",
      "sql": [
        "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t2.c1) AS sum1 FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71))) WHERE ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))",
        "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT (CASE WHEN ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00'))) THEN 1 ELSE 0 END) AS b FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71)))"
      ],
      "plan_replayer": "reports/case_0008_019be1f2-7ed1-7d3a-94a5-61584ef7a6ad/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t2.c1) AS sum1 FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71))) WHERE ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))) q",
        "norec_predicate": "((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00'))) THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71)))",
        "optimized_explain": "StreamAgg_33\t1.00\troot\t\tfuncs:count(1)->Column#27\n└─StreamAgg_39\t1.00\troot\t\tfuncs:count(1)->Column#29\n  └─HashJoin_123\t26.61\troot\t\tCARTESIAN inner join\n    ├─Selection_57(Build)\t0.80\troot\t\tlt(shiro_fuzz_r7.t0.c2, 71)\n    │ └─Limit_61\t1.00\troot\t\toffset:0, count:7\n    │   └─Point_Get_64\t1.00\troot\ttable:t0\thandle:58\n    └─IndexJoin_69(Probe)\t33.26\troot\t\tinner join, inner:TableReader_92, outer key:shiro_fuzz_r7.t0.id, inner key:shiro_fuzz_r7.t2.id, equal cond:eq(shiro_fuzz_r7.t0.id, shiro_fuzz_r7.t2.id)\n      ├─TableReader_90(Build)\t26.61\troot\t\tdata:Selection_89\n      │ └─Selection_89\t26.61\tcop[tikv]\t\tne(shiro_fuzz_r7.t0.c0, 53), or(in(shiro_fuzz_r7.t0.c0, 79, 41, 68), eq(shiro_fuzz_r7.t0.c3, 2024-01-21 08:08:00.000000))\n      │   └─TableFullScan_88\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      └─TableReader_92(Probe)\t26.61\troot\t\tdata:TableRangeScan_91\n        └─TableRangeScan_91\t26.61\tcop[tikv]\ttable:t2\trange: decided by [shiro_fuzz_r7.t0.id], keep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00'))) THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71)))",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t2.c1) AS sum1 FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71))) WHERE ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_23\t1.00\troot\t\tifnull(Column#25, 0)->Column#26\n└─HashAgg_27\t1.00\troot\t\tfuncs:sum(Column#33)->Column#25\n  └─Projection_122\t6656.67\troot\t\tcast(case(or(in(shiro_fuzz_r7.t0.c0, 79, 41, 68), eq(shiro_fuzz_r7.t0.c3, 2024-01-21 08:08:00.000000)), 1, 0), decimal(20,0) BINARY)->Column#33\n    └─HashJoin_47\t6656.67\troot\t\tCARTESIAN inner join\n      ├─Selection_50(Build)\t0.80\troot\t\tlt(shiro_fuzz_r7.t0.c2, 71)\n      │ └─Limit_54\t1.00\troot\t\toffset:0, count:7\n      │   └─Point_Get_57\t1.00\troot\ttable:t0\thandle:58\n      └─MergeJoin_61(Probe)\t8320.83\troot\t\tinner join, left key:shiro_fuzz_r7.t0.id, right key:shiro_fuzz_r7.t2.id\n        ├─TableReader_80(Build)\t10000.00\troot\t\tdata:TableFullScan_79\n        │ └─TableFullScan_79\t10000.00\tcop[tikv]\ttable:t2\tkeep order:true, stats:pseudo\n        └─TableReader_78(Probe)\t6656.67\troot\t\tdata:Selection_77\n          └─Selection_77\t6656.67\tcop[tikv]\t\tne(shiro_fuzz_r7.t0.c0, 53)\n            └─TableFullScan_76\t10000.00\tcop[tikv]\ttable:t0\tkeep order:true, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(t2.c1) AS sum1 FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71))) WHERE ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00')));\nWITH cte_0 AS (SELECT t0.c2 AS c0, t0.id AS c1, t0.c0 AS c2 FROM t0 WHERE ((('2024-01-20 08:40:00' <=> '2024-01-11 12:56:00') AND ('2024-01-15 12:13:00' >= '2024-01-28 12:00:00')) OR (t0.id = 58)) LIMIT 7) SELECT (CASE WHEN ((t0.c0 IN (79, 41, 68)) OR (t0.c3 IN ('2024-01-21 08:08:00'))) THEN 1 ELSE 0 END) AS b FROM t2 JOIN t0 USING (id) JOIN cte_0 ON (NOT (t0.c0 IN (53)) AND (('2024-01-09 12:36:00' <=> '2024-01-03 12:15:00') OR (cte_0.c0 < 71)));\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t20\t69.56\t87.35\t2024-01-06 08:55:00\n2\t4\t30.92\t80.21\t2024-01-16 08:13:00\n3\t11\t87.94\t68.01\t2024-01-20 08:34:00\n4\t4\t86.81\t81.61\t2024-01-22 08:01:00\n5\t5\t44.08\t33.8\t2024-01-13 08:43:00\n6\t65\t72.61\t20.09\t2024-01-13 08:53:00\n7\t65\t20.73\t51.52\t2024-01-15 08:50:00\n8\t78\t36.77\t85.46\t2024-01-27 08:41:00\n9\t80\t6.27\t91.71\t2024-01-11 08:42:00\n10\t73\t37.61\t52.95\t2024-01-14 08:07:00\n11\t35\t63.71\t58.03\t2024-01-06 08:37:00\n12\t23\t66.91\t40.18\t2024-01-06 08:58:00\n13\t44\t38.32\t50.85\t2024-01-08 08:12:00\n14\t12\t94.07\t57.99\t2024-01-03 08:33:00\n15\t95\t15.78\t79.18\t2024-01-04 08:38:00\n16\t4\t90.06\t14.73\t2024-01-06 08:26:00\n17\t6\t52.6\t84.02\t2024-01-07 08:30:00\n18\t3\t31.84\t61.84\t2024-01-13 08:36:00\n19\t73\t92.81\t3.26\t2024-01-06 08:28:00\n20\t53\t90.96\t2.4\t2024-01-12 08:30:00\n21\t52\t98.84\t96.74\t2024-01-17 08:16:00\n22\t95\t56.2\t98.98\t2024-01-06 08:45:00\n23\t24\t49.27\t40.45\t2024-01-16 08:56:00\n24\t79\t97.26\t32.67\t2024-01-27 08:31:00\n25\t93\t87.9\t3.65\t2024-01-12 08:11:00\n26\t23\t20.29\t41.26\t2024-01-14 08:47:00\n27\t89\t0.49\t28.11\t2024-01-27 08:38:00\n28\t50\t56.17\t40.87\t2024-01-11 08:41:00\n29\t26\t38.83\t92.75\t2024-01-04 08:06:00\n30\t47\t13.18\t34.26\t2024-01-12 08:32:00\n31\t26\t66.6\t36.94\t2024-01-18 08:13:00\n32\t18\t70.17\t70.33\t2024-01-18 08:01:00\n33\t74\t51.51\t91.45\t2024-01-13 08:50:00\n34\t19\t25.69\t44.15\t2024-01-24 08:03:00\n35\t1\t35.8\t97.27\t2024-01-27 08:28:00\n36\t57\t16.22\t22.38\t2024-01-14 08:44:00\n37\t73\t1.64\t21.91\t2024-01-10 08:56:00\n38\t94\t11.36\t61.99\t2024-01-20 08:23:00\n39\t60\t85.03\t90.01\t2024-01-10 08:20:00\n40\t91\t6.72\t99.19\t2024-01-16 08:54:00\n41\t26\t8.61\t79.56\t2024-01-23 08:19:00\n42\t22\t42.84\t3.14\t2024-01-03 08:44:00\n43\t33\t37.24\t30.67\t2024-01-21 08:21:00\n\n-- t1\n1\t0\t70.96\t83.80\t6.27\t86\ts44\n2\t1\t69.34\t79.80\t88.61\t72.78\ts2\n3\t0\t44.41\t28.35\t30.6\t59.47\ts51\n4\t0\t91.75\t4.83\t55.47\t81.7\ts0\n5\t0\t4.3\t92.81\t97.52\t40.65\ts73\n6\t1\t48.29\t79.72\t7.27\t99.18\ts41\n7\t1\t36.49\t95.52\t76.55\t84.4\ts85\n8\t0\t80.73\t30.45\t69.93\t53.69\ts17\n9\t0\t16.6\t20.40\t10.51\t34.94\ts60\n10\t1\t66.66\t32.12\t72.31\t57.44\ts76\n11\t1\t6.44\t11.71\t12.46\t3.41\ts68\n12\t1\t73.59\t54.82\t15.83\t31.57\ts45\n13\t1\t99.32\t23.50\t35.83\t81.02\ts41\n14\t1\t57.53\t10.69\t60.76\t77.05\ts97\n15\t0\t16.57\t52.94\t98.04\t42.11\ts37\n16\t0\t98.78\t29.06\t51.75\t40.45\ts68\n17\t0\t43\t98.25\t23.35\t59.96\ts63\n18\t0\t78.68\t98.76\t24.83\t37.22\ts27\n19\t0\t58.34\t32.67\t63.6\t44.28\ts68\n20\t1\t76.43\t96.76\t68.08\t58.71\ts38\n21\t1\t14.48\t47.50\t21.66\t39.99\ts10\n22\t1\t21.28\t39.76\t56.1\t7.48\ts36\n23\t1\t57.13\t62.02\t99.3\t39.92\ts39\n24\t0\t34.52\t20.21\t18.31\t22.67\ts11\n25\t0\t19.29\t12.88\t89.7\t91.77\ts0\n26\t1\t58.86\t69.41\t87.92\t43.9\ts55\n27\t0\t26.79\t89.99\t56.34\t88.21\ts67\n28\t0\t0.84\t16.56\t45.13\t3.48\ts92\n29\t1\t47.76\t57.43\t2.33\t32.27\ts69\n30\t1\t51.62\t85.65\t0.32\t62.78\ts88\n31\t0\t57.12\t93.36\t12.77\t20.64\ts3\n32\t0\t2.94\t33.69\t74.03\t42.99\ts71\n33\t1\t72.07\t40.49\t40.96\t38.48\ts48\n34\t1\t19.99\t93.54\t53.4\t7\ts73\n35\t0\t93.93\t36.95\t44.55\t60.52\ts38\n36\t1\t0.98\t15.71\t81.17\t9.23\ts23\n37\t0\t12.25\t74.32\t78.94\t9.57\ts4\n\n-- t2\n1\t1\t47.90\t80.82\t2024-01-12 12:35:00\t72\n2\t1\t28.86\t2.65\t2024-01-16 12:54:00\t81\n3\t0\t20.01\t81.49\t2024-01-12 12:33:00\t71\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3) VALUES (1, 20, 69.56, 87.35, '2024-01-06 08:55:00'), (2, 4, 30.92, 80.21, '2024-01-16 08:13:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (3, 11, 87.94, 68.01, '2024-01-20 08:34:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (4, 4, 86.81, 81.61, '2024-01-22 08:01:00'), (5, 5, 44.08, 33.8, '2024-01-13 08:43:00'), (6, 65, 72.61, 20.09, '2024-01-13 08:53:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (7, 65, 20.73, 51.52, '2024-01-15 08:50:00'), (8, 78, 36.77, 85.46, '2024-01-27 08:41:00'), (9, 80, 6.27, 91.71, '2024-01-11 08:42:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (10, 73, 37.61, 52.95, '2024-01-14 08:07:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (11, 35, 63.71, 58.03, '2024-01-06 08:37:00'), (12, 23, 66.91, 40.18, '2024-01-06 08:58:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (13, 44, 38.32, 50.85, '2024-01-08 08:12:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (14, 12, 94.07, 57.99, '2024-01-03 08:33:00'), (15, 95, 15.78, 79.18, '2024-01-04 08:38:00'), (16, 4, 90.06, 14.73, '2024-01-06 08:26:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (17, 6, 52.6, 84.02, '2024-01-07 08:30:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (18, 3, 31.84, 61.84, '2024-01-13 08:36:00'), (19, 73, 92.81, 3.26, '2024-01-06 08:28:00'), (20, 53, 90.96, 2.4, '2024-01-12 08:30:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (21, 52, 98.84, 96.74, '2024-01-17 08:16:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (22, 95, 56.2, 98.98, '2024-01-06 08:45:00'), (23, 24, 49.27, 40.45, '2024-01-16 08:56:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (24, 79, 97.26, 32.67, '2024-01-27 08:31:00'), (25, 93, 87.9, 3.65, '2024-01-12 08:11:00'), (26, 23, 20.29, 41.26, '2024-01-14 08:47:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (27, 89, 0.49, 28.11, '2024-01-27 08:38:00'), (28, 50, 56.17, 40.87, '2024-01-11 08:41:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (29, 26, 38.83, 92.75, '2024-01-04 08:06:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (30, 47, 13.18, 34.26, '2024-01-12 08:32:00'), (31, 26, 66.6, 36.94, '2024-01-18 08:13:00'), (32, 18, 70.17, 70.33, '2024-01-18 08:01:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (33, 74, 51.51, 91.45, '2024-01-13 08:50:00'), (34, 19, 25.69, 44.15, '2024-01-24 08:03:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (35, 1, 35.8, 97.27, '2024-01-27 08:28:00'), (36, 57, 16.22, 22.38, '2024-01-14 08:44:00'), (37, 73, 1.64, 21.91, '2024-01-10 08:56:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (38, 94, 11.36, 61.99, '2024-01-20 08:23:00'), (39, 60, 85.03, 90.01, '2024-01-10 08:20:00');\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (40, 91, 6.72, 99.19, '2024-01-16 08:54:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 0, 70.96, 83.8, 6.27, 86, 's44'), (2, 1, 69.34, 79.8, 88.61, 72.78, 's2');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 0, 44.41, 28.35, 30.6, 59.47, 's51');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 0, 91.75, 4.83, 55.47, 81.7, 's0'), (5, 0, 4.3, 92.81, 97.52, 40.65, 's73'), (6, 1, 48.29, 79.72, 7.27, 99.18, 's41');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 1, 36.49, 95.52, 76.55, 84.4, 's85');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 0, 80.73, 30.45, 69.93, 53.69, 's17'), (9, 0, 16.6, 20.4, 10.51, 34.94, 's60');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 1, 66.66, 32.12, 72.31, 57.44, 's76'), (11, 1, 6.44, 11.71, 12.46, 3.41, 's68'), (12, 1, 73.59, 54.82, 15.83, 31.57, 's45');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 1, 99.32, 23.5, 35.83, 81.02, 's41');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (14, 1, 57.53, 10.69, 60.76, 77.05, 's97');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 0, 16.57, 52.94, 98.04, 42.11, 's37');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 0, 98.78, 29.06, 51.75, 40.45, 's68'), (17, 0, 43, 98.25, 23.35, 59.96, 's63');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 0, 78.68, 98.76, 24.83, 37.22, 's27'), (19, 0, 58.34, 32.67, 63.6, 44.28, 's68'), (20, 1, 76.43, 96.76, 68.08, 58.71, 's38');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 1, 14.48, 47.5, 21.66, 39.99, 's10'), (22, 1, 21.28, 39.76, 56.1, 7.48, 's36');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, 1, 57.13, 62.02, 99.3, 39.92, 's39');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (24, 0, 34.52, 20.21, 18.31, 22.67, 's11'), (25, 0, 19.29, 12.88, 89.7, 91.77, 's0');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, 1, 58.86, 69.41, 87.92, 43.9, 's55'), (27, 0, 26.79, 89.99, 56.34, 88.21, 's67');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (28, 0, 0.84, 16.56, 45.13, 3.48, 's92'), (29, 1, 47.76, 57.43, 2.33, 32.27, 's69'), (30, 1, 51.62, 85.65, 0.32, 62.78, 's88');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (31, 0, 57.12, 93.36, 12.77, 20.64, 's3'), (32, 0, 2.94, 33.69, 74.03, 42.99, 's71');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (33, 1, 72.07, 40.49, 40.96, 38.48, 's48');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (34, 1, 19.99, 93.54, 53.4, 7, 's73');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (35, 0, 93.93, 36.95, 44.55, 60.52, 's38'), (36, 1, 0.98, 15.71, 81.17, 9.23, 's23');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 0, 12.25, 74.32, 78.94, 9.57, 's4');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (1, 1, 47.9, 80.82, '2024-01-12 12:35:00', 72), (2, 1, 28.86, 2.65, '2024-01-16 12:54:00', 81), (3, 0, 20.01, 81.49, '2024-01-12 12:33:00', 71);\nINSERT INTO t0 (id, c0, c1, c2, c3) VALUES (41, 26, 8.61, 79.56, '2024-01-23 08:19:00'), (42, 22, 42.84, 3.14, '2024-01-03 08:44:00'), (43, 33, 37.24, 30.67, '2024-01-21 08:21:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` float DEFAULT NULL,\n  `c2` float NOT NULL,\n  `c3` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` float NOT NULL,\n  `c2` decimal(12,2) DEFAULT NULL,\n  `c3` float NOT NULL,\n  `c4` float NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` decimal(12,2) DEFAULT NULL,\n  `c2` double NOT NULL,\n  `c3` datetime NOT NULL,\n  `c4` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0007_019be1f2-5fa0-7b6d-9eb6-c0fbd265ccce",
      "dir": "reports/case_0007_019be1f2-5fa0-7b6d-9eb6-c0fbd265ccce",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:05:16+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "b9e6a5b2b1682d7c9f009b42d31823eba86a4294",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5 WHERE (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) ORDER BY t5.c3) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5",
      "norec_predicate": "(((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3)))))",
      "sql": [
        "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5 WHERE (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) ORDER BY t5.c3",
        "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT (CASE WHEN (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5"
      ],
      "plan_replayer": "reports/case_0007_019be1f2-5fa0-7b6d-9eb6-c0fbd265ccce/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5 WHERE (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) ORDER BY t5.c3) q",
        "norec_predicate": "(((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3)))))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5",
        "optimized_explain": "StreamAgg_48\t1.00\troot\t\tfuncs:count(1)->Column#52\n└─HashAgg_51\t1.00\troot\t\tfuncs:count(1)->Column#56\n  └─Selection_55\t3750000000.00\troot\t\tnot(istrue_with_null(Column#47))\n    └─HashJoin_64\t4687500000.00\troot\t\tleft outer semi join, left side:HashJoin_84, equal:[eq(shiro_fuzz_r6.t1.c0, Column#54)]\n      ├─Projection_219(Build)\t1.00\troot\t\tcast(Column#46, decimal(20,0) BINARY)->Column#54\n      │ └─HashAgg_231\t1.00\troot\t\tfuncs:count(Column#67)->Column#46\n      │   └─IndexReader_232\t1.00\troot\tpartition:all\tindex:HashAgg_221\n      │     └─HashAgg_221\t1.00\tcop[tikv]\t\tfuncs:count(1)->Column#67\n      │       └─Selection_230\t8000.00\tcop[tikv]\t\teq(shiro_fuzz_r6.t5.c3, shiro_fuzz_r6.t5.c3)\n      │         └─IndexFullScan_229\t10000.00\tcop[tikv]\ttable:t5, index:idx_c3_7(c3)\tkeep order:false, stats:pseudo\n      └─HashJoin_84(Probe)\t4687500000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_206(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_205\n        │ └─IndexFullScan_205\t10000.00\tcop[tikv]\ttable:t5, index:idx_c3_7(c3)\tkeep order:false, stats:pseudo\n        └─HashJoin_100(Probe)\t468750.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r6.t3.c3, shiro_fuzz_r6.t2.c1)]\n          ├─IndexReader_200(Build)\t10000.00\troot\t\tindex:IndexFullScan_199\n          │ └─IndexFullScan_199\t10000.00\tcop[tikv]\ttable:t2, index:idx_c1_6(c1)\tkeep order:false, stats:pseudo\n          └─HashJoin_134(Probe)\t375000.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r6.t1.c0, shiro_fuzz_r6.t3.c1)]\n            ├─IndexLookUp_148(Build)\t10.00\troot\t\t\n            │ ├─IndexRangeScan_146(Build)\t10.00\tcop[tikv]\ttable:t1, index:idx_c1_2(c1)\trange:[1,1], keep order:false, stats:pseudo\n            │ └─TableRowIDScan_147(Probe)\t10.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n            └─HashJoin_155(Probe)\t299700000.00\troot\t\tCARTESIAN right outer join, left side:HashJoin_171\n              ├─TableReader_191(Build)\t9990.00\troot\tpartition:all\tdata:Selection_190\n              │ └─Selection_190\t9990.00\tcop[tikv]\t\tnot(isnull(shiro_fuzz_r6.t3.c3))\n              │   └─TableFullScan_189\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n              └─HashJoin_171(Probe)\t30000.00\troot\t\tCARTESIAN inner join\n                ├─Limit_172(Build)\t3.00\troot\t\toffset:0, count:3\n                │ └─IndexReader_178\t3.00\troot\tpartition:all\tindex:Limit_177\n                │   └─Limit_177\t3.00\tcop[tikv]\t\toffset:0, count:3\n                │     └─IndexRangeScan_176\t3.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\trange:[-inf,9.19], keep order:false, stats:pseudo\n                └─IndexReader_186(Probe)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_185\n                  └─IndexFullScan_185\t10000.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) THEN 1 ELSE 0 END),0) FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5 WHERE (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) ORDER BY t5.c3) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_38\t1.00\troot\t\tifnull(Column#54, 0)->Column#55\n└─HashAgg_42\t1.00\troot\t\tfuncs:sum(Column#68)->Column#54\n  └─Projection_243\t4682812500000.00\troot\t\tcast(case(and(and(nulleq(shiro_fuzz_r6.t1.c1, 1), 1), not(Column#53)), 1, 0), decimal(20,0) BINARY)->Column#68\n    └─HashJoin_52\t4682812500000.00\troot\t\tleft outer semi join, left side:HashJoin_72, equal:[eq(shiro_fuzz_r6.t1.c0, Column#57)]\n      ├─Projection_202(Build)\t1.00\troot\t\tcast(Column#52, decimal(20,0) BINARY)->Column#57\n      │ └─HashAgg_214\t1.00\troot\t\tfuncs:count(Column#66)->Column#52\n      │   └─IndexReader_215\t1.00\troot\tpartition:all\tindex:HashAgg_204\n      │     └─HashAgg_204\t1.00\tcop[tikv]\t\tfuncs:count(1)->Column#66\n      │       └─Selection_213\t8000.00\tcop[tikv]\t\teq(shiro_fuzz_r6.t5.c3, shiro_fuzz_r6.t5.c3)\n      │         └─IndexFullScan_212\t10000.00\tcop[tikv]\ttable:t5, index:idx_c3_7(c3)\tkeep order:false, stats:pseudo\n      └─HashJoin_72(Probe)\t4682812500000.00\troot\t\tCARTESIAN inner join\n        ├─IndexReader_189(Build)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_188\n        │ └─IndexFullScan_188\t10000.00\tcop[tikv]\ttable:t5, index:idx_c3_7(c3)\tkeep order:false, stats:pseudo\n        └─HashJoin_88(Probe)\t468281250.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r6.t3.c1, shiro_fuzz_r6.t1.c0)]\n          ├─TableReader_183(Build)\t10000.00\troot\t\tdata:TableFullScan_182\n          │ └─TableFullScan_182\t10000.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n          └─HashJoin_120(Probe)\t374625000.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r6.t2.c1, shiro_fuzz_r6.t3.c3)]\n            ├─IndexReader_132(Build)\t10000.00\troot\t\tindex:IndexFullScan_131\n            │ └─IndexFullScan_131\t10000.00\tcop[tikv]\ttable:t2, index:idx_c1_6(c1)\tkeep order:false, stats:pseudo\n            └─HashJoin_139(Probe)\t299700000.00\troot\t\tCARTESIAN right outer join, left side:HashJoin_155\n              ├─TableReader_175(Build)\t9990.00\troot\tpartition:all\tdata:Selection_174\n              │ └─Selection_174\t9990.00\tcop[tikv]\t\tnot(isnull(shiro_fuzz_r6.t3.c3))\n              │   └─TableFullScan_173\t10000.00\tcop[tikv]\ttable:t3\tkeep order:false, stats:pseudo\n              └─HashJoin_155(Probe)\t30000.00\troot\t\tCARTESIAN inner join\n                ├─Limit_156(Build)\t3.00\troot\t\toffset:0, count:3\n                │ └─IndexReader_162\t3.00\troot\tpartition:all\tindex:Limit_161\n                │   └─Limit_161\t3.00\tcop[tikv]\t\toffset:0, count:3\n                │     └─IndexRangeScan_160\t3.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\trange:[-inf,9.19], keep order:false, stats:pseudo\n                └─IndexReader_170(Probe)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_169\n                  └─IndexFullScan_169\t10000.00\tcop[tikv]\ttable:t0, index:idx_c1(c1)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t3.c0) AS sum1 FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5 WHERE (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) ORDER BY t5.c3;\nWITH cte_0 AS (SELECT t0.c0 AS c0, t0.c1 AS c1, t0.id AS c2 FROM t0 WHERE (t0.c1 < 9.19) LIMIT 3) SELECT (CASE WHEN (((t1.c1 <=> 1) AND ('s63' >= 's61')) AND NOT (t1.c0 IN ((SELECT COUNT(1) AS cnt FROM t5 WHERE (t5.c3 = t5.c3))))) THEN 1 ELSE 0 END) AS b FROM t0 CROSS JOIN cte_0 RIGHT JOIN t3 ON (('s88' != 's84') OR (57 < 64)) RIGHT JOIN t2 ON (t3.c3 = t2.c1) JOIN t1 ON (t3.c1 = t1.c0) CROSS JOIN t5;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n57\t87.96\t71.41\n59\t4.5\t56.27\n61\t56.76\t51.53\n10\t94.42\t18.2\n32\t93.16\t1.08\n56\t41.23\t29.73\n58\t24.41\t97.44\n60\t17.89\t70.97\n62\t14.86\t26.34\n\n-- t1\n\n-- t2\n1\t21.61\ts17\t47\t39.88\t2024-01-23\n2\t54.05\ts62\t64\t11.26\t2024-01-22\n4\t67.09\ts57\t39\t65.84\t2024-01-01\n5\t1.3\ts38\t54\t21.56\t2024-01-28\n7\t49.23\ts6\t2\t69.79\t2024-01-18\n8\t36.74\ts44\t94\t17.88\t2024-01-28\n9\t60.72\ts13\t96\t26.61\t2024-01-16\n10\t95.2\ts25\t1\t83.5\t2024-01-24\n11\t51.48\ts95\t3\t0.22\t2024-01-13\n12\t67.46\ts93\t86\t47.65\t2024-01-16\n13\t40.29\ts35\t71\t36.34\t2024-01-13\n14\t78.29\ts67\t37\t17.79\t2024-01-10\n15\t18.8\ts65\t38\t94.79\t2024-01-10\n16\t86.26\ts35\t91\t54\t2024-01-14\n17\t88.36\ts25\t49\t77.56\t2024-01-09\n\n-- t3\n3\t3\t55.48\t97.48\ts94\t87.96\t88.90\t2024-01-08 08:23:00\n7\t97\t84.71\t15.59\ts73\t81.87\t71.23\t2024-01-12 08:10:00\n4\t30\t24.23\t32.41\ts92\t93.21\t99.44\t2024-01-06 08:25:00\n2\t63\t2.20\t81.88\ts46\t65.11\t30.80\t2024-01-11 08:10:00\n6\t79\t3.64\t31.71\ts15\t34.02\t18.28\t2024-01-25 08:56:00\n1\t14\t3.12\t31.57\ts95\t1.18\t70.01\t2024-01-11 08:36:00\n5\t89\t19.37\t15.75\ts43\t40.75\t22.03\t2024-01-15 08:55:00\n\n-- t4\n1\t92\ts92\t2024-01-07 08:21:00\t0\t2024-01-02\n2\t44\ts80\t2024-01-01 08:36:00\t0\t2024-01-27\n4\t84\ts95\t2024-01-17 08:55:00\t0\t2024-01-28\n5\t25\ts36\t2024-01-27 08:13:00\t0\t2024-01-18\n7\t77\ts98\t2024-01-13 08:22:00\t1\t2024-01-24\n8\t18\ts76\t2024-01-19 08:50:00\t1\t2024-01-16\n9\t6\ts64\t2024-01-24 08:09:00\t0\t2024-01-20\n10\t57\ts55\t2024-01-10 08:11:00\t0\t2024-01-04\n11\t78\ts36\t2024-01-09 08:52:00\t0\t2024-01-08\n\n-- t5\n13\t2024-01-11\t78\t59.22\t49.84\t71.55\n15\t2024-01-08\t96\t46.42\t46.84\t27.71\n6\t2024-01-11\t91\t99.49\t30.06\t34.60\n14\t2024-01-15\t54\t33.79\t70.44\t23.42\n16\t2024-01-13\t79\t8.88\t60.46\t9.95\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1) VALUES (1, 23.13, 47.95);\nINSERT INTO t0 (id, c0, c1) VALUES (2, 12.98, 77.27), (3, 86.35, 71.24), (4, 12.36, 99.09);\nINSERT INTO t0 (id, c0, c1) VALUES (5, 49.46, 46.11), (6, 81.89, 51.59);\nINSERT INTO t0 (id, c0, c1) VALUES (7, 44.92, 15.13), (8, 72.96, 42.81);\nINSERT INTO t0 (id, c0, c1) VALUES (9, 38.47, 98.75);\nINSERT INTO t0 (id, c0, c1) VALUES (10, 93.42, 17.2);\nINSERT INTO t0 (id, c0, c1) VALUES (11, 12.84, 35.59), (12, 66.9, 15.61);\nINSERT INTO t0 (id, c0, c1) VALUES (13, 82.35, 68.25), (14, 45.44, 9.31), (15, 93.96, 45.86);\nINSERT INTO t0 (id, c0, c1) VALUES (16, 43.75, 36.59), (17, 65.38, 43.04), (18, 88.06, 75.33);\nINSERT INTO t0 (id, c0, c1) VALUES (19, 80.58, 34.67);\nINSERT INTO t0 (id, c0, c1) VALUES (20, 94.08, 75.42);\nINSERT INTO t0 (id, c0, c1) VALUES (21, 97.23, 55.35), (22, 62.46, 75.8);\nINSERT INTO t0 (id, c0, c1) VALUES (23, 78.22, 90.55), (24, 71.07, 72.22), (25, 74.42, 28.16);\nINSERT INTO t0 (id, c0, c1) VALUES (26, 19.63, 21.99), (27, 9.06, 66.31), (28, 78.23, 34.53);\nINSERT INTO t0 (id, c0, c1) VALUES (29, 73.11, 39.58), (30, 96.76, 45.91);\nINSERT INTO t0 (id, c0, c1) VALUES (31, 62.46, 38.61), (32, 91.16, 0.08);\nINSERT INTO t0 (id, c0, c1) VALUES (33, 66.64, 73.87);\nINSERT INTO t0 (id, c0, c1) VALUES (34, 96.94, 48.25), (35, 86.13, 83.86), (36, 11.11, 62.23);\nINSERT INTO t0 (id, c0, c1) VALUES (37, 66.23, 42.38), (38, 62.99, 94.29);\nINSERT INTO t0 (id, c0, c1) VALUES (39, 80.12, 31.63), (40, 43.18, 21.57);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 63.86, 1, 0, 67.65, 49, 's50');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (2, 72.23, 0, 1, 51.45, 55, 's31'), (3, 11.03, 1, 0, 95.89, 76, 's54'), (4, 17.32, 0, 0, 52.94, 25, 's58');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 99.94, 1, 1, 95.91, 45, 's56');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 14.31, 1, 1, 82.94, 45, 's86'), (7, 10.12, 0, 0, 38.16, 94, 's25');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 13.92, 0, 0, 31.03, 99, 's22'), (9, 31.08, 1, 1, 91.06, 99, 's84'), (10, 68.64, 0, 0, 7.08, 54, 's71');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 62.04, 0, 0, 67.33, 50, 's51'), (12, 88.38, 1, 0, 50.96, 10, 's43');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 60.71, 1, 0, 80.84, 71, 's4');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (14, 1.63, 0, 0, 50.44, 81, 's47');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 52.32, 1, 1, 97.66, 53, 's68'), (16, 18.64, 1, 0, 70.69, 24, 's61'), (17, 49.84, 1, 1, 36.91, 91, 's27');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 98.91, 1, 0, 9.3, 21, 's31'), (19, 86.17, 0, 1, 22.14, 43, 's86'), (20, 66.08, 1, 0, 20.93, 73, 's25');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 72.94, 0, 1, 17.41, 95, 's59'), (22, 76.86, 1, 0, 97.66, 59, 's96');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, 83.25, 0, 1, 76.26, 52, 's19'), (24, 40.8, 1, 0, 11.73, 49, 's53'), (25, 28.54, 1, 0, 26.6, 95, 's13');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, 95.85, 0, 0, 25.52, 65, 's22'), (27, 89.5, 0, 1, 3.56, 69, 's20');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (28, 76.41, 0, 0, 23.28, 8, 's60');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (29, 18.08, 1, 0, 69.9, 42, 's64');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (30, 15.38, 1, 1, 7.32, 9, 's66'), (31, 44.4, 1, 1, 68.6, 67, 's41'), (32, 79.04, 1, 0, 1.32, 3, 's48');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (33, 48.41, 0, 1, 25, 50, 's10'), (34, 95.68, 1, 0, 29.49, 71, 's1');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (35, 90.91, 0, 0, 75.76, 80, 's45'), (36, 51.42, 0, 1, 17.71, 40, 's81');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 35.5, 1, 0, 59.01, 95, 's5'), (38, 73.61, 1, 0, 63.23, 18, 's78'), (39, 10.82, 0, 1, 79.9, 23, 's22');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (40, 55.02, 0, 0, 86.8, 28, 's87'), (41, 16.36, 1, 0, 69.76, 19, 's9'), (42, 14.49, 1, 0, 38.85, 9, 's38');\nINSERT INTO t0 (id, c0, c1) VALUES (41, 14.13, 38.15), (42, 53.52, 44.49), (43, 43.77, 30.42);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (43, 83.2, 1, 1, 59.85, 13, 's20'), (44, 59.25, 0, 0, 89.01, 16, 's15');\nINSERT INTO t0 (id, c0, c1) VALUES (44, 22.83, 92.16), (45, 94.88, 89.85);\nINSERT INTO t0 (id, c0, c1) VALUES (46, 54.16, 55.97), (47, 50.31, 84.83), (48, 98.45, 51);\nINSERT INTO t0 (id, c0, c1) VALUES (49, 87.89, 18.8), (50, 39.73, 76.84), (51, 89.53, 22.51);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (1, 20.61, 's17', 47, 39.88, '2024-01-23'), (2, 53.05, 's62', 64, 11.26, '2024-01-22'), (3, 41.81, 's71', 78, 79, '2024-01-02');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (45, 14.75, 0, 1, 39.57, 76, 's14'), (46, 1.41, 0, 0, 16.55, 38, 's8'), (47, 5.05, 1, 0, 92.64, 22, 's82');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 14, 3.12, 31.57, 's95', 1.18, 70.01, '2024-01-11 08:36:00'), (2, 63, 2.2, 81.88, 's46', 65.11, 30.8, '2024-01-11 08:10:00');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (1, 91, 's92', '2024-01-07 08:21:00', 0, '2024-01-02'), (2, 43, 's80', '2024-01-01 08:36:00', 0, '2024-01-27'), (3, 45, 's77', '2024-01-07 08:28:00', 1, '2024-01-11');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (4, 83, 's95', '2024-01-17 08:55:00', 0, '2024-01-28'), (5, 24, 's36', '2024-01-27 08:13:00', 0, '2024-01-18'), (6, 61, 's65', '2024-01-07 08:16:00', 1, '2024-01-06');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (4, 66.09, 's57', 39, 65.84, '2024-01-01');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (3, 3, 55.48, 97.48, 's94', 87.96, 88.9, '2024-01-08 08:23:00'), (4, 30, 24.23, 32.41, 's92', 93.21, 99.44, '2024-01-06 08:25:00'), (5, 89, 19.37, 15.75, 's43', 40.75, 22.03, '2024-01-15 08:55:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (5, 0.3, 's38', 54, 21.56, '2024-01-28'), (6, 86.44, 's51', 68, 97.3, '2024-01-16'), (7, 48.23, 's6', 2, 69.79, '2024-01-18');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (48, 41.97, 1, 1, 37.27, 27, 's24');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (49, 55.85, 1, 0, 37.86, 15, 's59');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (1, '2024-01-11', 18, 96.06, 6.45, 1.31), (2, '2024-01-21', 48, 24.89, 56.66, 42.86);\nINSERT INTO t0 (id, c0, c1) VALUES (52, 6.34, 54.77);\nINSERT INTO t0 (id, c0, c1) VALUES (53, 70.71, 67.63), (54, 59.9, 24.55);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (7, 77, 's98', '2024-01-13 08:22:00', 1, '2024-01-24'), (8, 18, 's76', '2024-01-19 08:50:00', 1, '2024-01-16');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (3, '2024-01-24', 4, 5.96, 0.61, 60.83);\nINSERT INTO t0 (id, c0, c1) VALUES (55, 9.65, 43.44);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (4, '2024-01-23', 32, 16.89, 9.52, 6.61), (5, '2024-01-21', 34, 3.79, 43.97, 5.36), (6, '2024-01-11', 91, 99.49, 30.06, 34.6);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (8, 36.74, 's44', 94, 17.88, '2024-01-28');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (9, 60.72, 's13', 96, 26.61, '2024-01-16');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4) VALUES (9, 6, 's64', '2024-01-24 08:09:00', 0, '2024-01-20'), (10, 57, 's55', '2024-01-10 08:11:00', 0, '2024-01-04'), (11, 78, 's36', '2024-01-09 08:52:00', 0, '2024-01-08');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (10, 95.2, 's25', 1, 83.5, '2024-01-24'), (11, 51.48, 's95', 3, 0.22, '2024-01-13');\nINSERT INTO t0 (id, c0, c1) VALUES (56, 41.23, 28.73), (57, 87.96, 69.41);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (12, 67.46, 's93', 86, 47.65, '2024-01-16');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (6, 79, 3.64, 31.71, 's15', 34.02, 18.28, '2024-01-25 08:56:00'), (7, 97, 84.71, 15.59, 's73', 81.87, 71.23, '2024-01-12 08:10:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (13, 40.29, 's35', 71, 36.34, '2024-01-13'), (14, 78.29, 's67', 37, 17.79, '2024-01-10');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (7, '2024-01-25', 46, 22.9, 30.97, 82.44), (8, '2024-01-04', 66, 40.37, 5.36, 8.95);\nINSERT INTO t0 (id, c0, c1) VALUES (58, 24.41, 96.44);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (9, '2024-01-02', 82, 9.15, 79.69, 75.68), (10, '2024-01-04', 49, 84.93, 76.47, 29.05);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (11, '2024-01-06', 32, 41.01, 16.42, 62.11), (12, '2024-01-08', 27, 0.82, 77.81, 67.67);\nINSERT INTO t0 (id, c0, c1) VALUES (59, 4.5, 55.27), (60, 17.89, 69.97);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (15, 18.8, 's65', 38, 94.79, '2024-01-10'), (16, 86.26, 's35', 91, 54, '2024-01-14'), (17, 88.36, 's25', 49, 77.56, '2024-01-09');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (50, 42.35, 1, 1, 70.22, 73, 's14');\nINSERT INTO t0 (id, c0, c1) VALUES (61, 56.76, 51.53);\nINSERT INTO t0 (id, c0, c1) VALUES (62, 14.86, 26.34);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (13, '2024-01-11', 78, 59.22, 49.84, 71.55), (14, '2024-01-15', 54, 33.79, 70.44, 23.42);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4) VALUES (15, '2024-01-08', 96, 46.42, 46.84, 27.71), (16, '2024-01-13', 79, 8.88, 60.46, 9.95);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` float DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_id_3` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` tinyint(1) NOT NULL,\n  `c2` tinyint(1) DEFAULT NULL,\n  `c3` float NOT NULL,\n  `c4` int NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5_0` (`c5`),\n  KEY `idx_id_1` (`id`),\n  KEY `idx_c1_2` (`c1`),\n  KEY `idx_c3_4` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` double NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` int NOT NULL,\n  `c3` float NOT NULL,\n  `c4` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c1_6` (`c1`),\n  KEY `idx_c4_8` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` double DEFAULT NULL,\n  `c3` varchar(64) DEFAULT NULL,\n  `c4` float DEFAULT NULL,\n  `c5` decimal(12,2) NOT NULL,\n  `c6` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c1_5` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` int DEFAULT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  `c3` float NOT NULL,\n  `c4` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c3_7` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0006_019be1f1-b8d2-7bd7-98c0-8dc58b43e49a",
      "dir": "reports/case_0006_019be1f1-b8d2-7bd7-98c0-8dc58b43e49a",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:04:33+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "b294b705070ce791dc803933121bd5669b612fdd",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=1470",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t0.id < 38) ORDER BY cte_0.c0, cte_0.c0) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id < 38) THEN 1 ELSE 0 END),0) FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
      "norec_predicate": "(t0.id < 38)",
      "sql": [
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t0.id < 38) ORDER BY cte_0.c0, cte_0.c0",
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT (CASE WHEN (t0.id < 38) THEN 1 ELSE 0 END) AS b FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1)"
      ],
      "plan_replayer": "reports/case_0006_019be1f1-b8d2-7bd7-98c0-8dc58b43e49a/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t0.id < 38) ORDER BY cte_0.c0, cte_0.c0) q",
        "norec_predicate": "(t0.id < 38)",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id < 38) THEN 1 ELSE 0 END),0) FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
        "optimized_explain": "StreamAgg_32\t1.00\troot\t\tfuncs:count(1)->Column#24\n└─HashAgg_35\t1.00\troot\t\tfuncs:count(1)->Column#26\n  └─HashJoin_53\t380000.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_62(Build)\t38.00\troot\t\tleft outer join, left side:TableReader_65, equal:[eq(shiro_fuzz_r5.t0.c1, shiro_fuzz_r5.t0.c1)]\n    │ ├─Limit_66(Build)\t3.00\troot\t\toffset:0, count:3\n    │ │ └─TableReader_72\t3.00\troot\t\tdata:Limit_71\n    │ │   └─Limit_71\t3.00\tcop[tikv]\t\toffset:0, count:3\n    │ │     └─TableRangeScan_70\t3.00\tcop[tikv]\ttable:t0\trange:(44,+inf], keep order:false, stats:pseudo\n    │ └─TableReader_65(Probe)\t3333.33\troot\t\tdata:TableRangeScan_64\n    │   └─TableRangeScan_64\t3333.33\tcop[tikv]\ttable:t0\trange:[-inf,38), keep order:false, stats:pseudo\n    └─IndexReader_82(Probe)\t10000.00\troot\t\tindex:IndexFullScan_81\n      └─IndexFullScan_81\t10000.00\tcop[tikv]\ttable:t1, index:idx_c4_0(c4)\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT IFNULL(SUM(CASE WHEN (t0.id < 38) THEN 1 ELSE 0 END),0) FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t0.id < 38) ORDER BY cte_0.c0, cte_0.c0) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_21\t1.00\troot\t\tifnull(Column#20, 0)->Column#21\n└─HashAgg_25\t1.00\troot\t\tfuncs:sum(Column#28)->Column#20\n  └─Projection_102\t100000000.00\troot\t\tcast(case(lt(shiro_fuzz_r5.t0.id, 38), 1, 0), decimal(20,0) BINARY)->Column#28\n    └─HashJoin_45\t100000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_54(Build)\t10000.00\troot\t\tleft outer join, left side:IndexReader_59, equal:[eq(shiro_fuzz_r5.t0.c1, shiro_fuzz_r5.t0.c1)]\n      │ ├─Limit_60(Build)\t3.00\troot\t\toffset:0, count:3\n      │ │ └─TableReader_66\t3.00\troot\t\tdata:Limit_65\n      │ │   └─Limit_65\t3.00\tcop[tikv]\t\toffset:0, count:3\n      │ │     └─TableRangeScan_64\t3.00\tcop[tikv]\ttable:t0\trange:(44,+inf], keep order:false, stats:pseudo\n      │ └─IndexReader_59(Probe)\t10000.00\troot\t\tindex:IndexFullScan_58\n      │   └─IndexFullScan_58\t10000.00\tcop[tikv]\ttable:t0, index:idx_c1_2(c1)\tkeep order:false, stats:pseudo\n      └─IndexReader_76(Probe)\t10000.00\troot\t\tindex:IndexFullScan_75\n        └─IndexFullScan_75\t10000.00\tcop[tikv]\ttable:t1, index:idx_c4_0(c4)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT COUNT(1) AS cnt, SUM(t1.c3) AS sum1 FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1) WHERE (t0.id < 38) ORDER BY cte_0.c0, cte_0.c0;\nWITH cte_0 AS (SELECT t0.id AS c0, t0.c1 AS c1, t0.c0 AS c2 FROM t0 WHERE (t0.id > 44) LIMIT 3) SELECT (CASE WHEN (t0.id < 38) THEN 1 ELSE 0 END) AS b FROM t1 CROSS JOIN t0 LEFT JOIN cte_0 ON (t0.c1 = cte_0.c1);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t2024-01-23\t2024-01-23 12:11:00\n2\t2024-01-24\t2024-01-23 12:11:00\n3\t2024-01-25\t2024-01-23 12:11:00\n4\t2024-01-12\t2024-01-23 12:11:00\n6\t2024-01-26\t2024-01-23 12:11:00\n7\t2024-01-14\t2024-01-23 12:11:00\n8\t2024-01-25\t2024-01-23 12:11:00\n9\t2024-01-26\t2024-01-23 12:11:00\n10\t2024-01-11\t2024-01-23 12:11:00\n11\t2024-01-23\t2024-01-23 12:11:00\n12\t2024-01-16\t2024-01-23 12:11:00\n13\t2024-01-10\t2024-01-05 12:40:00\n14\t2024-01-20\t2024-01-06 12:00:00\n15\t2024-01-21\t2024-01-10 12:55:00\n16\t2024-01-20\t2024-01-19 12:10:00\n17\t2024-01-22\t2024-01-02 12:31:00\n19\t2024-01-28\t2024-01-24 12:07:00\n21\t2024-01-06\t2024-01-09 12:05:00\n22\t2024-01-23\t2024-01-10 12:57:00\n24\t2024-01-19\t2024-01-17 12:21:00\n26\t2024-01-10\t2024-01-21 12:30:00\n28\t2024-01-24\t2024-01-07 12:28:00\n29\t2024-01-15\t2024-01-05 12:40:00\n30\t2024-01-15\t2024-01-15 12:11:00\n31\t2024-01-03\t2024-01-03 12:58:00\n32\t2024-01-20\t2024-01-13 12:51:00\n33\t2024-01-28\t2024-01-22 12:00:00\n35\t2024-01-13\t2024-01-19 12:30:00\n36\t2024-01-14\t2024-01-20 12:07:00\n37\t2024-01-24\t2024-01-16 12:27:00\n38\t2024-01-26\t2024-01-15 12:10:00\n39\t2024-01-05\t2024-01-02 12:36:00\n40\t2024-01-16\t2024-01-02 12:03:00\n41\t2024-01-24\t2024-01-05 12:48:00\n42\t2024-01-03\t2024-01-13 12:09:00\n44\t2024-01-15\t2024-01-20 12:25:00\n45\t2024-01-08\t2024-01-17 12:28:00\n46\t2024-01-03\t2024-01-24 12:30:00\n47\t2024-01-07\t2024-01-25 12:27:00\n48\t2024-01-13\t2024-01-23 12:41:00\n\n-- t1\n1\t89.71\t2024-01-01 08:18:00\t2024-01-20 08:45:00\t81.25\t91.52\t57.25\n2\t52.25\t2024-01-01 08:18:00\t2024-01-13 08:24:00\t80.99\t84.32\t22.21\n3\t54.39\t2024-01-25 08:26:00\t2024-01-28 08:03:00\t5.23\t15.18\t85.62\n4\t13.32\t2024-01-01 08:18:00\t2024-01-17 08:28:00\t53.64\t98.45\t59.45\n5\t12.76\t2024-01-01 08:18:00\t2024-01-06 08:35:00\t76.65\t33.07\t2.33\n6\t47.45\t2024-01-01 08:18:00\t2024-01-19 08:35:00\t83.51\t74.31\t55.1\n7\t23.6\t2024-01-01 08:18:00\t2024-01-02 08:42:00\t81.52\t29.56\t10.23\n8\t79.01\t2024-01-01 08:18:00\t2024-01-18 08:46:00\t88.24\t19.55\t89.75\n9\t29.85\t2024-01-01 08:18:00\t2024-01-05 08:04:00\t95.58\t5.27\t92.71\n10\t25.97\t2024-01-01 08:18:00\t2024-01-02 08:25:00\t73.82\t13.85\t63.17\n11\t80.94\t2024-01-01 08:18:00\t2024-01-25 08:41:00\t40.47\t71.79\t11.73\n12\t34.79\t2024-01-01 08:18:00\t2024-01-12 08:23:00\t75.01\t98.66\t73.47\n13\t50.55\t2024-01-01 08:18:00\t2024-01-02 08:03:00\t47.80\t69.39\t22.98\n14\t94.53\t2024-01-01 08:18:00\t2024-01-05 08:11:00\t96.65\t54.67\t33.68\n15\t60.89\t2024-01-01 08:18:00\t2024-01-16 08:13:00\t75.46\t32.059998\t62.26\n16\t76.06\t2024-01-01 08:18:00\t2024-01-13 08:42:00\t61.03\t100.22\t33.44\n17\t64.99\t2024-01-01 08:18:00\t2024-01-04 08:31:00\t98.80\t48.71\t30.01\n18\t78.16\t2024-01-01 08:18:00\t2024-01-02 08:25:00\t80.26\t67.85\t45.85\n19\t97.63\t2024-01-01 08:18:00\t2024-01-03 08:53:00\t77.68\t78.22\t0.39\n20\t17.47\t2024-01-10 08:56:00\t2024-01-18 08:13:00\t17.28\t38.03\t21.02\n21\t91.44\t2024-01-01 08:18:00\t2024-01-14 08:46:00\t47.56\t83.27\t34.15\n22\t13.91\t2024-01-01 08:18:00\t2024-01-06 08:34:00\t25.08\t90.98\t4.31\n23\t47.99\t2024-01-01 08:18:00\t2024-01-20 08:05:00\t18.57\t90.42\t88.81\n24\t47.16\t2024-01-01 08:18:00\t2024-01-18 08:41:00\t96.85\t75.98\t81.41\n25\t1.84\t2024-01-12 08:30:00\t2024-01-15 08:52:00\t1.97\t90.67\t94.25\n26\t57.63\t2024-01-01 08:18:00\t2024-01-19 08:11:00\t79.39\t5.63\t58.82\n27\t1.58\t2024-01-01 08:18:00\t2024-01-16 08:26:00\t92.03\t79.88\t36.13\n28\t56.87\t2024-01-01 08:18:00\t2024-01-15 08:40:00\t93.00\t89.87\t21.53\n29\t95.59\t2024-01-05 08:37:00\t2024-01-18 08:30:00\t0.38\t14.59\t45.36\n30\t60.65\t2024-01-01 08:18:00\t2024-01-02 08:50:00\t47.99\t100.08\t57.9\n31\t20.16\t2024-01-01 08:18:00\t2024-01-06 08:37:00\t33.74\t59.7\t89.31\n32\t86.99\t2024-01-01 08:18:00\t2024-01-10 08:53:00\t38.30\t99.63\t53.03\n33\t6.85\t2024-01-05 08:43:00\t2024-01-28 08:24:00\t5.72\t80.34\t26.17\n34\t25.57\t2024-01-23 08:49:00\t2024-01-20 08:00:00\t5.42\t96.13\t25.45\n35\t85.01\t2024-01-01 08:18:00\t2024-01-28 08:49:00\t48.61\t85.13\t3.07\n36\t86.35\t2024-01-01 08:18:00\t2024-01-15 08:10:00\t78.60\t66.6\t39.48\n37\t5.95\t2024-01-19 08:06:00\t2024-01-21 08:26:00\t5.66\t56.74\t73.56\n38\t10.77\t2024-01-01 08:18:00\t2024-01-28 08:27:00\t62.95\t10.88\t88.92\n39\t48.24\t2024-01-01 08:18:00\t2024-01-23 08:54:00\t86.63\t72.66\t56.45\n40\t65.21\t2024-01-01 08:18:00\t2024-01-02 08:14:00\t95.15\t22.77\t6.09\n41\t66.63\t2024-01-01 08:18:00\t2024-01-13 08:04:00\t33.69\t85\t6.25\n42\t42.51\t2024-01-01 08:18:00\t2024-01-16 08:41:00\t53.08\t63.89\t20.73\n43\t92.36\t2024-01-01 08:18:00\t2024-01-16 08:12:00\t53.59\t30.43\t0.73\n44\t83.59\t2024-01-20 08:33:00\t2024-01-05 08:32:00\t9.57\t45.85\t68.33\n45\t60.61\t2024-01-01 08:18:00\t2024-01-05 08:46:00\t37.47\t35.44\t45.35\n46\t74.28\t2024-01-01 08:18:00\t2024-01-08 08:38:00\t37.66\t69.41\t88.96\n47\t48.34\t2024-01-01 08:18:00\t2024-01-18 08:09:00\t69.49\t16.89\t6.89\n48\t24.93\t2024-01-01 08:18:00\t2024-01-12 08:05:00\t66.90\t62.21\t67.9\n49\t88.48\t2024-01-01 08:18:00\t2024-01-07 08:14:00\t87.87\t18.73\t13.26\n\n-- t2\n1\t2024-01-26 12:27:00\ts36\n2\t2024-01-26 12:27:00\ts36\n3\t2024-01-26 12:27:00\ts81\n4\t2024-01-26 12:27:00\ts9\n5\t2024-01-26 12:27:00\ts20\n6\t2024-01-26 12:27:00\ts49\n7\t2024-01-23 12:51:00\ts97\n8\t2024-01-24 12:18:00\ts51\n9\t2024-01-25 12:39:00\ts72\n\n-- t3\n2\t11.05\t1\n5\t93.16\t0\n1\t5.57\t1\n4\t48.07\t0\n7\t8.55\t1\n3\t76.28\t1\n6\t55.34\t0\n\n-- t4\n1\t38.21\t25\t2024-01-08\t87\t43\t2024-01-09\t2024-01-20\n2\t84.07\t48\t2024-01-14\t21\t43\t2024-01-17\t2024-01-14\n3\t55.67\t16\t2024-01-05\t92\t49\t2024-01-27\t2024-01-01\n4\t65.71\t87\t2024-01-13\t34\t19\t2024-01-18\t2024-01-15\n5\t60.65\t94\t2024-01-25\t25\t57\t2024-01-25\t2024-01-25\n6\t86.55\t77\t2024-01-06\t10\t3\t2024-01-19\t2024-01-06\n\n-- t5\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1) VALUES (1, '2024-01-23', '2024-01-09 12:05:00'), (2, '2024-01-24', '2024-01-13 12:51:00');\nINSERT INTO t0 (id, c0, c1) VALUES (3, '2024-01-25', '2024-01-04 12:28:00');\nINSERT INTO t0 (id, c0, c1) VALUES (4, '2024-01-12', '2024-01-10 12:15:00'), (5, '2024-01-13', '2024-01-28 12:03:00');\nINSERT INTO t0 (id, c0, c1) VALUES (6, '2024-01-26', '2024-01-16 12:29:00'), (7, '2024-01-14', '2024-01-07 12:39:00');\nINSERT INTO t0 (id, c0, c1) VALUES (8, '2024-01-25', '2024-01-07 12:13:00'), (9, '2024-01-26', '2024-01-16 12:18:00');\nINSERT INTO t0 (id, c0, c1) VALUES (10, '2024-01-11', '2024-01-21 12:23:00'), (11, '2024-01-23', '2024-01-10 12:15:00'), (12, '2024-01-16', '2024-01-20 12:55:00');\nINSERT INTO t0 (id, c0, c1) VALUES (13, '2024-01-10', '2024-01-05 12:40:00'), (14, '2024-01-20', '2024-01-06 12:00:00'), (15, '2024-01-21', '2024-01-10 12:55:00');\nINSERT INTO t0 (id, c0, c1) VALUES (16, '2024-01-20', '2024-01-19 12:10:00'), (17, '2024-01-22', '2024-01-02 12:31:00');\nINSERT INTO t0 (id, c0, c1) VALUES (18, '2024-01-09', '2024-01-26 12:41:00'), (19, '2024-01-28', '2024-01-24 12:07:00'), (20, '2024-01-02', '2024-01-01 12:34:00');\nINSERT INTO t0 (id, c0, c1) VALUES (21, '2024-01-06', '2024-01-09 12:05:00');\nINSERT INTO t0 (id, c0, c1) VALUES (22, '2024-01-23', '2024-01-10 12:57:00');\nINSERT INTO t0 (id, c0, c1) VALUES (23, '2024-01-27', '2024-01-26 12:13:00'), (24, '2024-01-19', '2024-01-17 12:21:00');\nINSERT INTO t0 (id, c0, c1) VALUES (25, '2024-01-04', '2024-01-26 12:36:00'), (26, '2024-01-10', '2024-01-21 12:30:00'), (27, '2024-01-21', '2024-01-26 12:55:00');\nINSERT INTO t0 (id, c0, c1) VALUES (28, '2024-01-24', '2024-01-07 12:28:00'), (29, '2024-01-15', '2024-01-05 12:40:00');\nINSERT INTO t0 (id, c0, c1) VALUES (30, '2024-01-15', '2024-01-15 12:11:00');\nINSERT INTO t0 (id, c0, c1) VALUES (31, '2024-01-03', '2024-01-03 12:58:00'), (32, '2024-01-20', '2024-01-13 12:51:00'), (33, '2024-01-28', '2024-01-22 12:00:00');\nINSERT INTO t0 (id, c0, c1) VALUES (34, '2024-01-02', '2024-01-01 12:11:00'), (35, '2024-01-13', '2024-01-19 12:30:00'), (36, '2024-01-14', '2024-01-20 12:07:00');\nINSERT INTO t0 (id, c0, c1) VALUES (37, '2024-01-24', '2024-01-16 12:27:00');\nINSERT INTO t0 (id, c0, c1) VALUES (38, '2024-01-26', '2024-01-15 12:10:00'), (39, '2024-01-05', '2024-01-02 12:36:00');\nINSERT INTO t0 (id, c0, c1) VALUES (40, '2024-01-16', '2024-01-02 12:03:00'), (41, '2024-01-24', '2024-01-05 12:48:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 89.71, '2024-01-28 08:56:00', '2024-01-20 08:45:00', 81.25, 90.52, 57.25), (2, 52.25, '2024-01-22 08:49:00', '2024-01-13 08:24:00', 80.99, 83.32, 22.21), (3, 54.39, '2024-01-25 08:26:00', '2024-01-28 08:03:00', 5.23, 14.18, 85.62);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (4, 13.32, '2024-01-09 08:02:00', '2024-01-17 08:28:00', 53.64, 97.45, 59.45);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 12.76, '2024-01-26 08:00:00', '2024-01-06 08:35:00', 76.65, 32.07, 2.33), (6, 47.45, '2024-01-22 08:12:00', '2024-01-19 08:35:00', 83.51, 73.31, 55.1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (7, 23.6, '2024-01-13 08:34:00', '2024-01-02 08:42:00', 81.52, 28.56, 10.23);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 79.01, '2024-01-08 08:49:00', '2024-01-18 08:46:00', 88.24, 18.55, 89.75), (9, 29.85, '2024-01-07 08:03:00', '2024-01-05 08:04:00', 95.58, 4.27, 92.71);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 25.97, '2024-01-11 08:28:00', '2024-01-02 08:25:00', 73.82, 12.85, 63.17);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 80.94, '2024-01-20 08:46:00', '2024-01-25 08:41:00', 40.47, 70.79, 11.73);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 34.79, '2024-01-07 08:09:00', '2024-01-12 08:23:00', 75.01, 97.66, 73.47);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, 50.55, '2024-01-15 08:56:00', '2024-01-02 08:03:00', 47.8, 68.39, 22.98), (14, 94.53, '2024-01-01 08:00:00', '2024-01-05 08:11:00', 96.65, 53.67, 33.68), (15, 60.89, '2024-01-16 08:14:00', '2024-01-16 08:13:00', 75.46, 31.06, 62.26);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 76.06, '2024-01-16 08:15:00', '2024-01-13 08:42:00', 61.03, 99.22, 33.44);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (17, 64.99, '2024-01-02 08:20:00', '2024-01-04 08:31:00', 98.8, 47.71, 30.01), (18, 78.16, '2024-01-18 08:11:00', '2024-01-02 08:25:00', 80.26, 66.85, 45.85);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 97.63, '2024-01-12 08:00:00', '2024-01-03 08:53:00', 77.68, 77.22, 0.39);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (20, 17.47, '2024-01-10 08:56:00', '2024-01-18 08:13:00', 17.28, 37.03, 21.02), (21, 91.44, '2024-01-09 08:11:00', '2024-01-14 08:46:00', 47.56, 82.27, 34.15), (22, 13.91, '2024-01-17 08:44:00', '2024-01-06 08:34:00', 25.08, 89.98, 4.31);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, 47.99, '2024-01-09 08:12:00', '2024-01-20 08:05:00', 18.57, 89.42, 88.81), (24, 47.16, '2024-01-02 08:02:00', '2024-01-18 08:41:00', 96.85, 74.98, 81.41), (25, 1.84, '2024-01-12 08:30:00', '2024-01-15 08:52:00', 1.97, 89.67, 94.25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (26, 57.63, '2024-01-22 08:03:00', '2024-01-19 08:11:00', 79.39, 4.63, 58.82), (27, 1.58, '2024-01-23 08:25:00', '2024-01-16 08:26:00', 92.03, 78.88, 36.13), (28, 56.87, '2024-01-16 08:41:00', '2024-01-15 08:40:00', 93, 88.87, 21.53);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (29, 95.59, '2024-01-05 08:37:00', '2024-01-18 08:30:00', 0.38, 13.59, 45.36), (30, 60.65, '2024-01-23 08:47:00', '2024-01-02 08:50:00', 47.99, 99.08, 57.9), (31, 20.16, '2024-01-13 08:52:00', '2024-01-06 08:37:00', 33.74, 58.7, 89.31);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (32, 86.99, '2024-01-16 08:16:00', '2024-01-10 08:53:00', 38.3, 98.63, 53.03), (33, 6.85, '2024-01-05 08:43:00', '2024-01-28 08:24:00', 5.72, 79.34, 26.17);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (34, 25.57, '2024-01-23 08:49:00', '2024-01-20 08:00:00', 5.42, 95.13, 25.45);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (35, 85.01, '2024-01-08 08:08:00', '2024-01-28 08:49:00', 48.61, 84.13, 3.07), (36, 86.35, '2024-01-28 08:32:00', '2024-01-15 08:10:00', 78.6, 65.6, 39.48);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, 5.95, '2024-01-19 08:06:00', '2024-01-21 08:26:00', 5.66, 55.74, 73.56), (38, 10.77, '2024-01-10 08:27:00', '2024-01-28 08:27:00', 62.95, 9.88, 88.92);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (39, 48.24, '2024-01-16 08:43:00', '2024-01-23 08:54:00', 86.63, 71.66, 56.45), (40, 65.21, '2024-01-14 08:29:00', '2024-01-02 08:14:00', 95.15, 21.77, 6.09), (41, 66.63, '2024-01-23 08:50:00', '2024-01-13 08:04:00', 33.69, 84, 6.25);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (42, 42.51, '2024-01-15 08:09:00', '2024-01-16 08:41:00', 53.08, 62.89, 20.73);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (43, 92.36, '2024-01-05 08:29:00', '2024-01-16 08:12:00', 53.59, 29.43, 0.73), (44, 83.59, '2024-01-20 08:33:00', '2024-01-05 08:32:00', 9.57, 44.85, 68.33), (45, 60.61, '2024-01-11 08:07:00', '2024-01-05 08:46:00', 37.47, 34.44, 45.35);\nINSERT INTO t0 (id, c0, c1) VALUES (42, '2024-01-03', '2024-01-13 12:09:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (46, 74.28, '2024-01-25 08:34:00', '2024-01-08 08:38:00', 37.66, 68.41, 88.96);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (47, 48.34, '2024-01-10 08:43:00', '2024-01-18 08:09:00', 69.49, 15.89, 6.89), (48, 24.93, '2024-01-28 08:17:00', '2024-01-12 08:05:00', 66.9, 61.21, 67.9), (49, 88.48, '2024-01-25 08:36:00', '2024-01-07 08:14:00', 87.87, 17.73, 13.26);\nINSERT INTO t0 (id, c0, c1) VALUES (43, '2024-01-02', '2024-01-28 12:00:00'), (44, '2024-01-15', '2024-01-20 12:25:00'), (45, '2024-01-08', '2024-01-17 12:28:00');\nINSERT INTO t2 (id, c0, c1) VALUES (1, '2024-01-07 12:16:00', 's36'), (2, '2024-01-06 12:01:00', 's36'), (3, '2024-01-12 12:06:00', 's81');\nINSERT INTO t3 (id, c0, c1) VALUES (1, 5.57, 1), (2, 11.05, 1);\nINSERT INTO t2 (id, c0, c1) VALUES (4, '2024-01-14 12:52:00', 's9'), (5, '2024-01-12 12:02:00', 's20'), (6, '2024-01-11 12:17:00', 's49');\nINSERT INTO t0 (id, c0, c1) VALUES (46, '2024-01-03', '2024-01-24 12:30:00'), (47, '2024-01-07', '2024-01-25 12:27:00'), (48, '2024-01-13', '2024-01-23 12:41:00');\nINSERT INTO t3 (id, c0, c1) VALUES (3, 76.28, 1), (4, 48.07, 0);\nINSERT INTO t2 (id, c0, c1) VALUES (7, '2024-01-23 12:51:00', 's97'), (8, '2024-01-24 12:18:00', 's51'), (9, '2024-01-25 12:39:00', 's72');\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 38.21, 25, '2024-01-08', 87, 43, '2024-01-09', '2024-01-20'), (2, 84.07, 48, '2024-01-14', 21, 43, '2024-01-17', '2024-01-14'), (3, 55.67, 16, '2024-01-05', 92, 49, '2024-01-27', '2024-01-01');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (1, 99, 's76', 34, 98.73), (2, 54, 's58', 96, 89.21), (3, 32, 's71', 40, 11.79);\nINSERT INTO t4 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 65.71, 87, '2024-01-13', 34, 19, '2024-01-18', '2024-01-15'), (5, 60.65, 94, '2024-01-25', 25, 57, '2024-01-25', '2024-01-25'), (6, 86.55, 77, '2024-01-06', 10, 3, '2024-01-19', '2024-01-06');\nINSERT INTO t3 (id, c0, c1) VALUES (5, 93.16, 0), (6, 55.34, 0), (7, 8.55, 1);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `fk_0` (`id`),\n  KEY `idx_c1_2` (`c1`),\n  KEY `idx_id_3` (`id`),\n  CONSTRAINT `fk_0` FOREIGN KEY (`id`) REFERENCES `t1` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` float DEFAULT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` timestamp NULL DEFAULT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  `c4` float NOT NULL,\n  `c5` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4_0` (`c4`),\n  KEY `idx_id_1` (`id`),\n  KEY `idx_c0_4` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` double DEFAULT NULL,\n  `c1` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` bigint DEFAULT NULL,\n  `c2` date NOT NULL,\n  `c3` bigint NOT NULL,\n  `c4` int NOT NULL,\n  `c5` date NOT NULL,\n  `c6` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` int NOT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` bigint NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0005_019be1f1-59c9-7274-959f-8a2475097820",
      "dir": "reports/case_0005_019be1f1-59c9-7274-959f-8a2475097820",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:04:09+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "a588fd8a828736ce3ddf5af3ad3e85fe61b5a1b7",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t3.c3) AS sum1 FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0) WHERE (t2.c3 <=> 56.16)) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t2.c3 <=> 56.16) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0)",
      "norec_predicate": "(t2.c3 <=> 56.16)",
      "sql": [
        "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t3.c3) AS sum1 FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0) WHERE (t2.c3 <=> 56.16)",
        "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT (CASE WHEN (t2.c3 <=> 56.16) THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0)"
      ],
      "plan_replayer": "reports/case_0005_019be1f1-59c9-7274-959f-8a2475097820/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t3.c3) AS sum1 FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0) WHERE (t2.c3 <=> 56.16)) q",
        "norec_predicate": "(t2.c3 <=> 56.16)",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t2.c3 <=> 56.16) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0)",
        "optimized_explain": "StreamAgg_35\t1.00\troot\t\tfuncs:count(1)->Column#32\n└─HashAgg_38\t1.00\troot\t\tfuncs:count(1)->Column#34\n  └─HashJoin_56\t78807.43\troot\t\tinner join, equal:[eq(shiro_fuzz_r4.t1.c1, shiro_fuzz_r4.t2.c5)]\n    ├─Selection_59(Build)\t3.72\troot\t\tnot(isnull(shiro_fuzz_r4.t1.c1))\n    │ └─Limit_61\t4.65\troot\t\toffset:0, count:9\n    │   └─TableReader_68\t4.65\troot\t\tdata:Limit_67\n    │     └─Limit_67\t4.65\tcop[tikv]\t\toffset:0, count:9\n    │       └─Selection_66\t4.65\tcop[tikv]\t\tlt(shiro_fuzz_r4.t1.c0, 2024-01-26 12:33:00.000000)\n    │         └─TableFullScan_65\t14.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n    └─HashJoin_80(Probe)\t169381.20\troot\t\tCARTESIAN right outer join, left side:HashJoin_90\n      ├─IndexLookUp_102(Build)\t10.00\troot\t\t\n      │ ├─IndexRangeScan_100(Build)\t10.00\tcop[tikv]\ttable:t2, index:idx_c3(c3)\trange:[56.16,56.16], keep order:false, stats:pseudo\n      │ └─TableRowIDScan_101(Probe)\t10.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n      └─HashJoin_90(Probe)\t16938.12\troot\t\tCARTESIAN left outer join, left side:TableReader_93\n        ├─TableReader_93(Build)\t15.11\troot\tpartition:all\tdata:Selection_92\n        │ └─Selection_92\t15.11\tcop[tikv]\t\tnot(in(shiro_fuzz_r4.t0.c2, 71.96, 16.39, 49.64))\n        │   └─TableFullScan_91\t37.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n        └─TableReader_99(Probe)\t1121.11\troot\t\tdata:Selection_98\n          └─Selection_98\t1121.11\tcop[tikv]\t\tgt(shiro_fuzz_r4.t3.c3, 24.31)\n            └─TableRangeScan_97\t6666.67\tcop[tikv]\ttable:t3\trange:[-inf,30), (30,+inf], keep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT IFNULL(SUM(CASE WHEN (t2.c3 <=> 56.16) THEN 1 ELSE 0 END),0) FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t3.c3) AS sum1 FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0) WHERE (t2.c3 <=> 56.16)) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_24\t1.00\troot\t\tifnull(Column#30, 0)->Column#31\n└─HashAgg_28\t1.00\troot\t\tfuncs:sum(Column#33)->Column#30\n  └─Projection_94\t98509.29\troot\t\tcast(case(nulleq(shiro_fuzz_r4.t2.c3, 56.16), 1, 0), decimal(20,0) BINARY)->Column#33\n    └─HashJoin_40\t98509.29\troot\t\tright outer join, left side:HashJoin_48, equal:[eq(shiro_fuzz_r4.t2.c5, shiro_fuzz_r4.t1.c1)]\n      ├─Limit_70(Build)\t4.65\troot\t\toffset:0, count:9\n      │ └─TableReader_77\t4.65\troot\t\tdata:Limit_76\n      │   └─Limit_76\t4.65\tcop[tikv]\t\toffset:0, count:9\n      │     └─Selection_75\t4.65\tcop[tikv]\t\tlt(shiro_fuzz_r4.t1.c0, 2024-01-26 12:33:00.000000)\n      │       └─TableFullScan_74\t14.00\tcop[tikv]\ttable:t1\tkeep order:false, stats:pseudo\n      └─HashJoin_48(Probe)\t169381203.70\troot\t\tCARTESIAN right outer join, left side:HashJoin_58\n        ├─TableReader_69(Build)\t10000.00\troot\t\tdata:TableFullScan_68\n        │ └─TableFullScan_68\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n        └─HashJoin_58(Probe)\t16938.12\troot\t\tCARTESIAN left outer join, left side:TableReader_61\n          ├─TableReader_61(Build)\t15.11\troot\tpartition:all\tdata:Selection_60\n          │ └─Selection_60\t15.11\tcop[tikv]\t\tnot(in(shiro_fuzz_r4.t0.c2, 71.96, 16.39, 49.64))\n          │   └─TableFullScan_59\t37.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n          └─TableReader_67(Probe)\t1121.11\troot\t\tdata:Selection_66\n            └─Selection_66\t1121.11\tcop[tikv]\t\tgt(shiro_fuzz_r4.t3.c3, 24.31)\n              └─TableRangeScan_65\t6666.67\tcop[tikv]\ttable:t3\trange:[-inf,30), (30,+inf], keep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT COUNT(1) AS cnt, SUM(t3.c3) AS sum1 FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0) WHERE (t2.c3 <=> 56.16);\nWITH cte_0 AS (SELECT t1.c1 AS c0, t1.c0 AS c1, t1.id AS c2 FROM t1 WHERE (t1.c0 < '2024-01-26 12:33:00') LIMIT 9) SELECT (CASE WHEN (t2.c3 <=> 56.16) THEN 1 ELSE 0 END) AS b FROM t1 RIGHT JOIN t0 USING (id, c1) LEFT JOIN t3 ON ((t3.c3 > 24.31) AND (t3.id != 30)) RIGHT JOIN t2 ON NOT (t0.c2 IN (71.96, 16.39, 49.64)) RIGHT JOIN cte_0 ON (t2.c5 = cte_0.c0);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n1\t2024-01-27\t2024-01-19 12:13:00\t49.59\n3\t2024-01-27\t2024-01-09 12:41:00\t71.43\n5\t2024-01-27\t2024-01-21 12:08:00\t16.48\n7\t2024-01-27\t2024-01-26 12:55:00\t95.12\n9\t2024-01-27\t2024-01-22 12:38:00\t10.14\n11\t2024-01-27\t2024-01-26 12:31:00\t42.55\n13\t2024-01-27\t2024-01-18 12:32:00\t32.6\n15\t2024-01-27\t2024-01-08 12:42:00\t6.83\n17\t2024-01-27\t2024-01-12 12:20:00\t53.46\n21\t2024-01-27\t2024-01-13 12:29:00\t71.35\n23\t2024-01-27\t2024-01-06 12:27:00\t20.82\n27\t2024-01-27\t2024-01-09 12:11:00\t50.78\n31\t2024-01-27\t2024-01-05 12:11:00\t87.51\n35\t2024-01-27\t2024-01-09 12:05:00\t86.8\n45\t2024-01-17\t2024-01-03 12:45:00\t18.83\n47\t2024-01-18\t2024-01-14 12:28:00\t69.69\n49\t2024-01-24\t2024-01-15 12:43:00\t57.53\n51\t2024-01-23\t2024-01-02 12:12:00\t91.41\n53\t2024-01-03\t2024-01-25 12:45:00\t88.49\n2\t2024-01-27\t2024-01-13 12:30:00\t80.4\n4\t2024-01-27\t2024-01-18 12:15:00\t65.01\n6\t2024-01-27\t2024-01-10 12:12:00\t0.37\n8\t2024-01-27\t2024-01-14 12:43:00\t0.83\n10\t2024-01-27\t2024-01-10 12:45:00\t92.96\n12\t2024-01-27\t2024-01-15 12:44:00\t10.24\n16\t2024-01-27\t2024-01-24 12:49:00\t58.13\n18\t2024-01-27\t2024-01-07 12:12:00\t56.48\n20\t2024-01-27\t2024-01-06 12:12:00\t41.29\n28\t2024-01-27\t2024-01-07 12:29:00\t86.84\n30\t2024-01-27\t2024-01-08 12:40:00\t27.91\n32\t2024-01-27\t2024-01-11 12:41:00\t14.63\n36\t2024-01-27\t2024-01-10 12:52:00\t15.48\n44\t2024-01-27\t2024-01-04 12:10:00\t67.34\n46\t2024-01-02\t2024-01-21 12:29:00\t57.64\n48\t2024-01-11\t2024-01-05 12:34:00\t42.23\n52\t2024-01-16\t2024-01-01 12:51:00\t64.71\n54\t2024-01-14\t2024-01-01 12:05:00\t84.21\n\n-- t1\n\n-- t2\n1\t2024-01-20\t2024-01-05 12:55:00\t46.63\t9.09\t92.57\t2024-01-28 12:16:00\ts98\n\n-- t3\n1\t1\t12\t2024-01-17 12:42:00\t52.75\n2\t1\t2\t2024-01-15 12:49:00\t92.60\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2) VALUES (1, '2024-01-14', '2024-01-19 12:13:00', 49.59);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (2, '2024-01-01', '2024-01-13 12:30:00', 80.4), (3, '2024-01-02', '2024-01-09 12:41:00', 71.43);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (4, '2024-01-23', '2024-01-18 12:15:00', 65.01), (5, '2024-01-17', '2024-01-21 12:08:00', 16.48), (6, '2024-01-04', '2024-01-10 12:12:00', 0.37);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (7, '2024-01-06', '2024-01-26 12:55:00', 95.12), (8, '2024-01-02', '2024-01-14 12:43:00', 0.83), (9, '2024-01-03', '2024-01-22 12:38:00', 10.14);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (10, '2024-01-17', '2024-01-10 12:45:00', 92.96), (11, '2024-01-22', '2024-01-26 12:31:00', 42.55), (12, '2024-01-21', '2024-01-15 12:44:00', 10.24);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (13, '2024-01-10', '2024-01-18 12:32:00', 32.6);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (14, '2024-01-06', '2024-01-01 12:00:00', 98.47), (15, '2024-01-24', '2024-01-08 12:42:00', 6.83), (16, '2024-01-22', '2024-01-24 12:49:00', 58.13);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (17, '2024-01-19', '2024-01-12 12:20:00', 53.46), (18, '2024-01-22', '2024-01-07 12:12:00', 56.48);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (19, '2024-01-10', '2024-01-22 12:10:00', 50.61), (20, '2024-01-07', '2024-01-06 12:12:00', 41.29);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (21, '2024-01-26', '2024-01-13 12:29:00', 71.35), (22, '2024-01-25', '2024-01-27 12:51:00', 87.39);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (23, '2024-01-07', '2024-01-06 12:27:00', 20.82), (24, '2024-01-18', '2024-01-01 12:49:00', 95.12);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (25, '2024-01-13', '2024-01-25 12:02:00', 99.35), (26, '2024-01-01', '2024-01-28 12:55:00', 23.83), (27, '2024-01-18', '2024-01-09 12:11:00', 50.78);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (28, '2024-01-05', '2024-01-07 12:29:00', 86.84);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (29, '2024-01-27', '2024-01-27 12:06:00', 36.1), (30, '2024-01-26', '2024-01-08 12:40:00', 27.91);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (31, '2024-01-13', '2024-01-05 12:11:00', 87.51);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (32, '2024-01-16', '2024-01-11 12:41:00', 14.63);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (33, '2024-01-25', '2024-01-27 12:56:00', 49.25);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (34, '2024-01-17', '2024-01-23 12:14:00', 71.88), (35, '2024-01-02', '2024-01-09 12:05:00', 86.8), (36, '2024-01-21', '2024-01-10 12:52:00', 15.48);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (37, '2024-01-25', '2024-01-21 12:06:00', 10.74), (38, '2024-01-13', '2024-01-27 12:07:00', 25.82), (39, '2024-01-23', '2024-01-26 12:26:00', 83.59);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (40, '2024-01-15', '2024-01-21 12:14:00', 33.24), (41, '2024-01-19', '2024-01-25 12:53:00', 49.28);\nINSERT INTO t1 (id, c0, c1) VALUES (1, '2024-01-02 12:33:00', '2024-01-18 12:23:00');\nINSERT INTO t1 (id, c0, c1) VALUES (2, '2024-01-17 12:51:00', '2024-01-05 12:23:00'), (3, '2024-01-06 12:08:00', '2024-01-16 12:06:00');\nINSERT INTO t1 (id, c0, c1) VALUES (4, '2024-01-21 12:52:00', '2024-01-18 12:45:00'), (5, '2024-01-17 12:34:00', '2024-01-21 12:14:00'), (6, '2024-01-10 12:29:00', '2024-01-06 12:38:00');\nINSERT INTO t1 (id, c0, c1) VALUES (7, '2024-01-08 12:34:00', '2024-01-21 12:24:00'), (8, '2024-01-05 12:38:00', '2024-01-28 12:08:00');\nINSERT INTO t1 (id, c0, c1) VALUES (9, '2024-01-08 12:27:00', '2024-01-28 12:07:00'), (10, '2024-01-03 12:51:00', '2024-01-13 12:39:00'), (11, '2024-01-16 12:18:00', '2024-01-08 12:14:00');\nINSERT INTO t1 (id, c0, c1) VALUES (12, '2024-01-03 12:37:00', '2024-01-13 12:29:00');\nINSERT INTO t1 (id, c0, c1) VALUES (13, '2024-01-06 12:30:00', '2024-01-25 12:46:00'), (14, '2024-01-23 12:06:00', '2024-01-18 12:26:00'), (15, '2024-01-11 12:18:00', '2024-01-17 12:04:00');\nINSERT INTO t1 (id, c0, c1) VALUES (16, '2024-01-16 12:11:00', '2024-01-09 12:49:00'), (17, '2024-01-27 12:44:00', '2024-01-16 12:47:00'), (18, '2024-01-21 12:34:00', '2024-01-23 12:37:00');\nINSERT INTO t1 (id, c0, c1) VALUES (19, '2024-01-18 12:41:00', '2024-01-07 12:29:00');\nINSERT INTO t1 (id, c0, c1) VALUES (20, '2024-01-27 12:37:00', '2024-01-04 12:31:00'), (21, '2024-01-22 12:53:00', '2024-01-18 12:05:00');\nINSERT INTO t1 (id, c0, c1) VALUES (22, '2024-01-14 12:58:00', '2024-01-10 12:52:00'), (23, '2024-01-07 12:05:00', '2024-01-19 12:23:00');\nINSERT INTO t1 (id, c0, c1) VALUES (24, '2024-01-11 12:20:00', '2024-01-03 12:06:00');\nINSERT INTO t1 (id, c0, c1) VALUES (25, '2024-01-26 12:01:00', '2024-01-01 12:24:00'), (26, '2024-01-17 12:00:00', '2024-01-11 12:10:00'), (27, '2024-01-18 12:45:00', '2024-01-01 12:07:00');\nINSERT INTO t1 (id, c0, c1) VALUES (28, '2024-01-08 12:43:00', '2024-01-10 12:16:00'), (29, '2024-01-28 12:37:00', '2024-01-13 12:20:00');\nINSERT INTO t1 (id, c0, c1) VALUES (30, '2024-01-18 12:08:00', '2024-01-21 12:06:00');\nINSERT INTO t1 (id, c0, c1) VALUES (31, '2024-01-04 12:02:00', '2024-01-10 12:31:00');\nINSERT INTO t1 (id, c0, c1) VALUES (32, '2024-01-12 12:09:00', '2024-01-24 12:08:00'), (33, '2024-01-16 12:32:00', '2024-01-20 12:58:00');\nINSERT INTO t1 (id, c0, c1) VALUES (34, '2024-01-25 12:49:00', '2024-01-17 12:16:00');\nINSERT INTO t1 (id, c0, c1) VALUES (35, '2024-01-07 12:51:00', '2024-01-14 12:19:00'), (36, '2024-01-09 12:33:00', '2024-01-25 12:45:00'), (37, '2024-01-28 12:58:00', '2024-01-07 12:05:00');\nINSERT INTO t1 (id, c0, c1) VALUES (38, '2024-01-12 12:15:00', '2024-01-21 12:00:00'), (39, '2024-01-05 12:23:00', '2024-01-08 12:46:00'), (40, '2024-01-06 12:27:00', '2024-01-26 12:06:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (42, '2024-01-25', '2024-01-17 12:51:00', 88.56), (43, '2024-01-27', '2024-01-23 12:01:00', 35.01), (44, '2024-01-28', '2024-01-04 12:10:00', 67.34);\nINSERT INTO t1 (id, c0, c1) VALUES (41, '2024-01-16 12:45:00', '2024-01-25 12:52:00');\nINSERT INTO t1 (id, c0, c1) VALUES (42, '2024-01-04 12:30:00', '2024-01-18 12:30:00'), (43, '2024-01-20 12:00:00', '2024-01-21 12:21:00'), (44, '2024-01-14 12:17:00', '2024-01-06 12:34:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (45, '2024-01-17', '2024-01-03 12:45:00', 18.83), (46, '2024-01-02', '2024-01-21 12:29:00', 57.64), (47, '2024-01-18', '2024-01-14 12:28:00', 69.69);\nINSERT INTO t1 (id, c0, c1) VALUES (45, '2024-01-20 12:21:00', '2024-01-04 12:32:00'), (46, '2024-01-17 12:45:00', '2024-01-26 12:02:00');\nINSERT INTO t1 (id, c0, c1) VALUES (47, '2024-01-18 12:19:00', '2024-01-27 12:35:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (48, '2024-01-11', '2024-01-05 12:34:00', 42.23);\nINSERT INTO t1 (id, c0, c1) VALUES (48, '2024-01-08 12:33:00', '2024-01-22 12:16:00'), (49, '2024-01-03 12:03:00', '2024-01-19 12:46:00'), (50, '2024-01-04 12:03:00', '2024-01-28 12:00:00');\nINSERT INTO t1 (id, c0, c1) VALUES (51, '2024-01-27 12:38:00', '2024-01-13 12:28:00'), (52, '2024-01-03 12:10:00', '2024-01-07 12:07:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (49, '2024-01-24', '2024-01-15 12:43:00', 57.53), (50, '2024-01-28', '2024-01-22 12:53:00', 22.15);\nINSERT INTO t1 (id, c0, c1) VALUES (53, '2024-01-03 12:48:00', '2024-01-03 12:13:00'), (54, '2024-01-15 12:13:00', '2024-01-13 12:43:00');\nINSERT INTO t0 (id, c0, c1, c2) VALUES (51, '2024-01-23', '2024-01-02 12:12:00', 91.41);\nINSERT INTO t0 (id, c0, c1, c2) VALUES (52, '2024-01-16', '2024-01-01 12:51:00', 64.71), (53, '2024-01-03', '2024-01-25 12:45:00', 88.49), (54, '2024-01-14', '2024-01-01 12:05:00', 84.21);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-20', '2024-01-05 12:55:00', 46.63, 9.09, 92.57, '2024-01-28 12:16:00', 's98');\nINSERT INTO t3 (id, c0, c1, c2, c3) VALUES (1, 1, 12, '2024-01-17 12:42:00', 52.75), (2, 1, 2, '2024-01-15 12:49:00', 92.6);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` date DEFAULT NULL,\n  `c1` datetime NOT NULL,\n  `c2` double DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2_0` (`c2`),\n  KEY `idx_id_1` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` datetime DEFAULT NULL,\n  `c1` datetime DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1_2` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` datetime DEFAULT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  `c3` double NOT NULL,\n  `c4` decimal(12,2) NOT NULL,\n  `c5` datetime NOT NULL,\n  `c6` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c4` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` bigint NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0004_019be1f1-00fa-7288-9407-86322d43c6af",
      "dir": "reports/case_0004_019be1f1-00fa-7288-9407-86322d43c6af",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:03:46+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "9ad17749772042f75dc19f9be22ddb36637f7aa8",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c5) AS sum1 FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53) WHERE (t0.id > 17) ORDER BY t0.c1 DESC, t2.id) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t0.id > 17) THEN 1 ELSE 0 END),0) FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53)",
      "norec_predicate": "(t0.id > 17)",
      "sql": [
        "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c5) AS sum1 FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53) WHERE (t0.id > 17) ORDER BY t0.c1 DESC, t2.id",
        "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT (CASE WHEN (t0.id > 17) THEN 1 ELSE 0 END) AS b FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53)"
      ],
      "plan_replayer": "reports/case_0004_019be1f1-00fa-7288-9407-86322d43c6af/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c5) AS sum1 FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53) WHERE (t0.id > 17) ORDER BY t0.c1 DESC, t2.id) q",
        "norec_predicate": "(t0.id > 17)",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t0.id > 17) THEN 1 ELSE 0 END),0) FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53)",
        "optimized_explain": "StreamAgg_42\t1.00\troot\t\tfuncs:count(1)->Column#53\n└─HashAgg_45\t1.00\troot\t\tfuncs:count(1)->Column#55\n  └─HashJoin_63\t45000000000.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_78(Build)\t10000.00\troot\t\tCARTESIAN inner join\n    │ ├─Limit_86(Build)\t1.00\troot\t\toffset:0, count:1\n    │ │ └─IndexReader_99\t1.00\troot\t\tindex:Limit_98\n    │ │   └─Limit_98\t1.00\tcop[tikv]\t\toffset:0, count:1\n    │ │     └─IndexFullScan_92\t1.00\tcop[tikv]\ttable:t3, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n    │ └─IndexReader_83(Probe)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_82\n    │   └─IndexFullScan_82\t10000.00\tcop[tikv]\ttable:t2, index:idx_c0_5(c0)\tkeep order:false, stats:pseudo\n    └─HashJoin_123(Probe)\t4500000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_140\n      ├─IndexReader_182(Build)\t10.00\troot\t\tindex:IndexRangeScan_181\n      │ └─IndexRangeScan_181\t10.00\tcop[tikv]\ttable:t3, index:idx_c5(c5)\trange:[2024-01-20 08:03:00,2024-01-20 08:03:00], keep order:false, stats:pseudo\n      └─HashJoin_140(Probe)\t450000.00\troot\t\tCARTESIAN inner join\n        ├─TableReader_142(Build)\t36.00\troot\t\tdata:TableRangeScan_141\n        │ └─TableRangeScan_141\t36.00\tcop[tikv]\ttable:t0\trange:(17,53), keep order:false, stats:pseudo\n        └─MergeJoin_146(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r3.t5.id, right key:shiro_fuzz_r3.t1.c3\n          ├─IndexReader_164(Build)\t10000.00\troot\t\tindex:IndexFullScan_163\n          │ └─IndexFullScan_163\t10000.00\tcop[tikv]\ttable:t1, index:idx_c3_13(c3)\tkeep order:true, stats:pseudo\n          └─TableReader_162(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_161\n            └─TableFullScan_161\t10000.00\tcop[tikv]\ttable:t5\tkeep order:true, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT IFNULL(SUM(CASE WHEN (t0.id > 17) THEN 1 ELSE 0 END),0) FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c5) AS sum1 FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53) WHERE (t0.id > 17) ORDER BY t0.c1 DESC, t2.id) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_31\t1.00\troot\t\tifnull(Column#49, 0)->Column#50\n└─HashAgg_35\t1.00\troot\t\tfuncs:sum(Column#71)->Column#49\n  └─Projection_199\t66250000000.00\troot\t\tcast(case(gt(shiro_fuzz_r3.t0.id, 17), 1, 0), decimal(20,0) BINARY)->Column#71\n    └─HashJoin_55\t66250000000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_70(Build)\t10000.00\troot\t\tCARTESIAN inner join\n      │ ├─Limit_78(Build)\t1.00\troot\t\toffset:0, count:1\n      │ │ └─IndexReader_91\t1.00\troot\t\tindex:Limit_90\n      │ │   └─Limit_90\t1.00\tcop[tikv]\t\toffset:0, count:1\n      │ │     └─IndexFullScan_84\t1.00\tcop[tikv]\ttable:t3, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n      │ └─IndexReader_75(Probe)\t10000.00\troot\tpartition:all\tindex:IndexFullScan_74\n      │   └─IndexFullScan_74\t10000.00\tcop[tikv]\ttable:t2, index:idx_c0_5(c0)\tkeep order:false, stats:pseudo\n      └─HashJoin_115(Probe)\t6625000.00\troot\t\tCARTESIAN left outer join, left side:HashJoin_135\n        ├─IndexReader_177(Build)\t10.00\troot\t\tindex:IndexRangeScan_176\n        │ └─IndexRangeScan_176\t10.00\tcop[tikv]\ttable:t3, index:idx_c5(c5)\trange:[2024-01-20 08:03:00,2024-01-20 08:03:00], keep order:false, stats:pseudo\n        └─HashJoin_135(Probe)\t662500.00\troot\t\tCARTESIAN inner join\n          ├─IndexReader_139(Build)\t3323.33\troot\t\tindex:IndexRangeScan_138\n          │ └─IndexRangeScan_138\t3323.33\tcop[tikv]\ttable:t0, index:idx_id_2(id)\trange:[-inf,53), keep order:false, stats:pseudo\n          └─MergeJoin_141(Probe)\t12500.00\troot\t\tinner join, left key:shiro_fuzz_r3.t5.id, right key:shiro_fuzz_r3.t1.c3\n            ├─IndexReader_159(Build)\t10000.00\troot\t\tindex:IndexFullScan_158\n            │ └─IndexFullScan_158\t10000.00\tcop[tikv]\ttable:t1, index:idx_c3_13(c3)\tkeep order:true, stats:pseudo\n            └─TableReader_157(Probe)\t10000.00\troot\tpartition:all\tdata:TableFullScan_156\n              └─TableFullScan_156\t10000.00\tcop[tikv]\ttable:t5\tkeep order:true, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT COUNT(1) AS cnt, SUM(t0.c5) AS sum1 FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53) WHERE (t0.id > 17) ORDER BY t0.c1 DESC, t2.id;\nWITH cte_0 AS (SELECT t3.c0 AS c0, t3.id AS c1, t3.c4 AS c2 FROM t3 WHERE ('2024-01-16 08:31:00' <= '2024-01-16 12:09:00') LIMIT 1) SELECT (CASE WHEN (t0.id > 17) THEN 1 ELSE 0 END) AS b FROM t5 CROSS JOIN t0 RIGHT JOIN t1 ON (t5.id = t1.c3) LEFT JOIN t3 ON (t3.c5 IN ('2024-01-20 08:03:00')) CROSS JOIN t2 JOIN cte_0 ON (t0.id < 53);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n64\t2024-01-27 12:57:00\t2024-01-15 12:33:00\t2024-01-25 12:56:00\t2024-01-26\t2024-01-17 12:06:00\t88.11\n65\t2024-01-18 12:13:00\t2024-01-15 12:33:00\t2024-01-22 12:26:00\t2024-01-27\t2024-01-12 12:32:00\t96.03\n66\t2024-01-21 12:38:00\t2024-01-15 12:33:00\t2024-01-18 12:34:00\t2024-01-07\t2024-01-05 12:29:00\t82.33\n67\t2024-01-09 12:01:00\t2024-01-15 12:33:00\t2024-01-07 12:45:00\t2024-01-26\t2024-01-20 12:50:00\t81.21\n69\t2024-01-18 12:43:00\t2024-01-19 12:25:00\t2024-01-02 12:15:00\t2024-01-24\t2024-01-01 12:29:00\t91.30\n70\t2024-01-08 12:55:00\t2024-01-26 12:22:00\t2024-01-02 12:31:00\t2024-01-16\t2024-01-04 12:40:00\t74.11\n71\t2024-01-06 12:07:00\t2024-01-08 12:45:00\t2024-01-07 12:10:00\t2024-01-16\t2024-01-23 12:46:00\t3.01\n72\t2024-01-06 12:10:00\t2024-01-25 12:55:00\t2024-01-03 12:54:00\t2024-01-05\t2024-01-02 12:26:00\t39.47\n73\t2024-01-08 12:55:00\t2024-01-26 12:18:00\t2024-01-17 12:06:00\t2024-01-17\t2024-01-17 12:00:00\t70.21\n74\t2024-01-09 12:35:00\t2024-01-19 12:06:00\t2024-01-13 12:49:00\t2024-01-07\t2024-01-03 12:12:00\t15.95\n75\t2024-01-05 12:16:00\t2024-01-05 12:01:00\t2024-01-04 12:37:00\t2024-01-27\t2024-01-15 12:27:00\t83.24\n76\t2024-01-05 12:21:00\t2024-01-26 12:16:00\t2024-01-05 12:53:00\t2024-01-25\t2024-01-02 12:40:00\t0.46\n\n-- t1\n2\t2024-01-12\t43.44\t2024-01-08\t61\t97\t9.58\n4\t2024-01-10\t9.28\t2024-01-08\t12\t45\t74.75\n6\t2024-01-19\t23.17\t2024-01-08\t40\t46\t65.40\n8\t2024-01-27\t7.32\t2024-01-14\t99\t6\t93.63\n9\t2024-01-14\t47.66\t2024-01-08\t51\t36\t53.33\n12\t2024-01-03\t37.67\t2024-01-08\t15\t9\t6.73\n13\t2024-01-22\t33.41\t2024-01-08\t42\t69\t19.60\n14\t2024-01-20\t40.45\t2024-01-08\t30\t40\t96.30\n17\t2024-01-03\t48.54\t2024-01-08\t71\t26\t95.45\n18\t2024-01-26\t49.45\t2024-01-14\t99\t30\t33.89\n22\t2024-01-25\t21.87\t2024-01-08\t11\t61\t36.95\n24\t2024-01-10\t41.59\t2024-01-08\t62\t56\t58.53\n26\t2024-01-26\t38.48\t2024-01-08\t72\t97\t38.54\n27\t2024-01-25\t29.86\t2024-01-08\t85\t61\t13.78\n29\t2024-01-11\t33.93\t2024-01-08\t67\t69\t34.90\n34\t2024-01-08\t36.96\t2024-01-08\t11\t92\t76.76\n38\t2024-01-22\t46.38\t2024-01-08\t26\t73\t27.23\n41\t2024-01-11\t12.16\t2024-01-08\t16\t41\t78.84\n43\t2024-01-28\t27.89\t2024-01-08\t54\t7\t90.23\n44\t2024-01-25\t18.97\t2024-01-08\t11\t89\t30.01\n47\t2024-01-25\t21.02\t2024-01-04\t71\t64\t46.26\n49\t2024-01-21\t35.23\t2024-01-25\t45\t26\t95.59\n51\t2024-01-12\t31.09\t2024-01-14\t96\t85\t67.14\n53\t2024-01-03\t21.54\t2024-01-20\t44\t26\t79.11\n54\t2024-01-10\t21.01\t2024-01-23\t41\t1\t90.23\n57\t2024-01-03\t53.71\t2024-01-14\t92\t50\t65.58\n58\t2024-01-05\t38.02\t2024-01-05\t70\t30\t74.86\n61\t2024-01-08\t28.25\t2024-01-07\t49\t74\t34.91\n62\t2024-01-19\t0.69\t2024-01-02\t46\t92\t95.91\n63\t2024-01-15\t33.35\t2024-01-14\t96\t93\t66.01\n66\t2024-01-28\t45.28\t2024-01-15\t76\t7\t75.57\n67\t2024-01-13\t57.26\t2024-01-01\t9\t38\t62.45\n68\t2024-01-22\t39.16\t2024-01-17\t14\t94\t48.82\n69\t2024-01-04\t33.82\t2024-01-14\t8\t37\t46.96\n70\t2024-01-05\t81.52\t2024-01-09\t2\t62\t81.35\n71\t2024-01-18\t54.71\t2024-01-27\t17\t42\t93.84\n72\t2024-01-10\t91.80\t2024-01-15\t88\t8\t41.29\n73\t2024-01-27\t55.03\t2024-01-27\t92\t12\t38.60\n74\t2024-01-08\t71.31\t2024-01-14\t22\t20\t82.81\n75\t2024-01-02\t4.70\t2024-01-09\t75\t14\t98.49\n76\t2024-01-21\t62.71\t2024-01-02\t13\t95\t69.07\n\n-- t2\n28\t2024-01-18 08:56:00\t2024-01-20\n30\t2024-01-20 08:42:00\t2024-01-18\n32\t2024-01-27 08:43:00\t2024-01-13\n23\t2024-01-01 08:09:00\t2024-01-19\n27\t2024-01-11 08:14:00\t2024-01-09\n29\t2024-01-07 08:08:00\t2024-01-22\n33\t2024-01-06 08:02:00\t2024-01-26\n\n-- t3\n1\t2024-01-09 08:19:00\t38.28\t50.71\t54.41\t3.24\t2024-01-14 08:38:00\n2\t2024-01-09 08:19:00\t83.33\t47.14\t33.06\t14.76\t2024-01-03 08:26:00\n3\t2024-01-09 08:19:00\t21.78\t80.06\t59.18\t2.89\t2024-01-09 08:50:00\n4\t2024-01-09 08:19:00\t66.70\t91.68\t58.9\t44.06\t2024-01-25 08:27:00\n5\t2024-01-09 08:19:00\t36.29\t13.69\t43.71\t80.04\t2024-01-20 08:41:00\n6\t2024-01-09 08:19:00\t87.81\t10.03\t2.99\t24.83\t2024-01-28 08:47:00\n7\t2024-01-09 08:19:00\t13.32\t4.01\t61\t25.63\t2024-01-14 08:30:00\n8\t2024-01-09 08:19:00\t53.24\t90.80\t22\t34.63\t2024-01-01 08:44:00\n9\t2024-01-09 08:19:00\t7.49\t60.51\t95.95\t3.99\t2024-01-25 08:29:00\n10\t2024-01-09 08:19:00\t94.38\t90.20\t9.6\t22.37\t2024-01-28 08:38:00\n11\t2024-01-09 08:19:00\t34.14\t46.22\t95.88\t27.18\t2024-01-18 08:49:00\n12\t2024-01-09 08:19:00\t62.82\t88.98\t73.68\t4.7\t2024-01-02 08:24:00\n13\t2024-01-09 08:19:00\t28.96\t70.36\t24.8\t41.01\t2024-01-27 08:51:00\n14\t2024-01-09 08:19:00\t79.27\t78.16\t43.22\t75.7\t2024-01-16 08:53:00\n15\t2024-01-09 08:19:00\t66.69\t81.22\t34.58\t52.93\t2024-01-14 08:30:00\n16\t2024-01-09 08:19:00\t83.67\t65.00\t37.02\t6.93\t2024-01-20 08:38:00\n17\t2024-01-09 08:56:00\t25.67\t28.56\t92.75\t50.12\t2024-01-23 08:20:00\n\n-- t4\n\n-- t5\n17\t0\ts96\t2024-01-08 12:33:00\t2024-01-18 08:23:00\t10\t79.19\n21\t1\ts78\t2024-01-28 12:15:00\t2024-01-08 08:28:00\t69\t85.23\n25\t0\ts11\t2024-01-07 12:04:00\t2024-01-06 08:26:00\t22\t82.73\n16\t1\ts9\t2024-01-14 12:06:00\t2024-01-19 08:44:00\t17\t96.82\n20\t1\ts15\t2024-01-25 12:52:00\t2024-01-28 08:31:00\t88\t84.78\n24\t1\ts19\t2024-01-07 12:38:00\t2024-01-18 08:29:00\t70\t33.64\n19\t0\ts47\t2024-01-04 12:52:00\t2024-01-17 08:36:00\t16\t82.18\n23\t0\ts28\t2024-01-23 12:09:00\t2024-01-05 08:07:00\t35\t78.56\n27\t0\ts39\t2024-01-15 12:25:00\t2024-01-24 08:21:00\t5\t22.21\n18\t0\ts12\t2024-01-03 12:21:00\t2024-01-09 08:03:00\t76\t5.99\n22\t1\ts2\t2024-01-26 12:20:00\t2024-01-24 08:09:00\t20\t8.03\n26\t0\ts49\t2024-01-26 12:06:00\t2024-01-07 08:15:00\t62\t93.23\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-04 12:30:00', '2024-01-03 12:31:00', '2024-01-18 12:04:00', '2024-01-27', '2024-01-05 12:57:00', 21.05);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (2, '2024-01-07 12:13:00', '2024-01-25 12:36:00', '2024-01-26 12:37:00', '2024-01-03', '2024-01-06 12:47:00', 66.85), (3, '2024-01-10 12:57:00', '2024-01-14 12:55:00', '2024-01-11 12:08:00', '2024-01-06', '2024-01-03 12:07:00', 12.43);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (4, '2024-01-13 12:50:00', '2024-01-10 12:37:00', '2024-01-27 12:40:00', '2024-01-01', '2024-01-13 12:36:00', 50.78);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (5, '2024-01-17 12:54:00', '2024-01-08 12:34:00', '2024-01-14 12:12:00', '2024-01-08', '2024-01-22 12:08:00', 8.91), (6, '2024-01-28 12:01:00', '2024-01-14 12:56:00', '2024-01-13 12:15:00', '2024-01-07', '2024-01-28 12:38:00', 82.35);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (7, '2024-01-23 12:46:00', '2024-01-15 12:47:00', '2024-01-13 12:02:00', '2024-01-14', '2024-01-09 12:44:00', 56.7), (8, '2024-01-23 12:06:00', '2024-01-22 12:10:00', '2024-01-20 12:09:00', '2024-01-14', '2024-01-17 12:18:00', 63.7);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (9, '2024-01-23 12:15:00', '2024-01-01 12:17:00', '2024-01-01 12:55:00', '2024-01-12', '2024-01-28 12:19:00', 0.32), (10, '2024-01-05 12:40:00', '2024-01-20 12:47:00', '2024-01-10 12:51:00', '2024-01-09', '2024-01-01 12:29:00', 52.65);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (11, '2024-01-04 12:24:00', '2024-01-01 12:26:00', '2024-01-04 12:46:00', '2024-01-01', '2024-01-02 12:52:00', 48.61), (12, '2024-01-20 12:24:00', '2024-01-12 12:17:00', '2024-01-25 12:28:00', '2024-01-06', '2024-01-15 12:46:00', 21.79);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (13, '2024-01-20 12:21:00', '2024-01-17 12:25:00', '2024-01-02 12:33:00', '2024-01-15', '2024-01-15 12:23:00', 65.41), (14, '2024-01-25 12:49:00', '2024-01-14 12:39:00', '2024-01-06 12:02:00', '2024-01-05', '2024-01-05 12:05:00', 22.7);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (15, '2024-01-19 12:34:00', '2024-01-03 12:33:00', '2024-01-01 12:00:00', '2024-01-15', '2024-01-16 12:28:00', 31.06), (16, '2024-01-22 12:57:00', '2024-01-14 12:06:00', '2024-01-23 12:06:00', '2024-01-28', '2024-01-08 12:21:00', 6.4), (17, '2024-01-20 12:19:00', '2024-01-21 12:42:00', '2024-01-20 12:53:00', '2024-01-08', '2024-01-05 12:14:00', 44.54);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (18, '2024-01-28 12:36:00', '2024-01-18 12:27:00', '2024-01-19 12:49:00', '2024-01-28', '2024-01-22 12:09:00', 61.09), (19, '2024-01-02 12:43:00', '2024-01-15 12:53:00', '2024-01-23 12:27:00', '2024-01-01', '2024-01-12 12:50:00', 36.89), (20, '2024-01-11 12:00:00', '2024-01-27 12:28:00', '2024-01-23 12:42:00', '2024-01-18', '2024-01-22 12:14:00', 80.17);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (21, '2024-01-24 12:30:00', '2024-01-15 12:57:00', '2024-01-13 12:44:00', '2024-01-14', '2024-01-15 12:52:00', 78.88), (22, '2024-01-16 12:38:00', '2024-01-17 12:20:00', '2024-01-21 12:26:00', '2024-01-22', '2024-01-18 12:22:00', 95.32);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (23, '2024-01-05 12:03:00', '2024-01-09 12:50:00', '2024-01-07 12:27:00', '2024-01-28', '2024-01-01 12:20:00', 23.65), (24, '2024-01-12 12:02:00', '2024-01-13 12:44:00', '2024-01-16 12:11:00', '2024-01-10', '2024-01-17 12:05:00', 57.53);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (25, '2024-01-28 12:04:00', '2024-01-24 12:28:00', '2024-01-24 12:04:00', '2024-01-22', '2024-01-20 12:49:00', 98.36), (26, '2024-01-25 12:33:00', '2024-01-16 12:34:00', '2024-01-27 12:41:00', '2024-01-09', '2024-01-25 12:27:00', 12.49), (27, '2024-01-08 12:05:00', '2024-01-12 12:27:00', '2024-01-21 12:49:00', '2024-01-26', '2024-01-06 12:56:00', 20.47);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (28, '2024-01-27 12:06:00', '2024-01-06 12:46:00', '2024-01-04 12:49:00', '2024-01-25', '2024-01-28 12:04:00', 59.13);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (29, '2024-01-21 12:28:00', '2024-01-21 12:46:00', '2024-01-12 12:52:00', '2024-01-13', '2024-01-14 12:18:00', 91.44);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (30, '2024-01-05 12:53:00', '2024-01-11 12:15:00', '2024-01-27 12:33:00', '2024-01-08', '2024-01-25 12:26:00', 1.46);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (31, '2024-01-10 12:12:00', '2024-01-21 12:36:00', '2024-01-18 12:10:00', '2024-01-14', '2024-01-08 12:40:00', 86.36);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (32, '2024-01-21 12:00:00', '2024-01-07 12:16:00', '2024-01-07 12:22:00', '2024-01-06', '2024-01-10 12:04:00', 52.09), (33, '2024-01-11 12:19:00', '2024-01-02 12:50:00', '2024-01-24 12:11:00', '2024-01-21', '2024-01-06 12:25:00', 31.56), (34, '2024-01-06 12:25:00', '2024-01-18 12:21:00', '2024-01-16 12:06:00', '2024-01-20', '2024-01-15 12:56:00', 50.39);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (35, '2024-01-04 12:30:00', '2024-01-02 12:42:00', '2024-01-08 12:21:00', '2024-01-27', '2024-01-05 12:35:00', 98.68), (36, '2024-01-19 12:52:00', '2024-01-10 12:46:00', '2024-01-25 12:25:00', '2024-01-15', '2024-01-12 12:50:00', 5.35), (37, '2024-01-09 12:04:00', '2024-01-26 12:00:00', '2024-01-28 12:19:00', '2024-01-24', '2024-01-01 12:18:00', 64.37);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (38, '2024-01-02 12:38:00', '2024-01-03 12:21:00', '2024-01-03 12:20:00', '2024-01-18', '2024-01-15 12:14:00', 37.95), (39, '2024-01-23 12:48:00', '2024-01-05 12:08:00', '2024-01-13 12:28:00', '2024-01-28', '2024-01-21 12:40:00', 79.14);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-13', 61.66, '2024-01-08', 91, 3, 48.22), (2, '2024-01-12', 39.44, '2024-01-17', 61, 97, 9.58);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (3, '2024-01-06', 42.46, '2024-01-05', 96, 25, 98.99), (4, '2024-01-10', 5.28, '2024-01-01', 12, 45, 74.75);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (5, '2024-01-20', 84.41, '2024-01-15', 42, 15, 82.49), (6, '2024-01-19', 20.17, '2024-01-23', 40, 46, 65.4);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (7, '2024-01-28', 82.75, '2024-01-14', 99, 24, 49.47), (8, '2024-01-27', 4.32, '2024-01-23', 98, 6, 93.63), (9, '2024-01-14', 43.66, '2024-01-22', 51, 36, 53.33);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (10, '2024-01-17', 94.71, '2024-01-19', 78, 10, 59.63), (11, '2024-01-22', 77.53, '2024-01-13', 30, 57, 9.12), (12, '2024-01-03', 33.67, '2024-01-06', 15, 9, 6.73);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (13, '2024-01-22', 30.41, '2024-01-13', 42, 69, 19.6), (14, '2024-01-16', 38.45, '2024-01-28', 30, 40, 96.3);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (15, '2024-01-09', 93.33, '2024-01-02', 81, 8, 11.36);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (16, '2024-01-12', 59.02, '2024-01-20', 3, 75, 49.63), (17, '2024-01-03', 44.54, '2024-01-22', 71, 26, 95.45), (18, '2024-01-26', 46.45, '2024-01-19', 98, 30, 33.89);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (19, '2024-01-15', 93.78, '2024-01-07', 73, 68, 60.77), (20, '2024-01-16', 79.91, '2024-01-18', 80, 61, 48.82);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (21, '2024-01-01', 82.08, '2024-01-24', 56, 18, 47.69);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (22, '2024-01-25', 18.87, '2024-01-06', 11, 61, 36.95);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (23, '2024-01-06', 66.13, '2024-01-04', 20, 19, 43.06);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (24, '2024-01-10', 37.59, '2024-01-05', 62, 56, 58.53), (25, '2024-01-06', 66.72, '2024-01-02', 51, 69, 91.57), (26, '2024-01-26', 35.48, '2024-01-06', 72, 97, 38.54);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (27, '2024-01-25', 26.86, '2024-01-26', 85, 61, 13.78), (28, '2024-01-26', 80.95, '2024-01-26', 26, 21, 97.75), (29, '2024-01-11', 29.93, '2024-01-15', 67, 69, 34.9);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (30, '2024-01-21', 86.27, '2024-01-15', 58, 22, 37.3), (31, '2024-01-18', 73.12, '2024-01-13', 58, 80, 30.06), (32, '2024-01-09', 67.43, '2024-01-19', 49, 21, 41.24);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (33, '2024-01-02', 59.82, '2024-01-20', 87, 3, 67.26), (34, '2024-01-08', 32.96, '2024-01-09', 11, 92, 75.76);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (35, '2024-01-27', 9.3, '2024-01-10', 5, 44, 72.46), (36, '2024-01-05', 87.41, '2024-01-18', 65, 91, 88.92);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (37, '2024-01-24', 57.59, '2024-01-14', 13, 26, 10.69), (38, '2024-01-22', 43.38, '2024-01-07', 26, 73, 26.23), (39, '2024-01-01', 60.02, '2024-01-16', 3, 60, 79.21);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (40, '2024-01-06', 53.56, '2024-01-06', 4, 2, 42.58);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (41, '2024-01-11', 8.16, '2024-01-08', 16, 41, 77.84);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (42, '2024-01-04', 80.5, '2024-01-20', 21, 26, 81.68), (43, '2024-01-28', 24.89, '2024-01-05', 54, 7, 89.23);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (44, '2024-01-25', 15.97, '2024-01-07', 11, 89, 29.01);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (40, '2024-01-01 12:38:00', '2024-01-10 12:39:00', '2024-01-24 12:00:00', '2024-01-05', '2024-01-01 12:54:00', 13.72), (41, '2024-01-11 12:18:00', '2024-01-09 12:50:00', '2024-01-22 12:37:00', '2024-01-15', '2024-01-27 12:42:00', 5), (42, '2024-01-11 12:22:00', '2024-01-21 12:41:00', '2024-01-16 12:36:00', '2024-01-26', '2024-01-18 12:51:00', 2.03);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (43, '2024-01-21 12:47:00', '2024-01-04 12:28:00', '2024-01-10 12:03:00', '2024-01-24', '2024-01-24 12:19:00', 41.2);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (44, '2024-01-10 12:51:00', '2024-01-19 12:10:00', '2024-01-10 12:49:00', '2024-01-09', '2024-01-06 12:20:00', 74.02), (45, '2024-01-02 12:13:00', '2024-01-08 12:44:00', '2024-01-15 12:18:00', '2024-01-15', '2024-01-07 12:35:00', 88.21);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (46, '2024-01-05 12:23:00', '2024-01-24 12:44:00', '2024-01-10 12:39:00', '2024-01-06', '2024-01-04 12:34:00', 3.21), (47, '2024-01-03 12:48:00', '2024-01-01 12:14:00', '2024-01-24 12:54:00', '2024-01-16', '2024-01-24 12:46:00', 94.45);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (48, '2024-01-21 12:36:00', '2024-01-23 12:33:00', '2024-01-27 12:51:00', '2024-01-19', '2024-01-19 12:05:00', 10.64);\nINSERT INTO t2 (id, c0, c1) VALUES (1, '2024-01-02 08:12:00', '2024-01-25'), (2, '2024-01-08 08:26:00', '2024-01-22'), (3, '2024-01-12 08:57:00', '2024-01-19');\nINSERT INTO t2 (id, c0, c1) VALUES (4, '2024-01-27 08:54:00', '2024-01-27');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-17 08:51:00', 38.28, 50.71, 52.41, 3.24, '2024-01-14 08:38:00'), (2, '2024-01-23 08:46:00', 83.33, 47.14, 32.06, 14.76, '2024-01-03 08:26:00'), (3, '2024-01-15 08:22:00', 21.78, 80.06, 57.18, 2.89, '2024-01-09 08:50:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (49, '2024-01-19 12:07:00', '2024-01-01 12:13:00', '2024-01-11 12:14:00', '2024-01-25', '2024-01-08 12:47:00', 29.13), (50, '2024-01-06 12:03:00', '2024-01-01 12:10:00', '2024-01-24 12:36:00', '2024-01-23', '2024-01-22 12:16:00', 36.01);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (51, '2024-01-28 12:38:00', '2024-01-14 12:55:00', '2024-01-15 12:03:00', '2024-01-15', '2024-01-07 12:37:00', 82.42), (52, '2024-01-02 12:21:00', '2024-01-06 12:57:00', '2024-01-26 12:52:00', '2024-01-14', '2024-01-08 12:23:00', 76.31), (53, '2024-01-18 12:38:00', '2024-01-24 12:52:00', '2024-01-16 12:08:00', '2024-01-20', '2024-01-23 12:05:00', 78.79);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (54, '2024-01-20 12:27:00', '2024-01-10 12:50:00', '2024-01-12 12:38:00', '2024-01-22', '2024-01-13 12:41:00', 57.91);\nINSERT INTO t2 (id, c0, c1) VALUES (5, '2024-01-10 08:37:00', '2024-01-09'), (6, '2024-01-27 08:45:00', '2024-01-27'), (7, '2024-01-12 08:28:00', '2024-01-15');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (4, '2024-01-06 08:38:00', 66.7, 91.68, 56.9, 44.06, '2024-01-25 08:27:00'), (5, '2024-01-18 08:27:00', 36.29, 13.69, 41.71, 79.04, '2024-01-20 08:41:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (6, '2024-01-08 08:52:00', 87.81, 10.03, 0.99, 23.83, '2024-01-28 08:47:00'), (7, '2024-01-15 08:11:00', 13.32, 4.01, 59, 24.63, '2024-01-14 08:30:00'), (8, '2024-01-03 08:05:00', 53.24, 90.8, 21, 34.63, '2024-01-01 08:44:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (55, '2024-01-27 12:00:00', '2024-01-05 12:50:00', '2024-01-02 12:11:00', '2024-01-16', '2024-01-04 12:09:00', 84.29), (56, '2024-01-07 12:01:00', '2024-01-26 12:14:00', '2024-01-06 12:04:00', '2024-01-19', '2024-01-02 12:27:00', 59.96), (57, '2024-01-23 12:50:00', '2024-01-13 12:37:00', '2024-01-17 12:55:00', '2024-01-15', '2024-01-14 12:25:00', 2.52);\nINSERT INTO t2 (id, c0, c1) VALUES (8, '2024-01-24 08:48:00', '2024-01-01'), (9, '2024-01-08 08:44:00', '2024-01-26'), (10, '2024-01-26 08:36:00', '2024-01-27');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (45, '2024-01-10', 94.18, '2024-01-08', 81, 33, 43.5), (46, '2024-01-13', 67.73, '2024-01-27', 7, 88, 37.48), (47, '2024-01-25', 18.02, '2024-01-04', 71, 64, 45.26);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (58, '2024-01-03 12:20:00', '2024-01-14 12:01:00', '2024-01-18 12:31:00', '2024-01-06', '2024-01-18 12:36:00', 17.56), (59, '2024-01-12 12:21:00', '2024-01-21 12:12:00', '2024-01-19 12:51:00', '2024-01-06', '2024-01-12 12:30:00', 18.17);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (9, '2024-01-03 08:34:00', 7.49, 60.51, 94.95, 2.99, '2024-01-25 08:29:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (48, '2024-01-10', 91.3, '2024-01-25', 63, 3, 18.29), (49, '2024-01-21', 32.23, '2024-01-25', 45, 26, 94.59), (50, '2024-01-02', 64.35, '2024-01-08', 54, 4, 67.67);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (10, '2024-01-07 08:06:00', 94.38, 90.2, 8.6, 22.37, '2024-01-28 08:38:00'), (11, '2024-01-09 08:43:00', 34.14, 46.22, 94.88, 26.18, '2024-01-18 08:49:00'), (12, '2024-01-13 08:46:00', 62.82, 88.98, 72.68, 3.7, '2024-01-02 08:24:00');\nINSERT INTO t2 (id, c0, c1) VALUES (11, '2024-01-28 08:37:00', '2024-01-18');\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (1, 59, '2024-01-25 08:24:00', '2024-01-04', 0), (2, 78, '2024-01-15 08:53:00', '2024-01-27', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (51, '2024-01-12', 28.09, '2024-01-18', 96, 85, 66.14);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (3, 58, '2024-01-27 08:02:00', '2024-01-27', 0), (4, 2, '2024-01-03 08:22:00', '2024-01-12', 1), (5, 88, '2024-01-10 08:37:00', '2024-01-06', 0);\nINSERT INTO t2 (id, c0, c1) VALUES (12, '2024-01-09 08:16:00', '2024-01-21');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 0, 's41', '2024-01-27 12:38:00', '2024-01-21 08:06:00', 2, 10.41), (2, 0, 's90', '2024-01-12 12:05:00', '2024-01-02 08:49:00', 42, 80.49);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (13, '2024-01-10 08:39:00', 28.96, 70.36, 23.8, 41.01, '2024-01-27 08:51:00'), (14, '2024-01-17 08:27:00', 79.27, 78.16, 42.22, 75.7, '2024-01-16 08:53:00'), (15, '2024-01-28 08:39:00', 66.69, 81.22, 33.58, 52.93, '2024-01-14 08:30:00');\nINSERT INTO t2 (id, c0, c1) VALUES (13, '2024-01-05 08:32:00', '2024-01-06'), (14, '2024-01-11 08:21:00', '2024-01-28'), (15, '2024-01-02 08:49:00', '2024-01-21');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (3, 1, 's55', '2024-01-02 12:00:00', '2024-01-19 08:42:00', 83, 98.81), (4, 0, 's11', '2024-01-03 12:19:00', '2024-01-12 08:15:00', 62, 6.69), (5, 1, 's42', '2024-01-25 12:13:00', '2024-01-03 08:46:00', 99, 28.59);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (6, 92, '2024-01-05 08:07:00', '2024-01-20', 1);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (60, '2024-01-11 12:28:00', '2024-01-19 12:51:00', '2024-01-09 12:47:00', '2024-01-24', '2024-01-20 12:43:00', 11.49), (61, '2024-01-18 12:58:00', '2024-01-17 12:40:00', '2024-01-26 12:17:00', '2024-01-13', '2024-01-16 12:04:00', 74.77);\nINSERT INTO t2 (id, c0, c1) VALUES (16, '2024-01-07 08:05:00', '2024-01-16');\nINSERT INTO t2 (id, c0, c1) VALUES (17, '2024-01-27 08:18:00', '2024-01-03');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (52, '2024-01-21', 91.21, '2024-01-16', 36, 52, 13.8);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (53, '2024-01-03', 19.54, '2024-01-20', 44, 26, 78.11);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (7, 58, '2024-01-26 08:30:00', '2024-01-12', 0);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (8, 93, '2024-01-13 08:03:00', '2024-01-15', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (54, '2024-01-10', 19.01, '2024-01-23', 41, 1, 89.23), (55, '2024-01-16', 61.03, '2024-01-10', 99, 22, 8.59);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (9, 26, '2024-01-11 08:07:00', '2024-01-12', 1);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (56, '2024-01-15', 80.52, '2024-01-23', 55, 69, 83.1), (57, '2024-01-03', 51.71, '2024-01-28', 92, 50, 64.58), (58, '2024-01-05', 36.02, '2024-01-05', 70, 30, 73.86);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (62, '2024-01-09 12:19:00', '2024-01-04 12:18:00', '2024-01-28 12:43:00', '2024-01-05', '2024-01-27 12:45:00', 5.83), (63, '2024-01-10 12:49:00', '2024-01-05 12:23:00', '2024-01-13 12:39:00', '2024-01-18', '2024-01-20 12:50:00', 6.1);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (6, 1, 's51', '2024-01-07 12:20:00', '2024-01-25 08:45:00', 76, 43.02), (7, 1, 's39', '2024-01-26 12:32:00', '2024-01-05 08:44:00', 44, 61.6), (8, 0, 's58', '2024-01-08 12:57:00', '2024-01-20 08:30:00', 90, 91.58);\nINSERT INTO t2 (id, c0, c1) VALUES (18, '2024-01-03 08:58:00', '2024-01-10'), (19, '2024-01-01 08:32:00', '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (59, '2024-01-03', 84.43, '2024-01-19', 97, 55, 48.94), (60, '2024-01-08', 89.64, '2024-01-23', 80, 33, 11.3);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (61, '2024-01-08', 28.25, '2024-01-07', 49, 74, 33.91);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (64, '2024-01-27 12:57:00', '2024-01-13 12:35:00', '2024-01-25 12:56:00', '2024-01-26', '2024-01-17 12:06:00', 88.11), (65, '2024-01-18 12:13:00', '2024-01-08 12:51:00', '2024-01-22 12:26:00', '2024-01-27', '2024-01-12 12:32:00', 96.03), (66, '2024-01-21 12:38:00', '2024-01-14 12:07:00', '2024-01-18 12:34:00', '2024-01-07', '2024-01-05 12:29:00', 82.33);\nINSERT INTO t2 (id, c0, c1) VALUES (20, '2024-01-18 08:58:00', '2024-01-05'), (21, '2024-01-08 08:04:00', '2024-01-15');\nINSERT INTO t2 (id, c0, c1) VALUES (22, '2024-01-18 08:40:00', '2024-01-10'), (23, '2024-01-08 08:05:00', '2024-01-19');\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (10, 71, '2024-01-18 08:45:00', '2024-01-03', 1), (11, 42, '2024-01-11 08:04:00', '2024-01-27', 0);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (62, '2024-01-19', 0.69, '2024-01-02', 46, 92, 94.91), (63, '2024-01-15', 33.35, '2024-01-28', 96, 93, 65.01), (64, '2024-01-19', 56.38, '2024-01-12', 76, 93, 67.47);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (67, '2024-01-09 12:01:00', '2024-01-20 12:54:00', '2024-01-07 12:45:00', '2024-01-26', '2024-01-20 12:50:00', 81.21);\nINSERT INTO t2 (id, c0, c1) VALUES (24, '2024-01-20 08:11:00', '2024-01-14'), (25, '2024-01-27 08:44:00', '2024-01-02');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (65, '2024-01-12', 99.34, '2024-01-21', 47, 82, 55.72), (66, '2024-01-28', 45.28, '2024-01-15', 76, 7, 74.57);\nINSERT INTO t4 (id, c0, c1, c2, c3) VALUES (12, 37, '2024-01-26 08:48:00', '2024-01-14', 0), (13, 36, '2024-01-16 08:24:00', '2024-01-17', 1), (14, 40, '2024-01-19 08:17:00', '2024-01-16', 0);\nINSERT INTO t2 (id, c0, c1) VALUES (26, '2024-01-19 08:02:00', '2024-01-11');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (67, '2024-01-13', 57.26, '2024-01-01', 9, 38, 61.45), (68, '2024-01-22', 39.16, '2024-01-17', 14, 94, 47.82);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (9, 1, 's76', '2024-01-28 12:34:00', '2024-01-01 08:40:00', 98, 50.15), (10, 1, 's9', '2024-01-06 12:45:00', '2024-01-13 08:01:00', 46, 28.13), (11, 0, 's57', '2024-01-19 12:16:00', '2024-01-15 08:35:00', 11, 7.47);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (68, '2024-01-02 12:06:00', '2024-01-04 12:06:00', '2024-01-07 12:03:00', '2024-01-23', '2024-01-17 12:23:00', 28.37);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 1, 's71', '2024-01-03 12:37:00', '2024-01-18 08:47:00', 10, 6.27), (13, 0, 's1', '2024-01-28 12:32:00', '2024-01-02 08:50:00', 56, 55.66);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (16, '2024-01-21 08:07:00', 83.67, 65, 37.02, 6.93, '2024-01-20 08:38:00');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (69, '2024-01-04', 33.82, '2024-01-14', 8, 37, 46.96), (70, '2024-01-05', 81.52, '2024-01-09', 2, 62, 81.35), (71, '2024-01-18', 54.71, '2024-01-27', 17, 42, 93.84);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (14, 0, 's23', '2024-01-18 12:21:00', '2024-01-27 08:49:00', 11, 7.99), (15, 0, 's55', '2024-01-27 12:09:00', '2024-01-23 08:56:00', 2, 13.94);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (69, '2024-01-18 12:43:00', '2024-01-19 12:25:00', '2024-01-02 12:15:00', '2024-01-24', '2024-01-01 12:29:00', 91.3);\nINSERT INTO t2 (id, c0, c1) VALUES (27, '2024-01-11 08:14:00', '2024-01-09'), (28, '2024-01-18 08:56:00', '2024-01-20');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (16, 1, 's9', '2024-01-14 12:06:00', '2024-01-19 08:44:00', 17, 96.82);\nINSERT INTO t2 (id, c0, c1) VALUES (29, '2024-01-07 08:08:00', '2024-01-22'), (30, '2024-01-20 08:42:00', '2024-01-18'), (31, '2024-01-21 08:46:00', '2024-01-04');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (17, 0, 's96', '2024-01-08 12:33:00', '2024-01-18 08:23:00', 10, 79.19), (18, 0, 's12', '2024-01-03 12:21:00', '2024-01-09 08:03:00', 76, 5.99);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (70, '2024-01-08 12:55:00', '2024-01-26 12:22:00', '2024-01-02 12:31:00', '2024-01-16', '2024-01-04 12:40:00', 74.11), (71, '2024-01-06 12:07:00', '2024-01-08 12:45:00', '2024-01-07 12:10:00', '2024-01-16', '2024-01-23 12:46:00', 3.01), (72, '2024-01-06 12:10:00', '2024-01-25 12:55:00', '2024-01-03 12:54:00', '2024-01-05', '2024-01-02 12:26:00', 39.47);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (17, '2024-01-09 08:56:00', 25.67, 28.56, 92.75, 49.12, '2024-01-23 08:20:00');\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (19, 0, 's47', '2024-01-04 12:52:00', '2024-01-17 08:36:00', 16, 82.18), (20, 1, 's15', '2024-01-25 12:52:00', '2024-01-28 08:31:00', 88, 84.78);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (21, 1, 's78', '2024-01-28 12:15:00', '2024-01-08 08:28:00', 69, 85.23);\nINSERT INTO t2 (id, c0, c1) VALUES (32, '2024-01-27 08:43:00', '2024-01-13'), (33, '2024-01-06 08:02:00', '2024-01-26');\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (72, '2024-01-10', 91.8, '2024-01-15', 88, 8, 41.29);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (73, '2024-01-27', 55.03, '2024-01-27', 92, 12, 38.6), (74, '2024-01-08', 71.31, '2024-01-14', 22, 20, 82.81);\nINSERT INTO t1 (id, c0, c1, c2, c3, c4, c5) VALUES (75, '2024-01-02', 4.7, '2024-01-09', 75, 14, 98.49), (76, '2024-01-21', 62.71, '2024-01-02', 13, 95, 69.07);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (22, 1, 's2', '2024-01-26 12:20:00', '2024-01-24 08:09:00', 20, 8.03), (23, 0, 's28', '2024-01-23 12:09:00', '2024-01-05 08:07:00', 35, 78.56), (24, 1, 's19', '2024-01-07 12:38:00', '2024-01-18 08:29:00', 70, 33.64);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (25, 0, 's11', '2024-01-07 12:04:00', '2024-01-06 08:26:00', 22, 82.73), (26, 0, 's49', '2024-01-26 12:06:00', '2024-01-07 08:15:00', 62, 93.23);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (73, '2024-01-08 12:55:00', '2024-01-26 12:18:00', '2024-01-17 12:06:00', '2024-01-17', '2024-01-17 12:00:00', 70.21), (74, '2024-01-09 12:35:00', '2024-01-19 12:06:00', '2024-01-13 12:49:00', '2024-01-07', '2024-01-03 12:12:00', 15.95), (75, '2024-01-05 12:16:00', '2024-01-05 12:01:00', '2024-01-04 12:37:00', '2024-01-27', '2024-01-15 12:27:00', 83.24);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (76, '2024-01-05 12:21:00', '2024-01-26 12:16:00', '2024-01-05 12:53:00', '2024-01-25', '2024-01-02 12:40:00', 0.46);\nINSERT INTO t5 (id, c0, c1, c2, c3, c4, c5) VALUES (27, 0, 's39', '2024-01-15 12:25:00', '2024-01-24 08:21:00', 5, 22.21);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` date DEFAULT NULL,\n  `c4` datetime DEFAULT NULL,\n  `c5` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2_1` (`c2`),\n  KEY `idx_id_2` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` date NOT NULL,\n  `c3` bigint NOT NULL,\n  `c4` int NOT NULL,\n  `c5` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5_0` (`c5`),\n  KEY `idx_c3_13` (`c3`),\n  KEY `idx_c1_16` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_5` (`c0`),\n  KEY `idx_id_8` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 2;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` timestamp NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` decimal(12,2) NOT NULL,\n  `c3` float DEFAULT NULL,\n  `c4` float DEFAULT NULL,\n  `c5` timestamp NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c1_3` (`c1`),\n  KEY `idx_c0_6` (`c0`),\n  KEY `idx_id_9` (`id`),\n  KEY `idx_c4_11` (`c4`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` date NOT NULL,\n  `c3` tinyint(1) DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `fk_6` (`id`),\n  KEY `idx_c0_7` (`c0`),\n  KEY `idx_c2_12` (`c2`),\n  KEY `idx_c3_14` (`c3`),\n  KEY `idx_id_15` (`id`),\n  CONSTRAINT `fk_6` FOREIGN KEY (`id`) REFERENCES `t3` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) DEFAULT NULL,\n  `c1` varchar(64) NOT NULL,\n  `c2` datetime NOT NULL,\n  `c3` timestamp NOT NULL,\n  `c4` bigint DEFAULT NULL,\n  `c5` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3_4` (`c3`),\n  KEY `idx_c0_10` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0003_019be1f0-3bb8-7236-a7cb-3a95f9e619ee",
      "dir": "reports/case_0003_019be1f0-3bb8-7236-a7cb-3a95f9e619ee",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:02:56+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "488073e13a98fba2bc8ed35ea2d2c28ba7f8a864",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT DISTINCT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0 WHERE (t2.c0 > '2024-01-19') LIMIT 10) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t2.c0 > '2024-01-19') THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0",
      "norec_predicate": "(t2.c0 > '2024-01-19')",
      "sql": [
        "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT DISTINCT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0 WHERE (t2.c0 > '2024-01-19') LIMIT 10",
        "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT (CASE WHEN (t2.c0 > '2024-01-19') THEN 1 ELSE 0 END) AS b FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0"
      ],
      "plan_replayer": "reports/case_0003_019be1f0-3bb8-7236-a7cb-3a95f9e619ee/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT DISTINCT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0 WHERE (t2.c0 > '2024-01-19') LIMIT 10) q",
        "norec_predicate": "(t2.c0 > '2024-01-19')",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t2.c0 > '2024-01-19') THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0",
        "optimized_explain": "StreamAgg_36\t1.00\troot\t\tfuncs:count(1)->Column#22\n└─Limit_39\t1.00\troot\t\toffset:0, count:10\n  └─HashAgg_43\t1.00\troot\t\tgroup by:Column#20, Column#21, funcs:firstrow(1)->Column#24\n    └─HashAgg_49\t1.00\troot\t\tfuncs:count(1)->Column#20, funcs:sum(shiro_fuzz_r2.t0.c1)->Column#21\n      └─HashJoin_68\t8333.33\troot\t\tCARTESIAN inner join\n        ├─Limit_108(Build)\t2.00\troot\t\toffset:0, count:2\n        │ └─TableReader_114\t2.00\troot\t\tdata:Limit_113\n        │   └─Limit_113\t2.00\tcop[tikv]\t\toffset:0, count:2\n        │     └─TableRangeScan_112\t3.99\tcop[tikv]\ttable:t2\trange:[-inf,2), (2,16), (16,21), (21,+inf], keep order:false, stats:pseudo\n        └─HashJoin_86(Probe)\t4166.67\troot\t\tinner join, equal:[eq(shiro_fuzz_r2.t2.c1, shiro_fuzz_r2.t0.c4)]\n          ├─TableReader_98(Build)\t3333.33\troot\t\tdata:Selection_97\n          │ └─Selection_97\t3333.33\tcop[tikv]\t\tgt(shiro_fuzz_r2.t2.c0, 2024-01-19 00:00:00.000000)\n          │   └─TableFullScan_96\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n          └─TableReader_107(Probe)\t10000.00\troot\t\tdata:TableFullScan_106\n            └─TableFullScan_106\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (t2.c0 > '2024-01-19') THEN 1 ELSE 0 END),0) FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT DISTINCT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0 WHERE (t2.c0 > '2024-01-19') LIMIT 10) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_22\t1.00\troot\t\tifnull(Column#20, 0)->Column#21\n└─HashAgg_26\t1.00\troot\t\tfuncs:sum(Column#26)->Column#20\n  └─Projection_110\t25000.00\troot\t\tcast(case(gt(shiro_fuzz_r2.t2.c0, 2024-01-19 00:00:00.000000), 1, 0), decimal(20,0) BINARY)->Column#26\n    └─HashJoin_46\t25000.00\troot\t\tCARTESIAN inner join\n      ├─Limit_47(Build)\t2.00\troot\t\toffset:0, count:2\n      │ └─TableReader_53\t2.00\troot\t\tdata:Limit_52\n      │   └─Limit_52\t2.00\tcop[tikv]\t\toffset:0, count:2\n      │     └─TableRangeScan_51\t3.99\tcop[tikv]\ttable:t2\trange:[-inf,2), (2,16), (16,21), (21,+inf], keep order:false, stats:pseudo\n      └─HashJoin_70(Probe)\t12500.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r2.t2.c1, shiro_fuzz_r2.t0.c4)]\n        ├─IndexReader_88(Build)\t10000.00\troot\t\tindex:IndexFullScan_87\n        │ └─IndexFullScan_87\t10000.00\tcop[tikv]\ttable:t0, index:idx_c4(c4)\tkeep order:false, stats:pseudo\n        └─TableReader_79(Probe)\t10000.00\troot\t\tdata:TableFullScan_78\n          └─TableFullScan_78\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT DISTINCT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0 WHERE (t2.c0 > '2024-01-19') LIMIT 10;\nWITH cte_0 AS (SELECT t2.c0 AS c0, t2.c1 AS c1, t2.id AS c2 FROM t2 WHERE NOT (t2.id IN (2, 21, 16)) LIMIT 2) SELECT (CASE WHEN (t2.c0 > '2024-01-19') THEN 1 ELSE 0 END) AS b FROM t2 JOIN t0 ON (t2.c1 = t0.c4) CROSS JOIN cte_0;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n57\t2024-01-18\t26.07\t23.32\t48\t54.84\ts58\n58\t2024-01-06\t15.69\t23.89\t79\t65.31\ts45\n59\t2024-01-21\t25.09\t14.35\t6\t62.35\ts5\n60\t2024-01-12\t57.39\t10.55\t94\t54.52\ts97\n\n-- t1\n33\t20.01\t94.05\n34\t95.90\t70.55\n35\t31.21\t35.2\n\n-- t2\n1\t2024-01-27\t70.36\n2\t2024-01-25\t20.49\n3\t2024-01-27\t93.98\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (1, '2024-01-27', 55.39, 46.88, 54, 94.05, 's23'), (2, '2024-01-20', 57.23, 29.33, 15, 35.68, 's84'), (3, '2024-01-24', 62.77, 75.02, 29, 42.61, 's1');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (4, '2024-01-22', 54.3, 17.52, 54, 53.06, 's33'), (5, '2024-01-13', 42.9, 81.71, 67, 8.23, 's92');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (6, '2024-01-25', 75.01, 9.14, 11, 2.06, 's55');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (7, '2024-01-11', 99.56, 96.32, 85, 26.32, 's32');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (8, '2024-01-24', 73.63, 24.24, 34, 63.8, 's17'), (9, '2024-01-28', 74.78, 23.72, 74, 18.92, 's85'), (10, '2024-01-04', 80.1, 64.92, 16, 77.6, 's19');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (11, '2024-01-28', 72.3, 2.55, 74, 10.83, 's99');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (12, '2024-01-13', 25.6, 57.03, 48, 92.58, 's42'), (13, '2024-01-26', 41.07, 27.55, 24, 33.73, 's45');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (14, '2024-01-21', 17.27, 96.95, 12, 73.85, 's77'), (15, '2024-01-06', 81.2, 10.89, 69, 35.23, 's86'), (16, '2024-01-22', 12.73, 99.79, 42, 44.13, 's14');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (17, '2024-01-11', 87.5, 2.99, 75, 96.83, 's88'), (18, '2024-01-11', 3.58, 24.95, 39, 67.67, 's26');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (19, '2024-01-08', 51.87, 52.15, 32, 20.34, 's95');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (20, '2024-01-01', 26.27, 5.75, 19, 30.88, 's39'), (21, '2024-01-06', 84.81, 66.46, 4, 6.86, 's43'), (22, '2024-01-28', 26.44, 24.04, 16, 93.22, 's65');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (23, '2024-01-05', 3.79, 98.1, 91, 97.56, 's53'), (24, '2024-01-15', 95.02, 5.51, 44, 39.16, 's3'), (25, '2024-01-03', 83.43, 51.29, 77, 64.38, 's81');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (26, '2024-01-10', 51.65, 57.32, 33, 72.78, 's64'), (27, '2024-01-01', 5.15, 93.24, 63, 42.84, 's8');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (28, '2024-01-20', 38.09, 67.96, 92, 18.75, 's62'), (29, '2024-01-25', 65.85, 16.57, 69, 51.43, 's54');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (30, '2024-01-14', 59.07, 12.09, 88, 31.3, 's55'), (31, '2024-01-12', 74.28, 15.92, 9, 13.57, 's13'), (32, '2024-01-13', 29.66, 92.43, 5, 3.78, 's78');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (33, '2024-01-21', 35.75, 73.58, 42, 51.8, 's48'), (34, '2024-01-27', 45.71, 15.07, 74, 85.1, 's5'), (35, '2024-01-27', 76.43, 23.91, 33, 91.25, 's78');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (36, '2024-01-02', 27.36, 64.95, 29, 77.51, 's68');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (37, '2024-01-13', 78.13, 30.15, 49, 43.49, 's13'), (38, '2024-01-22', 48.71, 25.15, 34, 96.67, 's44');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (39, '2024-01-13', 89.05, 38.45, 91, 98.42, 's24'), (40, '2024-01-01', 91.37, 74.21, 4, 4.29, 's88'), (41, '2024-01-11', 57.8, 82.64, 46, 74.3, 's68');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (42, '2024-01-02', 58.77, 71.25, 14, 42.74, 's94');\nINSERT INTO t1 (id, c0, c1) VALUES (1, 39.67, 17.75), (2, 68.67, 60.69), (3, 83.49, 53.93);\nINSERT INTO t1 (id, c0, c1) VALUES (4, 23.32, 57.9), (5, 69.71, 28.46);\nINSERT INTO t1 (id, c0, c1) VALUES (6, 85.07, 65.66);\nINSERT INTO t1 (id, c0, c1) VALUES (7, 75.2, 65.28);\nINSERT INTO t1 (id, c0, c1) VALUES (8, 16.58, 36.06);\nINSERT INTO t1 (id, c0, c1) VALUES (9, 15.56, 20), (10, 74.35, 97.16);\nINSERT INTO t1 (id, c0, c1) VALUES (11, 33.7, 73.25), (12, 5.08, 14.01);\nINSERT INTO t1 (id, c0, c1) VALUES (13, 42.77, 11.1);\nINSERT INTO t1 (id, c0, c1) VALUES (14, 97.35, 40.21);\nINSERT INTO t1 (id, c0, c1) VALUES (15, 3.75, 21.06), (16, 11.19, 52.82);\nINSERT INTO t1 (id, c0, c1) VALUES (17, 29.6, 15.57);\nINSERT INTO t1 (id, c0, c1) VALUES (18, 41.07, 97.86);\nINSERT INTO t1 (id, c0, c1) VALUES (19, 41.62, 43.81);\nINSERT INTO t1 (id, c0, c1) VALUES (20, 82.17, 7.42);\nINSERT INTO t1 (id, c0, c1) VALUES (21, 60.58, 79.45);\nINSERT INTO t1 (id, c0, c1) VALUES (22, 6.32, 97.34);\nINSERT INTO t1 (id, c0, c1) VALUES (23, 2.08, 95.81), (24, 41.75, 67.49);\nINSERT INTO t1 (id, c0, c1) VALUES (25, 29.38, 87.64), (26, 99.71, 54.13);\nINSERT INTO t1 (id, c0, c1) VALUES (27, 86.73, 19.58), (28, 25.77, 51.5);\nINSERT INTO t1 (id, c0, c1) VALUES (29, 75.7, 33.81), (30, 32.19, 93.6), (31, 12.52, 58.85);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (43, '2024-01-20', 64.88, 0.11, 50, 89.16, 's23');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (44, '2024-01-08', 7.4, 22.92, 67, 44.38, 's99'), (45, '2024-01-17', 72.54, 7.28, 30, 40.05, 's34');\nINSERT INTO t1 (id, c0, c1) VALUES (32, 99.61, 44.09);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (46, '2024-01-04', 66.68, 10.62, 77, 97.05, 's56');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (47, '2024-01-13', 87.4, 30.76, 63, 88.64, 's23'), (48, '2024-01-17', 99.37, 4.02, 34, 54.4, 's12'), (49, '2024-01-09', 46.23, 67.24, 55, 95.18, 's42');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (50, '2024-01-25', 44.88, 17.4, 84, 18.53, 's37'), (51, '2024-01-08', 92.2, 3.04, 91, 62.65, 's31'), (52, '2024-01-18', 57.51, 29.73, 20, 21.34, 's56');\nINSERT INTO t1 (id, c0, c1) VALUES (33, 18.01, 94.05), (34, 93.9, 70.55), (35, 29.21, 35.2);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (53, '2024-01-11', 67.87, 97.62, 82, 23.68, 's22');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (54, '2024-01-26', 45.8, 50.03, 8, 59.59, 's60'), (55, '2024-01-11', 15.62, 56.09, 82, 27.91, 's21'), (56, '2024-01-22', 88.06, 46.94, 52, 71.76, 's31');\nINSERT INTO t2 (id, c0, c1) VALUES (1, '2024-01-16', 70.36), (2, '2024-01-25', 20.49), (3, '2024-01-17', 93.98);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (57, '2024-01-18', 26.07, 23.32, 48, 54.84, 's58'), (58, '2024-01-06', 15.69, 23.89, 79, 65.31, 's45'), (59, '2024-01-21', 25.09, 14.35, 6, 62.35, 's5');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5) VALUES (60, '2024-01-12', 57.39, 10.55, 94, 54.52, 's97');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` date NOT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` decimal(12,2) DEFAULT NULL,\n  `c3` int NOT NULL,\n  `c4` float NOT NULL,\n  `c5` varchar(64) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c1_0` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` double NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_1` (`c0`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` date DEFAULT NULL,\n  `c1` float NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0002_019be1f0-215b-76ae-b498-bdc79e4fe6d7",
      "dir": "reports/case_0002_019be1f0-215b-76ae-b498-bdc79e4fe6d7",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:02:49+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "62652116e6652ae02820c2faa14ca41288c02fce",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=0",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(cte_0.c1) AS sum1 FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0) WHERE (cte_0.c1 IN (71.96, 25.99))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (cte_0.c1 IN (71.96, 25.99)) THEN 1 ELSE 0 END),0) FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0)",
      "norec_predicate": "(cte_0.c1 IN (71.96, 25.99))",
      "sql": [
        "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(cte_0.c1) AS sum1 FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0) WHERE (cte_0.c1 IN (71.96, 25.99))",
        "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT (CASE WHEN (cte_0.c1 IN (71.96, 25.99)) THEN 1 ELSE 0 END) AS b FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0)"
      ],
      "plan_replayer": "reports/case_0002_019be1f0-215b-76ae-b498-bdc79e4fe6d7/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(cte_0.c1) AS sum1 FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0) WHERE (cte_0.c1 IN (71.96, 25.99))) q",
        "norec_predicate": "(cte_0.c1 IN (71.96, 25.99))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (cte_0.c1 IN (71.96, 25.99)) THEN 1 ELSE 0 END),0) FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0)",
        "optimized_explain": "StreamAgg_30\t1.00\troot\t\tfuncs:count(1)->Column#24\n└─StreamAgg_36\t1.00\troot\t\tfuncs:count(1)->Column#26\n  └─HashJoin_51\t1.00\troot\t\tinner join, equal:[eq(shiro_fuzz_r1.t2.c0, shiro_fuzz_r1.t2.c0)]\n    ├─Selection_54(Build)\t0.80\troot\t\tor(eq(cast(shiro_fuzz_r1.t2.c4, double BINARY), 71.96), eq(cast(shiro_fuzz_r1.t2.c4, double BINARY), 25.99))\n    │ └─Limit_56\t1.00\troot\t\toffset:0, count:7\n    │   └─TableReader_63\t1.00\troot\t\tdata:Limit_62\n    │     └─Limit_62\t1.00\tcop[tikv]\t\toffset:0, count:7\n    │       └─Selection_61\t1.00\tcop[tikv]\t\teq(shiro_fuzz_r1.t2.c0, 59), or(eq(shiro_fuzz_r1.t2.c2, 2024-01-16 08:13:00.000000), or(eq(shiro_fuzz_r1.t2.c2, 2024-01-02 08:35:00.000000), eq(shiro_fuzz_r1.t2.c2, 2024-01-16 08:34:00.000000)))\n    │         └─TableFullScan_60\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n    └─TableReader_70(Probe)\t10000.00\troot\t\tdata:TableFullScan_69\n      └─TableFullScan_69\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT IFNULL(SUM(CASE WHEN (cte_0.c1 IN (71.96, 25.99)) THEN 1 ELSE 0 END),0) FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0)",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(cte_0.c1) AS sum1 FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0) WHERE (cte_0.c1 IN (71.96, 25.99))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_19\t1.00\troot\t\tifnull(Column#22, 0)->Column#23\n└─StreamAgg_26\t1.00\troot\t\tfuncs:sum(Column#25)->Column#22\n  └─Projection_78\t1.25\troot\t\tcast(case(or(eq(cast(shiro_fuzz_r1.t2.c4, double BINARY), 71.96), eq(cast(shiro_fuzz_r1.t2.c4, double BINARY), 25.99)), 1, 0), decimal(20,0) BINARY)->Column#25\n    └─HashJoin_75\t1.25\troot\t\tinner join, equal:[eq(shiro_fuzz_r1.t2.c0, shiro_fuzz_r1.t2.c0)]\n      ├─Limit_44(Build)\t1.00\troot\t\toffset:0, count:7\n      │ └─TableReader_51\t1.00\troot\t\tdata:Limit_50\n      │   └─Limit_50\t1.00\tcop[tikv]\t\toffset:0, count:7\n      │     └─Selection_49\t1.00\tcop[tikv]\t\teq(shiro_fuzz_r1.t2.c0, 59), or(eq(shiro_fuzz_r1.t2.c2, 2024-01-16 08:13:00.000000), or(eq(shiro_fuzz_r1.t2.c2, 2024-01-02 08:35:00.000000), eq(shiro_fuzz_r1.t2.c2, 2024-01-16 08:34:00.000000)))\n      │       └─TableFullScan_48\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n      └─TableReader_56(Probe)\t10000.00\troot\t\tdata:TableFullScan_55\n        └─TableFullScan_55\t10000.00\tcop[tikv]\ttable:t2\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT COUNT(1) AS cnt, SUM(cte_0.c1) AS sum1 FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0) WHERE (cte_0.c1 IN (71.96, 25.99));\nWITH cte_0 AS (SELECT t2.c0 AS c0, t2.c4 AS c1, t2.c3 AS c2 FROM t2 WHERE ((t2.c0 = 59) AND (t2.c2 IN ('2024-01-16 08:13:00', '2024-01-02 08:35:00', '2024-01-16 08:34:00'))) LIMIT 7) SELECT (CASE WHEN (cte_0.c1 IN (71.96, 25.99)) THEN 1 ELSE 0 END) AS b FROM cte_0 JOIN t2 ON (cte_0.c0 = t2.c0);\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n52\t2024-01-12 12:03:00\t39\t44\t63.90\t0\t70\t2024-01-08\n\n-- t1\n51\t62\t0\n52\t90\t1\n53\t99\t1\n54\t63\t0\n55\t37\t0\n56\t12\t0\n57\t93\t0\n58\t87\t1\n59\t31\t0\n60\t71\t0\n\n-- t2\n25\t24\t30.82\t2024-01-14 08:07:00\t2024-01-16 12:16:00\t2024-01-21\n26\t35\t39.44\t2024-01-15 08:57:00\t2024-01-27 12:55:00\t2024-01-16\n27\t47\t37.89\t2024-01-21 08:07:00\t2024-01-12 12:11:00\t2024-01-06\n28\t92\t17.93\t2024-01-26 08:39:00\t2024-01-02 12:33:00\t2024-01-18\n\n-- t3\n5\t85.59\t2024-01-25 08:22:00\t2024-01-09 08:33:00\t1\t32.8\t47\n6\t40.6\t2024-01-06 08:52:00\t2024-01-17 08:13:00\t1\t7.04\t38\n7\t69.65\t2024-01-25 08:03:00\t2024-01-09 08:14:00\t1\t9.53\t25\n8\t18.74\t2024-01-22 08:54:00\t2024-01-28 08:09:00\t1\t17.72\t33\n9\t85.55\t2024-01-19 08:04:00\t2024-01-12 08:25:00\t0\t70.71\t31\n10\t9.63\t2024-01-18 08:40:00\t2024-01-26 08:22:00\t1\t37.49\t31\n11\t77.47\t2024-01-08 08:33:00\t2024-01-26 08:33:00\t1\t11.76\t71\n12\t3.67\t2024-01-09 08:06:00\t2024-01-05 08:46:00\t0\t34.95\t77\n13\t1.85\t2024-01-28 08:39:00\t2024-01-19 08:50:00\t1\t95.09\t48\n14\t13.58\t2024-01-24 08:21:00\t2024-01-08 08:12:00\t0\t69.79\t83\n15\t96.37\t2024-01-13 08:17:00\t2024-01-25 08:15:00\t0\t23.68\t77\n16\t48.21\t2024-01-09 08:56:00\t2024-01-06 08:21:00\t0\t65.17\t16\n17\t52.14\t2024-01-27 08:29:00\t2024-01-20 08:43:00\t0\t73.57\t31\n18\t65.3\t2024-01-07 08:27:00\t2024-01-16 08:18:00\t0\t10.99\t13\n19\t13.09\t2024-01-28 08:33:00\t2024-01-22 08:43:00\t1\t21.84\t20\n\n-- t4\n1\t2024-01-27 12:13:00\t2024-01-19 12:49:00\n2\t2024-01-27 12:13:00\t2024-01-19 12:49:00\n3\t2024-01-08 12:40:00\t2024-01-01 12:45:00\n4\t2024-01-17 12:47:00\t2024-01-01 12:02:00\n5\t2024-01-11 12:07:00\t2024-01-26 12:07:00\n6\t2024-01-12 12:19:00\t2024-01-12 12:30:00\n7\t2024-01-07 12:38:00\t2024-01-19 12:19:00\n8\t2024-01-15 12:49:00\t2024-01-04 12:36:00\n\n-- t5\n1\t2024-01-19 12:51:00\t2024-01-14 12:45:00\t11.78\t0\n2\t2024-01-19 12:51:00\t2024-01-26 12:21:00\t99.73\t1\n3\t2024-01-19 12:51:00\t2024-01-28 12:31:00\t25.25\t0\n4\t2024-01-22 12:04:00\t2024-01-12 12:54:00\t92.88\t0\n5\t2024-01-07 12:38:00\t2024-01-01 12:08:00\t70.71\t1\n6\t2024-01-22 12:49:00\t2024-01-07 12:22:00\t85.44\t0\n7\t2024-01-13 12:40:00\t2024-01-27 12:49:00\t95.87\t1\n8\t2024-01-06 12:18:00\t2024-01-19 12:39:00\t12.04\t0\n9\t2024-01-01 12:43:00\t2024-01-28 12:16:00\t52.88\t1\n10\t2024-01-13 12:36:00\t2024-01-10 12:55:00\t12.15\t1\n11\t2024-01-03 12:19:00\t2024-01-06 12:10:00\t0.37\t0\n12\t2024-01-01 12:54:00\t2024-01-03 12:37:00\t50.75\t0\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, '2024-01-04 12:21:00', 88, 90, 69.67, 1, 8, '2024-01-28');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, '2024-01-18 12:11:00', 37, 31, 69.2, 1, 13, '2024-01-11'), (3, '2024-01-07 12:11:00', 33, 47, 25.35, 1, 59, '2024-01-26'), (4, '2024-01-14 12:21:00', 89, 99, 97.69, 1, 88, '2024-01-11');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, '2024-01-28 12:21:00', 10, 5, 73.02, 0, 28, '2024-01-22'), (6, '2024-01-23 12:01:00', 46, 63, 49.31, 1, 18, '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, '2024-01-22 12:28:00', 96, 20, 75.58, 0, 37, '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, '2024-01-04 12:29:00', 43, 91, 66.95, 0, 36, '2024-01-07'), (9, '2024-01-20 12:48:00', 3, 52, 12.67, 1, 98, '2024-01-14'), (10, '2024-01-04 12:57:00', 57, 87, 83.05, 1, 85, '2024-01-15');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (11, '2024-01-19 12:30:00', 91, 82, 0.28, 0, 67, '2024-01-10'), (12, '2024-01-08 12:30:00', 26, 2, 2.62, 0, 66, '2024-01-07');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, '2024-01-19 12:54:00', 81, 52, 3.03, 0, 10, '2024-01-20'), (14, '2024-01-14 12:13:00', 18, 84, 83.19, 1, 47, '2024-01-25'), (15, '2024-01-21 12:26:00', 39, 40, 92.96, 0, 76, '2024-01-05');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, '2024-01-13 12:17:00', 5, 83, 78.3, 0, 2, '2024-01-15'), (17, '2024-01-04 12:28:00', 78, 54, 9.97, 1, 42, '2024-01-09');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (18, '2024-01-25 12:38:00', 10, 35, 51.27, 1, 62, '2024-01-02');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, '2024-01-16 12:52:00', 30, 13, 9.8, 0, 20, '2024-01-08');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (20, '2024-01-05 12:49:00', 10, 65, 50.64, 1, 20, '2024-01-17');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (21, '2024-01-12 12:01:00', 0, 56, 78.07, 0, 31, '2024-01-06'), (22, '2024-01-15 12:44:00', 99, 62, 2.15, 0, 88, '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (23, '2024-01-05 12:45:00', 56, 19, 40.01, 0, 52, '2024-01-08'), (24, '2024-01-06 12:39:00', 95, 17, 42.86, 0, 96, '2024-01-07'), (25, '2024-01-05 12:38:00', 60, 22, 51.3, 0, 60, '2024-01-17');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (26, '2024-01-11 12:47:00', 60, 51, 7.5, 0, 16, '2024-01-17'), (27, '2024-01-04 12:11:00', 33, 61, 6.87, 0, 9, '2024-01-24'), (28, '2024-01-24 12:40:00', 40, 62, 31.05, 1, 84, '2024-01-22');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (29, '2024-01-24 12:38:00', 90, 74, 89.58, 0, 36, '2024-01-11'), (30, '2024-01-25 12:32:00', 95, 74, 85.57, 1, 93, '2024-01-03'), (31, '2024-01-17 12:41:00', 20, 22, 26.11, 1, 51, '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (32, '2024-01-12 12:52:00', 29, 31, 79.11, 0, 11, '2024-01-28'), (33, '2024-01-02 12:02:00', 59, 67, 41.35, 1, 28, '2024-01-14');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (34, '2024-01-25 12:53:00', 74, 6, 96.87, 0, 67, '2024-01-23'), (35, '2024-01-11 12:01:00', 46, 23, 64.08, 0, 57, '2024-01-11');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, '2024-01-08 12:18:00', 83, 28, 27.34, 1, 77, '2024-01-05');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, '2024-01-28 12:47:00', 62, 89, 31.53, 0, 30, '2024-01-06');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (38, '2024-01-04 12:10:00', 2, 18, 55.06, 0, 53, '2024-01-09');\nINSERT INTO t1 (id, c0, c1) VALUES (1, 34, 0), (2, 67, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (3, 93, 0), (4, 8, 1), (5, 65, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (6, 42, 1), (7, 62, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (8, 53, 0), (9, 27, 0), (10, 48, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (11, 74, 1), (12, 40, 1), (13, 32, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (14, 54, 0), (15, 30, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (16, 62, 1), (17, 21, 0), (18, 98, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (19, 22, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (20, 6, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (21, 20, 1), (22, 59, 1), (23, 24, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (24, 74, 0), (25, 40, 0), (26, 14, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (27, 81, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (28, 85, 1), (29, 3, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (30, 72, 0), (31, 77, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (32, 17, 0), (33, 7, 0), (34, 5, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (35, 44, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (36, 22, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (37, 10, 1), (38, 95, 1), (39, 23, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (40, 77, 1), (41, 71, 1), (42, 98, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (43, 54, 1), (44, 87, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (45, 53, 1);\nINSERT INTO t1 (id, c0, c1) VALUES (46, 60, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (39, '2024-01-07 12:06:00', 74, 79, 12.03, 0, 0, '2024-01-27');\nINSERT INTO t1 (id, c0, c1) VALUES (47, 27, 1), (48, 95, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, '2024-01-21 12:54:00', 10, 13, 17.87, 1, 70, '2024-01-03'), (41, '2024-01-19 12:18:00', 3, 51, 83.75, 1, 92, '2024-01-01');\nINSERT INTO t1 (id, c0, c1) VALUES (49, 45, 0), (50, 33, 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (1, 73, 9.48, '2024-01-26 08:09:00', '2024-01-28 12:53:00', '2024-01-07'), (2, 25, 81.7, '2024-01-14 08:39:00', '2024-01-14 12:45:00', '2024-01-18');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (3, 81, 89.63, '2024-01-08 08:40:00', '2024-01-26 12:43:00', '2024-01-21'), (4, 61, 40.44, '2024-01-21 08:47:00', '2024-01-04 12:34:00', '2024-01-26'), (5, 86, 89.05, '2024-01-08 08:27:00', '2024-01-03 12:35:00', '2024-01-04');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, '2024-01-24 12:51:00', 89, 17, 87.27, 0, 61, '2024-01-24'), (43, '2024-01-24 12:55:00', 98, 1, 3.78, 0, 57, '2024-01-16'), (44, '2024-01-01 12:20:00', 63, 89, 43.85, 0, 2, '2024-01-27');\nINSERT INTO t1 (id, c0, c1) VALUES (51, 62, 0);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (6, 54, 56.03, '2024-01-08 08:45:00', '2024-01-03 12:05:00', '2024-01-07'), (7, 6, 10.97, '2024-01-02 08:30:00', '2024-01-19 12:36:00', '2024-01-18');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (8, 74, 7.23, '2024-01-10 08:27:00', '2024-01-02 12:17:00', '2024-01-01');\nINSERT INTO t1 (id, c0, c1) VALUES (52, 90, 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (9, 56, 97.34, '2024-01-17 08:22:00', '2024-01-13 12:28:00', '2024-01-23');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (1, 26.51, '2024-01-14 08:28:00', '2024-01-18 08:08:00', 0, 52.84, 99);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (45, '2024-01-20 12:05:00', 20, 73, 97.58, 0, 85, '2024-01-20'), (46, '2024-01-02 12:14:00', 23, 87, 3.85, 1, 70, '2024-01-19');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (2, 40.8, '2024-01-05 08:55:00', '2024-01-17 08:13:00', 1, 1.32, 5), (3, 25.81, '2024-01-27 08:27:00', '2024-01-28 08:39:00', 0, 46.14, 81), (4, 86.1, '2024-01-27 08:36:00', '2024-01-21 08:11:00', 1, 53.59, 11);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (10, 26, 55.68, '2024-01-03 08:04:00', '2024-01-04 12:29:00', '2024-01-03'), (11, 45, 85.03, '2024-01-25 08:33:00', '2024-01-16 12:36:00', '2024-01-25');\nINSERT INTO t4 (id, c0, c1) VALUES (1, '2024-01-11 12:10:00', '2024-01-14 12:49:00');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (12, 40, 41.93, '2024-01-13 08:51:00', '2024-01-26 12:11:00', '2024-01-11'), (13, 79, 48.93, '2024-01-13 08:38:00', '2024-01-02 12:34:00', '2024-01-09');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (1, '2024-01-22 12:46:00', '2024-01-14 12:45:00', 11.78, 0), (2, '2024-01-18 12:21:00', '2024-01-26 12:21:00', 99.73, 1), (3, '2024-01-21 12:18:00', '2024-01-28 12:31:00', 25.25, 0);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (14, 53, 96.47, '2024-01-04 08:02:00', '2024-01-06 12:17:00', '2024-01-09'), (15, 20, 6.86, '2024-01-12 08:05:00', '2024-01-02 12:22:00', '2024-01-22'), (16, 5, 13.33, '2024-01-28 08:10:00', '2024-01-06 12:25:00', '2024-01-27');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (17, 93, 31.57, '2024-01-26 08:31:00', '2024-01-15 12:21:00', '2024-01-23'), (18, 78, 52.9, '2024-01-02 08:52:00', '2024-01-14 12:54:00', '2024-01-07');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (19, 98, 35.95, '2024-01-25 08:53:00', '2024-01-02 12:24:00', '2024-01-22'), (20, 85, 54.43, '2024-01-15 08:04:00', '2024-01-17 12:34:00', '2024-01-21'), (21, 99, 2.85, '2024-01-07 08:40:00', '2024-01-02 12:49:00', '2024-01-12');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (22, 8, 96.58, '2024-01-07 08:54:00', '2024-01-02 12:02:00', '2024-01-04'), (23, 56, 69.35, '2024-01-20 08:30:00', '2024-01-19 12:28:00', '2024-01-01');\nINSERT INTO t1 (id, c0, c1) VALUES (53, 99, 1), (54, 63, 0);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (5, 85.59, '2024-01-25 08:22:00', '2024-01-09 08:33:00', 1, 32.8, 47), (6, 40.6, '2024-01-06 08:52:00', '2024-01-17 08:13:00', 1, 7.04, 38), (7, 69.65, '2024-01-25 08:03:00', '2024-01-09 08:14:00', 1, 9.53, 25);\nINSERT INTO t1 (id, c0, c1) VALUES (55, 37, 0), (56, 12, 0);\nINSERT INTO t4 (id, c0, c1) VALUES (2, '2024-01-23 12:15:00', '2024-01-16 12:42:00');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (47, '2024-01-23 12:54:00', 81, 71, 39.9, 0, 40, '2024-01-28'), (48, '2024-01-01 12:37:00', 57, 21, 62.23, 1, 51, '2024-01-10');\nINSERT INTO t1 (id, c0, c1) VALUES (57, 93, 0);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (8, 18.74, '2024-01-22 08:54:00', '2024-01-28 08:09:00', 1, 17.72, 33), (9, 85.55, '2024-01-19 08:04:00', '2024-01-12 08:25:00', 0, 70.71, 31);\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (4, '2024-01-22 12:04:00', '2024-01-12 12:54:00', 92.88, 0);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (10, 9.63, '2024-01-18 08:40:00', '2024-01-26 08:22:00', 1, 37.49, 31);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (11, 77.47, '2024-01-08 08:33:00', '2024-01-26 08:33:00', 1, 11.76, 71);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (49, '2024-01-10 12:17:00', 1, 18, 24.44, 0, 89, '2024-01-21');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (5, '2024-01-07 12:38:00', '2024-01-01 12:08:00', 70.71, 1), (6, '2024-01-22 12:49:00', '2024-01-07 12:22:00', 85.44, 0);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (12, 3.67, '2024-01-09 08:06:00', '2024-01-05 08:46:00', 0, 34.95, 77), (13, 1.85, '2024-01-28 08:39:00', '2024-01-19 08:50:00', 1, 95.09, 48), (14, 13.58, '2024-01-24 08:21:00', '2024-01-08 08:12:00', 0, 69.79, 83);\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (15, 96.37, '2024-01-13 08:17:00', '2024-01-25 08:15:00', 0, 23.68, 77), (16, 48.21, '2024-01-09 08:56:00', '2024-01-06 08:21:00', 0, 65.17, 16), (17, 52.14, '2024-01-27 08:29:00', '2024-01-20 08:43:00', 0, 73.57, 31);\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (7, '2024-01-13 12:40:00', '2024-01-27 12:49:00', 95.87, 1), (8, '2024-01-06 12:18:00', '2024-01-19 12:39:00', 12.04, 0), (9, '2024-01-01 12:43:00', '2024-01-28 12:16:00', 52.88, 1);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (24, 15, 84.66, '2024-01-25 08:02:00', '2024-01-26 12:04:00', '2024-01-04');\nINSERT INTO t5 (id, c0, c1, c2, c3) VALUES (10, '2024-01-13 12:36:00', '2024-01-10 12:55:00', 12.15, 1), (11, '2024-01-03 12:19:00', '2024-01-06 12:10:00', 0.37, 0), (12, '2024-01-01 12:54:00', '2024-01-03 12:37:00', 50.75, 0);\nINSERT INTO t1 (id, c0, c1) VALUES (58, 87, 1), (59, 31, 0), (60, 71, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (50, '2024-01-27 12:01:00', 35, 69, 69.23, 0, 42, '2024-01-07'), (51, '2024-01-28 12:21:00', 55, 6, 32.78, 0, 75, '2024-01-14');\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (25, 24, 30.82, '2024-01-14 08:07:00', '2024-01-16 12:16:00', '2024-01-21'), (26, 35, 39.44, '2024-01-15 08:57:00', '2024-01-27 12:55:00', '2024-01-16');\nINSERT INTO t4 (id, c0, c1) VALUES (3, '2024-01-08 12:40:00', '2024-01-01 12:45:00'), (4, '2024-01-17 12:47:00', '2024-01-01 12:02:00'), (5, '2024-01-11 12:07:00', '2024-01-26 12:07:00');\nINSERT INTO t3 (id, c0, c1, c2, c3, c4, c5) VALUES (18, 65.3, '2024-01-07 08:27:00', '2024-01-16 08:18:00', 0, 10.99, 13), (19, 13.09, '2024-01-28 08:33:00', '2024-01-22 08:43:00', 1, 21.84, 20);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4) VALUES (27, 47, 37.89, '2024-01-21 08:07:00', '2024-01-12 12:11:00', '2024-01-06'), (28, 92, 17.93, '2024-01-26 08:39:00', '2024-01-02 12:33:00', '2024-01-18');\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (52, '2024-01-12 12:03:00', 39, 44, 63.9, 0, 70, '2024-01-08');\nINSERT INTO t4 (id, c0, c1) VALUES (6, '2024-01-12 12:19:00', '2024-01-12 12:30:00'), (7, '2024-01-07 12:38:00', '2024-01-19 12:19:00'), (8, '2024-01-15 12:49:00', '2024-01-04 12:36:00');\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` bigint DEFAULT NULL,\n  `c2` int NOT NULL,\n  `c3` decimal(12,2) DEFAULT NULL,\n  `c4` tinyint(1) NOT NULL,\n  `c5` bigint NOT NULL,\n  `c6` date NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c3_3` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 3;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` bigint DEFAULT NULL,\n  `c1` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0_0` (`c0`),\n  KEY `idx_id_1` (`id`),\n  KEY `idx_c1_2` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` bigint NOT NULL,\n  `c1` float NOT NULL,\n  `c2` timestamp NOT NULL,\n  `c3` datetime NOT NULL,\n  `c4` date DEFAULT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t3;\nCREATE TABLE `t3` (\n  `id` bigint NOT NULL,\n  `c0` float NOT NULL,\n  `c1` timestamp NOT NULL,\n  `c2` timestamp NULL DEFAULT NULL,\n  `c3` tinyint(1) DEFAULT NULL,\n  `c4` double NOT NULL,\n  `c5` bigint NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c2` (`c2`),\n  KEY `idx_c4` (`c4`),\n  KEY `idx_c5` (`c5`),\n  KEY `idx_c3_4` (`c3`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t4;\nCREATE TABLE `t4` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` datetime NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `fk_4` (`id`),\n  KEY `idx_c0_5` (`c0`),\n  CONSTRAINT `fk_4` FOREIGN KEY (`id`) REFERENCES `t5` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t5;\nCREATE TABLE `t5` (\n  `id` bigint NOT NULL,\n  `c0` datetime NOT NULL,\n  `c1` datetime NOT NULL,\n  `c2` float NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    },
    {
      "id": "case_0001_019be1ef-aea3-7e50-8fbd-3322e801fbf9",
      "dir": "reports/case_0001_019be1ef-aea3-7e50-8fbd-3322e801fbf9",
      "oracle": "NoREC",
      "timestamp": "2026-01-22T03:02:20+08:00",
      "tidb_version": "Release Version: v9.0.0-beta.2.pre-1098-g7607607dad\nEdition: Community\nGit Commit Hash: 7607607dad3a24957320badbd3587aceeb89b776\nGit Branch: HEAD\nUTC Build Time: 2026-01-21 04:29:33\nGoVersion: go1.25.6\nRace Enabled: false\nCheck Table Before Drop: false\nStore: tikv\nKernel Type: Classic",
      "tidb_commit": "7607607dad3a24957320badbd3587aceeb89b776",
      "plan_signature": "da02b884aae546638843e9df27ecdec39125805d",
      "plan_signature_format": "plain",
      "expected": "optimized count=1",
      "actual": "unoptimized count=18",
      "error": "",
      "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2 WHERE (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))) q",
      "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2",
      "norec_predicate": "(NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))",
      "sql": [
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2 WHERE (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))",
        "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT (CASE WHEN (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1))) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2"
      ],
      "plan_replayer": "reports/case_0001_019be1ef-aea3-7e50-8fbd-3322e801fbf9/plan_replayer.zip",
      "upload_location": "",
      "details": {
        "norec_optimized_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2 WHERE (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))) q",
        "norec_predicate": "(NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))",
        "norec_unoptimized_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2",
        "optimized_explain": "StreamAgg_34\t1.00\troot\t\tfuncs:count(1)->Column#38\n└─StreamAgg_40\t1.00\troot\t\tfuncs:count(1)->Column#46\n  └─HashJoin_114\t40.00\troot\t\tCARTESIAN inner join\n    ├─HashJoin_65(Build)\t2.00\troot\t\tright outer join, left side:Projection_71, equal:[eq(Column#40, Column#41)]\n    │ ├─Projection_75(Build)\t1.60\troot\t\tcast(shiro_fuzz.t0.c4, double BINARY)->Column#41\n    │ │ └─Selection_77\t1.60\troot\t\tnot(in(shiro_fuzz.t0.id, 1, 0))\n    │ │   └─Limit_79\t2.00\troot\t\toffset:0, count:2\n    │ │     └─TableReader_86\t2.00\troot\tpartition:all\tdata:Limit_85\n    │ │       └─Limit_85\t2.00\tcop[tikv]\t\toffset:0, count:2\n    │ │         └─Selection_84\t2.00\tcop[tikv]\t\tne(shiro_fuzz.t0.c3, 2024-01-15 12:55:00.000000), not(in(shiro_fuzz.t0.c5, 37.63, 51.98))\n    │ │           └─TableFullScan_83\t7.84\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n    │ └─Projection_71(Probe)\t10000.00\troot\t\tcast(shiro_fuzz.t0.c2, double BINARY)->Column#40\n    │   └─TableReader_74\t10000.00\troot\tpartition:all\tdata:TableFullScan_73\n    │     └─TableFullScan_73\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n    └─IndexReader_57(Probe)\t20.00\troot\t\tindex:IndexRangeScan_56\n      └─IndexRangeScan_56\t20.00\tcop[tikv]\ttable:t2, index:idx_c3(c3)\trange:[0,0], [1,1], keep order:false, stats:pseudo\n",
        "replay_actual_sql": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT IFNULL(SUM(CASE WHEN (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1))) THEN 1 ELSE 0 END),0) FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2",
        "replay_expected_sql": "SELECT COUNT(*) FROM (WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2 WHERE (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)))) q",
        "replay_kind": "count",
        "unoptimized_explain": "Projection_23\t1.00\troot\t\tifnull(Column#36, 0)->Column#37\n└─HashAgg_27\t1.00\troot\t\tfuncs:sum(Column#45)->Column#36\n  └─Projection_113\t25000.00\troot\t\tcast(case(and(not(in(shiro_fuzz.t0.id, 1, 0)), in(shiro_fuzz.t2.c3, 0, 1)), 1, 0), decimal(20,0) BINARY)->Column#45\n    └─HashJoin_47\t25000.00\troot\t\tCARTESIAN inner join\n      ├─HashJoin_58(Build)\t2.50\troot\t\tright outer join, left side:Projection_62, equal:[eq(Column#39, Column#40)]\n      │ ├─Projection_66(Build)\t2.00\troot\t\tshiro_fuzz.t0.id, cast(shiro_fuzz.t0.c4, double BINARY)->Column#40\n      │ │ └─Limit_68\t2.00\troot\t\toffset:0, count:2\n      │ │   └─TableReader_75\t2.00\troot\tpartition:all\tdata:Limit_74\n      │ │     └─Limit_74\t2.00\tcop[tikv]\t\toffset:0, count:2\n      │ │       └─Selection_73\t2.00\tcop[tikv]\t\tne(shiro_fuzz.t0.c3, 2024-01-15 12:55:00.000000), not(in(shiro_fuzz.t0.c5, 37.63, 51.98))\n      │ │         └─TableFullScan_72\t7.84\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      │ └─Projection_62(Probe)\t10000.00\troot\t\tcast(shiro_fuzz.t0.c2, double BINARY)->Column#39\n      │   └─TableReader_65\t10000.00\troot\tpartition:all\tdata:TableFullScan_64\n      │     └─TableFullScan_64\t10000.00\tcop[tikv]\ttable:t0\tkeep order:false, stats:pseudo\n      └─IndexReader_91(Probe)\t10000.00\troot\t\tindex:IndexFullScan_90\n        └─IndexFullScan_90\t10000.00\tcop[tikv]\ttable:t2, index:idx_c3(c3)\tkeep order:false, stats:pseudo\n"
      },
      "files": {
        "case.sql": {
          "name": "case.sql",
          "content": "WITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT COUNT(1) AS cnt, SUM(t0.c1) AS sum1 FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2 WHERE (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1)));\nWITH cte_0 AS (SELECT t0.id AS c0, t0.c5 AS c1, t0.c4 AS c2 FROM t0 WHERE ((t0.c3 != '2024-01-15 12:55:00') AND NOT (t0.c5 IN (37.63, 51.98))) LIMIT 2) SELECT (CASE WHEN (NOT (cte_0.c0 IN (1, 0)) AND (t2.c3 IN (0, 1))) THEN 1 ELSE 0 END) AS b FROM t0 RIGHT JOIN cte_0 USING (c2) CROSS JOIN t2;\n",
          "truncated": false
        },
        "data.tsv": {
          "name": "data.tsv",
          "content": "-- t0\n3\t0\t31.26\t2024-01-01\t2024-01-22 12:36:00\t0\t18.04\t54.68\n7\t0\t13.06\t2024-01-01\t2024-01-22 12:41:00\t0\t81.04\t88.95\n11\t1\t21.65\t2024-01-01\t2024-01-08 12:41:00\t0\t21.5\t24.61\n15\t1\t65.04\t2024-01-01\t2024-01-09 12:06:00\t1\t18.1\t67.54\n19\t0\t70.97\t2024-01-01\t2024-01-03 12:49:00\t1\t77.41\t61.79\n23\t1\t79.22\t2024-01-01\t2024-01-23 12:01:00\t1\t66.78\t51.69\n27\t1\t78.62\t2024-01-01\t2024-01-23 12:56:00\t1\t40.66\t32.19\n31\t1\t88.37\t2024-01-01\t2024-01-14 12:08:00\t0\t2.81\t57.85\n35\t1\t49.50\t2024-01-01\t2024-01-22 12:07:00\t0\t98.31\t50.99\n39\t0\t61.18\t2024-01-01\t2024-01-03 12:34:00\t0\t18.89\t20.86\n43\t0\t62.19\t2024-01-01\t2024-01-17 12:30:00\t1\t8.82\t65.35\n47\t1\t4.86\t2024-01-17\t2024-01-02 12:37:00\t0\t65.15\t85.14\n4\t1\t63.30\t2024-01-01\t2024-01-02 12:52:00\t0\t48.76\t4.66\n8\t1\t65.96\t2024-01-01\t2024-01-03 12:10:00\t1\t93.33\t36.49\n12\t1\t83.83\t2024-01-01\t2024-01-26 12:38:00\t1\t6.07\t6.28\n16\t1\t11.28\t2024-01-01\t2024-01-19 12:02:00\t0\t8.43\t28.00\n20\t1\t17.41\t2024-01-01\t2024-01-23 12:38:00\t0\t22.65\t50.40\n24\t1\t75.88\t2024-01-01\t2024-01-01 12:48:00\t0\t38.03\t2.22\n28\t1\t57.27\t2024-01-01\t2024-01-23 12:20:00\t0\t73.48\t75.78\n32\t0\t13.41\t2024-01-01\t2024-01-23 12:18:00\t0\t25.72\t37.57\n36\t0\t58.94\t2024-01-01\t2024-01-16 12:34:00\t1\t33.66\t76.12\n40\t0\t75.31\t2024-01-01\t2024-01-14 12:34:00\t0\t74.71\t18.56\n44\t0\t98.75\t2024-01-01\t2024-01-05 12:45:00\t0\t30.4\t19.85\n48\t0\t57.54\t2024-01-25\t2024-01-09 12:00:00\t1\t9.06\t95.62\n2\t0\t55.73\t2024-01-01\t2024-01-03 12:39:00\t1\t49.46\t56.74\n6\t1\t17.28\t2024-01-01\t2024-01-22 12:20:00\t0\t59.52\t97.06\n10\t0\t84.40\t2024-01-01\t2024-01-21 12:25:00\t0\t79.89\t4.03\n14\t1\t2.28\t2024-01-01\t2024-01-05 12:29:00\t0\t55.39\t91.14\n18\t0\t48.43\t2024-01-01\t2024-01-22 12:13:00\t0\t12.63\t74.96\n22\t0\t92.42\t2024-01-01\t2024-01-17 12:15:00\t1\t89.95\t80.44\n26\t1\t31.48\t2024-01-01\t2024-01-25 12:07:00\t1\t62.71\t90.98\n30\t1\t57.42\t2024-01-01\t2024-01-25 12:15:00\t1\t40.98\t93.34\n38\t0\t21.35\t2024-01-01\t2024-01-28 12:13:00\t0\t98.53\t5.09\n42\t0\t21.71\t2024-01-01\t2024-01-28 12:49:00\t0\t15.39\t76.02\n46\t1\t18.61\t2024-01-04\t2024-01-17 12:37:00\t0\t48.38\t40.92\n1\t1\t8.64\t2024-01-01\t2024-01-26 12:40:00\t1\t49.93\t31.07\n5\t0\t70.12\t2024-01-01\t2024-01-15 12:55:00\t0\t88.37\t29.98\n9\t0\t72.70\t2024-01-01\t2024-01-20 12:17:00\t0\t23.3\t89.12\n13\t0\t46.93\t2024-01-01\t2024-01-24 12:00:00\t1\t88.58\t71.05\n17\t0\t30.74\t2024-01-01\t2024-01-10 12:17:00\t0\t95.34\t48.68\n21\t0\t69.88\t2024-01-01\t2024-01-20 12:15:00\t1\t33.24\t76.37\n25\t1\t49.22\t2024-01-01\t2024-01-18 12:48:00\t1\t28.03\t38.81\n29\t0\t93.00\t2024-01-01\t2024-01-27 12:32:00\t0\t44.65\t9.15\n33\t0\t0.97\t2024-01-01\t2024-01-21 12:04:00\t1\t12.92\t13.19\n37\t1\t52.34\t2024-01-01\t2024-01-17 12:12:00\t1\t91.53\t95.96\n41\t1\t64.66\t2024-01-01\t2024-01-07 12:05:00\t0\t17.41\t61.58\n45\t0\t85.74\t2024-01-01\t2024-01-25 12:44:00\t0\t70.09\t8.95\n\n-- t1\n1\ts1\t78.85\t1\n2\ts67\t37.84\t1\n3\ts67\t47.93\t0\n4\ts67\t50.87\t1\n5\ts67\t38.33\t0\n6\ts67\t45.41\t1\n7\ts67\t14.33\t0\n8\ts67\t78.29\t0\n9\ts67\t69.71\t0\n10\ts67\t74.66\t0\n11\ts67\t47.43\t0\n12\ts67\t46.44\t0\n13\ts67\t5.44\t0\n14\ts67\t33.81\t1\n15\ts16\t48.46\t0\n16\ts67\t31.81\t1\n17\ts67\t57.26\t1\n18\ts67\t41.10\t1\n19\ts67\t35.07\t0\n20\ts67\t48.86\t0\n21\ts67\t8.80\t0\n22\ts67\t99.25\t1\n23\ts67\t69.23\t1\n24\ts67\t86.37\t0\n25\ts6\t0.69\t1\n26\ts67\t83.61\t0\n27\ts67\t55.77\t1\n28\ts67\t81.76\t0\n29\ts67\t7.21\t1\n30\ts67\t31.99\t0\n31\ts67\t31.88\t1\n32\ts67\t28.42\t1\n33\ts67\t69.28\t0\n34\ts67\t73.20\t1\n35\ts67\t43.83\t1\n36\ts67\t60.48\t0\n37\ts67\t89.08\t1\n38\ts67\t7.47\t1\n39\ts67\t41.17\t0\n40\ts67\t93.83\t0\n41\ts67\t94.96\t1\n42\ts67\t20.29\t0\n\n-- t2\n1\t63.20\t48.82\t67.86\t0\t57.28\t2024-01-18 12:16:00\t84.55\n2\t99.96\t23.9\t27.87\t1\t97.99\t2024-01-10 12:09:00\t22.09\n3\t17.31\t77.11\t49.88\t1\t49.15\t2024-01-18 12:27:00\t38.73\n4\t51.27\t71.68\t56.77\t0\t95.22\t2024-01-25 12:03:00\t80.70\n5\t66.17\t7.73\t78.91\t1\t41.04\t2024-01-05 12:32:00\t61.73\n6\t68.25\t69.69\t38.96\t0\t50.05\t2024-01-04 12:16:00\t13.83\n7\t88.96\t87.83\t36.61\t0\t84.08\t2024-01-21 12:45:00\t91.78\n8\t78.44\t6.57\t65.99\t1\t42.66\t2024-01-03 12:22:00\t79.05\n9\t31.04\t88.44\t4.84\t0\t92.01\t2024-01-12 12:31:00\t75.66\n\n",
          "truncated": false
        },
        "inserts.sql": {
          "name": "inserts.sql",
          "content": "INSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 1, 8.64, '2024-01-27', '2024-01-26 12:40:00', 1, 49.93, 31.07), (2, 0, 55.73, '2024-01-04', '2024-01-03 12:39:00', 1, 49.46, 56.74), (3, 0, 31.26, '2024-01-25', '2024-01-22 12:36:00', 0, 18.04, 54.68);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 1, 63.3, '2024-01-24', '2024-01-02 12:52:00', 0, 48.76, 4.66);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (5, 0, 70.12, '2024-01-02', '2024-01-15 12:55:00', 0, 88.37, 29.98), (6, 1, 17.28, '2024-01-16', '2024-01-22 12:20:00', 0, 59.52, 97.06);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 0, 13.06, '2024-01-09', '2024-01-22 12:41:00', 0, 81.04, 88.95), (8, 1, 65.96, '2024-01-24', '2024-01-03 12:10:00', 1, 93.33, 36.49);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (9, 0, 72.7, '2024-01-14', '2024-01-20 12:17:00', 0, 23.3, 89.12), (10, 0, 84.4, '2024-01-26', '2024-01-21 12:25:00', 0, 79.89, 4.03), (11, 1, 21.65, '2024-01-14', '2024-01-08 12:41:00', 0, 21.5, 24.61);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (12, 1, 83.83, '2024-01-10', '2024-01-26 12:38:00', 1, 6.07, 6.28);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (13, 0, 46.93, '2024-01-19', '2024-01-24 12:00:00', 1, 88.58, 71.05), (14, 1, 2.28, '2024-01-25', '2024-01-05 12:29:00', 0, 55.39, 91.14), (15, 1, 65.04, '2024-01-25', '2024-01-09 12:06:00', 1, 18.1, 67.54);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (16, 1, 11.28, '2024-01-25', '2024-01-19 12:02:00', 0, 8.43, 28);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (17, 0, 30.74, '2024-01-11', '2024-01-10 12:17:00', 0, 95.34, 48.68);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (18, 0, 48.43, '2024-01-09', '2024-01-22 12:13:00', 0, 12.63, 74.96);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (19, 0, 70.97, '2024-01-08', '2024-01-03 12:49:00', 1, 77.41, 61.79), (20, 1, 17.41, '2024-01-05', '2024-01-23 12:38:00', 0, 22.65, 50.4), (21, 0, 69.88, '2024-01-14', '2024-01-20 12:15:00', 1, 33.24, 76.37);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (22, 0, 92.42, '2024-01-23', '2024-01-17 12:15:00', 1, 89.95, 80.44);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (23, 1, 79.22, '2024-01-18', '2024-01-23 12:01:00', 1, 66.78, 51.69), (24, 1, 75.88, '2024-01-08', '2024-01-01 12:48:00', 0, 38.03, 2.22);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (25, 1, 49.22, '2024-01-28', '2024-01-18 12:48:00', 1, 28.03, 38.81), (26, 1, 31.48, '2024-01-03', '2024-01-25 12:07:00', 1, 62.71, 90.98), (27, 1, 78.62, '2024-01-22', '2024-01-23 12:56:00', 1, 40.66, 32.19);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (28, 1, 57.27, '2024-01-25', '2024-01-23 12:20:00', 0, 73.48, 75.78), (29, 0, 93, '2024-01-26', '2024-01-27 12:32:00', 0, 44.65, 9.15), (30, 1, 57.42, '2024-01-22', '2024-01-25 12:15:00', 1, 40.98, 93.34);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (31, 1, 88.37, '2024-01-02', '2024-01-14 12:08:00', 0, 2.81, 57.85), (32, 0, 13.41, '2024-01-23', '2024-01-23 12:18:00', 0, 25.72, 37.57), (33, 0, 0.97, '2024-01-22', '2024-01-21 12:04:00', 1, 12.92, 13.19);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (34, 1, 0.22, '2024-01-06', '2024-01-06 12:06:00', 1, 15.92, 90.77), (35, 1, 49.5, '2024-01-06', '2024-01-22 12:07:00', 0, 98.31, 50.99);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (36, 0, 58.94, '2024-01-06', '2024-01-16 12:34:00', 1, 33.66, 76.12);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (37, 1, 52.34, '2024-01-08', '2024-01-17 12:12:00', 1, 91.53, 95.96), (38, 0, 21.35, '2024-01-16', '2024-01-28 12:13:00', 0, 98.53, 5.09), (39, 0, 61.18, '2024-01-14', '2024-01-03 12:34:00', 0, 18.89, 20.86);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (40, 0, 75.31, '2024-01-07', '2024-01-14 12:34:00', 0, 74.71, 18.56), (41, 1, 64.66, '2024-01-07', '2024-01-07 12:05:00', 0, 17.41, 61.58);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (1, 's1', 78.85, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (2, 's9', 37.84, 1), (3, 's41', 47.93, 0), (4, 's73', 50.87, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (5, 's81', 38.33, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (6, 's85', 45.41, 1), (7, 's47', 14.33, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (8, 's31', 78.29, 0), (9, 's30', 69.71, 0), (10, 's3', 74.66, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (11, 's81', 47.43, 0), (12, 's52', 46.44, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (13, 's56', 5.44, 0), (14, 's63', 33.81, 1), (15, 's16', 48.46, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (16, 's48', 31.81, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (17, 's4', 57.26, 1), (18, 's54', 41.1, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (19, 's6', 35.07, 0), (20, 's41', 48.86, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (21, 's75', 8.8, 0), (22, 's41', 99.25, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (23, 's88', 69.23, 1), (24, 's32', 86.37, 0), (25, 's6', 0.69, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (26, 's73', 83.61, 0), (27, 's33', 54.77, 1), (28, 's63', 80.76, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (29, 's90', 6.21, 1), (30, 's29', 30.99, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (31, 's96', 30.88, 1), (32, 's7', 27.42, 1), (33, 's70', 68.28, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (34, 's77', 72.2, 1), (35, 's49', 42.83, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (36, 's77', 59.48, 0);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (37, 's59', 88.08, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (38, 's76', 6.47, 1);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (39, 's89', 40.17, 0), (40, 's50', 92.83, 0);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (1, 63.2, 48.82, 67.86, 0, 57.28, '2024-01-18 12:16:00', 84.55);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (2, 99.96, 23.9, 27.87, 1, 97.99, '2024-01-10 12:09:00', 22.09), (3, 17.31, 77.11, 49.88, 1, 49.15, '2024-01-18 12:27:00', 38.73);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (4, 51.27, 71.68, 56.77, 0, 95.22, '2024-01-25 12:03:00', 80.7), (5, 66.17, 7.73, 78.91, 1, 41.04, '2024-01-05 12:32:00', 61.73), (6, 68.25, 69.69, 38.96, 0, 50.05, '2024-01-04 12:16:00', 13.83);\nINSERT INTO t1 (id, c0, c1, c2) VALUES (41, 's66', 94.96, 1), (42, 's36', 20.29, 0);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (42, 0, 21.71, '2024-01-14', '2024-01-28 12:49:00', 0, 15.39, 76.02), (43, 0, 62.19, '2024-01-07', '2024-01-17 12:30:00', 1, 8.82, 65.35);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (44, 0, 98.75, '2024-01-17', '2024-01-05 12:45:00', 0, 30.4, 19.85), (45, 0, 85.74, '2024-01-13', '2024-01-25 12:44:00', 0, 70.09, 8.95);\nINSERT INTO t0 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (46, 1, 18.61, '2024-01-04', '2024-01-17 12:37:00', 0, 48.38, 40.92), (47, 1, 4.86, '2024-01-17', '2024-01-02 12:37:00', 0, 65.15, 85.14), (48, 0, 57.54, '2024-01-25', '2024-01-09 12:00:00', 1, 9.06, 95.62);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (7, 88.96, 87.83, 36.61, 0, 84.08, '2024-01-21 12:45:00', 91.78);\nINSERT INTO t2 (id, c0, c1, c2, c3, c4, c5, c6) VALUES (8, 78.44, 6.57, 65.99, 1, 42.66, '2024-01-03 12:22:00', 79.05), (9, 31.04, 88.44, 4.84, 0, 92.01, '2024-01-12 12:31:00', 75.66);\n",
          "truncated": false
        },
        "plan_replayer.zip": {
          "name": "plan_replayer.zip",
          "content": "(binary)",
          "truncated": true
        },
        "schema.sql": {
          "name": "schema.sql",
          "content": "SET FOREIGN_KEY_CHECKS=0;\nDROP TABLE IF EXISTS t0;\nCREATE TABLE `t0` (\n  `id` bigint NOT NULL,\n  `c0` tinyint(1) NOT NULL,\n  `c1` decimal(12,2) DEFAULT NULL,\n  `c2` date NOT NULL,\n  `c3` datetime NOT NULL,\n  `c4` tinyint(1) NOT NULL,\n  `c5` double NOT NULL,\n  `c6` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin\nPARTITION BY HASH (`id`) PARTITIONS 4;\n\nDROP TABLE IF EXISTS t1;\nCREATE TABLE `t1` (\n  `id` bigint NOT NULL,\n  `c0` varchar(64) DEFAULT NULL,\n  `c1` decimal(12,2) NOT NULL,\n  `c2` tinyint(1) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c0` (`c0`),\n  KEY `idx_c1` (`c1`),\n  KEY `idx_id_0` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nDROP TABLE IF EXISTS t2;\nCREATE TABLE `t2` (\n  `id` bigint NOT NULL,\n  `c0` decimal(12,2) NOT NULL,\n  `c1` float NOT NULL,\n  `c2` float NOT NULL,\n  `c3` tinyint(1) NOT NULL,\n  `c4` float DEFAULT NULL,\n  `c5` datetime NOT NULL,\n  `c6` decimal(12,2) NOT NULL,\n  PRIMARY KEY (`id`) /*T![clustered_index] CLUSTERED */,\n  KEY `idx_c1` (`c1`),\n  KEY `idx_c3` (`c3`),\n  KEY `idx_c5` (`c5`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;\n\nSET FOREIGN_KEY_CHECKS=1;\n",
          "truncated": false
        }
      }
    }
  ]
}
